<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bad Trip Mode | PLURderapolis</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto&display=swap" rel="stylesheet">
<style>
body { margin:0; padding:1rem; font-family:'Roboto',sans-serif; background:#1c0028; color:#eee; line-height:1.6; -webkit-font-smoothing:antialiased; }
h1,h2 { font-family:'Montserrat',sans-serif; margin:1rem 0; text-align:center; }
h1 { font-size:2rem; color:#ff6ec7; text-shadow:0 0 8px #ff6ec7aa; }
h2 { background:#2a0040; color:#00f7e0; padding:0.8rem; border-radius:8px; cursor:pointer; box-shadow:0 0 10px #00f7e055; transition:background 0.3s; }
h2:hover { background:#3a0055; }
.collapsible-content { display:none; padding:1rem; margin:0.5rem 0 1rem; background:#2a0040; border-radius:8px; box-shadow:0 0 15px #00000055; }
.collapsible-content.open { display:block; }
.top-controls { display:flex; justify-content:center; gap:1rem; margin:1rem 0; flex-wrap:wrap; }
.mode-btn { background:#00f7e0; color:#1c0028; font-family:'Montserrat',sans-serif; font-weight:600; border:none; border-radius:25px; padding:0.6rem 1rem; cursor:pointer; box-shadow:0 0 8px #00f7e0aa; transition:background 0.3s ease; }
.mode-btn:hover { background:#00d6c7; }
body.safe-mode { background:#111; color:#fff; }
body.safe-mode h2 { background:#222; color:#fff; box-shadow:none; }
body.safe-mode .collapsible-content { display:block !important; background:#111; box-shadow:none; }
body.safe-mode audio { display:none !important; }
.breathing-container { display:flex; justify-content:center; align-items:center; margin:1rem 0; flex-direction:column; gap:1rem; }
.breathing-shape { width:120px; height:120px; border-radius:50%; background:radial-gradient(circle,#ff6ec7 20%,#2a0040 90%); box-shadow:0 0 20px #ff6ec7aa; animation:breathe 8s infinite; }
@keyframes breathe {0%{transform:scale(1);opacity:0.7;}40%{transform:scale(1.4);opacity:1;}60%{transform:scale(1.4);opacity:1;}100%{transform:scale(1);opacity:0.7;}}
.square { border-radius:12px; background:#00f7e0; animation:squareBreathe 8s infinite; }
@keyframes squareBreathe {0%{transform:scale(1);opacity:0.7;}50%{transform:scale(1.3);opacity:1;}100%{transform:scale(1);opacity:0.7;}}
.wave { border-radius:50% 50% 50% 50%; background:linear-gradient(90deg,#ff6ec7,#00f7e0); animation:waveBreathe 8s infinite; }
@keyframes waveBreathe {0%{transform:scaleY(1);}50%{transform:scaleY(1.5);}100%{transform:scaleY(1);}}
.breath-options { display:flex; justify-content:center; gap:1rem; flex-wrap:wrap; margin-bottom:1rem; }
.breath-btn { padding:0.5rem 1rem; border-radius:25px; border:none; font-weight:600; cursor:pointer; background:#00f7e0; color:#1c0028; box-shadow:0 0 8px #00f7e0aa; }
.breath-btn:hover { background:#00d6c7; }
.audio-btn, .mantra-btn, .timer-btn, .resource-btn { display:block; width:100%; margin:0.3rem 0; padding:0.6rem 1rem; font-family:'Montserrat',sans-serif; font-weight:600; border:none; border-radius:25px; cursor:pointer; text-align:center; }
.audio-btn { background:#00f7e0; color:#1c0028; box-shadow:0 0 8px #00f7e0aa; }
.audio-btn:hover { background:#00d6c7; }
.mantra-btn { background:#ff6ec7; color:#1c0028; box-shadow:0 0 8px #ff6ec7aa; }
.mantra-btn:hover { background:#ff49b2; }
.timer-btn { background:#00f7e0; color:#1c0028; box-shadow:0 0 8px #00f7e0aa; }
.timer-btn:hover { background:#00d6c7; }
.resource-btn { background:#ff6ec7; color:#1c0028; box-shadow:0 0 8px #ff6ec7aa; text-decoration:none; }
.resource-btn:hover { background:#ff49b2; }
.timer-display { font-size:2rem; font-weight:700; text-align:center; color:#ff6ec7; margin:1rem 0; text-shadow:0 0 8px #ff6ec7aa; }
#progressContainer { width:100%; background:#222; border-radius:8px; height:12px; margin:1rem 0; }
#progressBar { width:0%; height:100%; background:#ff6ec7; border-radius:8px; transition:width 0.5s ease; }
footer { text-align:center; color:#aaa; margin:2rem 0 1rem; font-size:0.85rem; }
@media (max-width:480px){.breathing-shape{width:80px;height:80px;}.timer-display{font-size:1.5rem;}}
</style>
</head>
<body>
<header>
<h1>üçë Bad Trip Guide</h1>
<div class="top-controls">
  <button class="mode-btn" id="toggleSafe">Sensory Safe Mode</button>
  <button class="mode-btn" id="guidedMode">Guided Start</button>
  <button class="mode-btn" id="modularMode">Modular Mode</button>
</div>
<div id="progressContainer"><div id="progressBar"></div></div>
</header>

<main id="guideContent">

<!-- Breathing -->
<section class="step-section">
<h2 tabindex="0" role="button" aria-expanded="false" aria-controls="breathing">üí® Breathing Exercise</h2>
<div id="breathing" class="collapsible-content">
<div class="breath-options">
  <button class="breath-btn" data-shape="breathing-shape">Circle</button>
  <button class="breath-btn" data-shape="square">Square</button>
  <button class="breath-btn" data-shape="wave">Wave</button>
</div>
<div class="breathing-container">
  <div id="breathShape" class="breathing-shape"></div>
</div>
</div>
</section>

<!-- Grounding -->
<section class="step-section">
<h2 tabindex="0" role="button" aria-expanded="false" aria-controls="grounding">üå¨Ô∏è Ground Yourself</h2>
<div id="grounding" class="collapsible-content">
<p>Try the 5-4-3-2-1 grounding technique:</p>
<ul>
<li><strong>5 things</strong> you can see</li>
<li><strong>4 things</strong> you can touch</li>
<li><strong>3 things</strong> you can hear</li>
<li><strong>2 things</strong> you can smell</li>
<li><strong>1 thing</strong> you can taste</li>
</ul>
</div>
</section>

<!-- Soothing Sounds -->
<section class="step-section">
<h2 tabindex="0" role="button" aria-expanded="false" aria-controls="sounds">üé∂ Soothing Sounds</h2>
<div id="sounds" class="collapsible-content">
<p>Click a button to play/pause a sound. Only one sound plays at a time.</p>
<div class="audio-controls">
<button class="audio-btn" data-sound="whiteNoise">White Noise</button>
<button class="audio-btn" data-sound="ocean">Ocean Waves</button>
<button class="audio-btn" data-sound="rain">Rain / Thunder</button>
<button class="audio-btn" data-sound="forest">Forest / Birds</button>
<button class="audio-btn" id="stopAll">Stop All</button>
</div>
<audio id="whiteNoise" loop src="https://cdn.pixabay.com/download/audio/2021/09/09/audio_9c5b5b9b4a.mp3?filename=white-noise-ambient-110351.mp3"></audio>
<audio id="ocean" loop src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_1774b82618.mp3?filename=ocean-waves-108554.mp3"></audio>
<audio id="rain" loop src="https://cdn.pixabay.com/download/audio/2021/09/07/audio_2792e7a5a0.mp3?filename=rain-ambient-108802.mp3"></audio>
<audio id="forest" loop src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_620e7b4e8b.mp3?filename=forest-ambience-120189.mp3"></audio>
</section>
