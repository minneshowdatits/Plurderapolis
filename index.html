<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PLURderapolis üçë | Minnesota Rave Harm Reduction</title>
  <style>
    /* Reset & base */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f7f9;
      color: #3a0f4c;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    a {
      color: #c752a6;
      text-decoration: none;
    }
    a:hover, a:focus {
      color: #a6358c;
      outline: none;
      text-decoration: underline;
    }
    h1, h2, h3 {
      margin: 0 0 0.5rem 0;
      font-weight: 700;
    }
    h1 {
      font-size: 2.4rem;
      color: #a6358c;
    }
    h2 {
      font-size: 1.8rem;
      color: #6a2a70;
    }
    h3 {
      font-size: 1.4rem;
      color: #8b3e9f;
    }
    p {
      line-height: 1.5;
      font-weight: 500;
    }
    button {
      background-color: #c752a6;
      border: none;
      color: white;
      font-weight: 700;
      padding: 0.6rem 1.2rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      min-width: 140px;
    }
    button:hover,
    button:focus {
      background-color: #a6358c;
      outline: none;
    }
    /* Navigation */
    header {
      background-color: #f0e6f1;
      position: sticky;
      top: 0;
      z-index: 10050;
      border-bottom: 2px solid #c752a6;
      user-select: none;
    }
    nav.main-nav {
      max-width: 960px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.4rem 1rem;
    }
    .site-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: #a6358c;
      user-select: none;
    }
    .nav-menu {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 1.2rem;
    }
    .nav-menu > li {
      position: relative;
    }
    .nav-menu > li > a {
      font-weight: 600;
      color: #6a2a70;
      padding: 0.4rem 0.6rem;
      display: inline-block;
    }
    .nav-menu > li > a:hover,
    .nav-menu > li > a:focus {
      background-color: #c752a6;
      color: white;
      border-radius: 4px;
      outline: none;
    }
    /* Dropdown menus */
    .dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: #f0e6f1;
      border: 1px solid #c752a6;
      border-radius: 6px;
      min-width: 200px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: none;
      flex-direction: column;
      z-index: 10100;
    }
    .dropdown a {
      padding: 0.5rem 1rem;
      color: #6a2a70;
      font-weight: 600;
    }
    .dropdown a:hover,
    .dropdown a:focus {
      background-color: #a6358c;
      color: white;
      outline: none;
    }
    .nav-menu > li:focus-within > .dropdown,
    .nav-menu > li:hover > .dropdown {
      display: flex;
    }
    /* Real-time marquee */
    #local-marquee {
      background-color: #e5d7ea;
      color: #6a2a70;
      font-weight: 700;
      padding: 0.3rem 1rem;
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
      user-select: text;
      border-bottom: 2px solid #c752a6;
    }
    #local-marquee span {
      display: inline-block;
      padding-right: 4rem;
      animation: marquee 20s linear infinite;
    }
    #local-marquee:hover span,
    #local-marquee:focus-within span {
      animation-play-state: paused;
    }
    @keyframes marquee {
      0% { transform: translateX(100%) }
      100% { transform: translateX(-100%) }
    }
    /* Main content */
    main {
      max-width: 900px;
      margin: 1rem auto 4rem auto;
      padding: 0 1rem;
    }
    section {
      margin-bottom: 2rem;
      padding: 1rem 1.2rem;
      background: #f6f0f7;
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(103, 31, 113, 0.15);
    }
    section > h2 {
      margin-bottom: 0.8rem;
      cursor: pointer;
      user-select: none;
    }
    /* Collapsible content */
    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.35s ease;
      margin-top: 0.6rem;
    }
    .collapsible-content.open {
      max-height: 1000px; /* big enough */
    }
    /* Floating peach panic button */
    #peach-panic-btn {
      position: fixed;
      bottom: 1.2rem;
      right: 1.2rem;
      background: #c752a6;
      border: none;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      font-size: 2.4rem;
      color: white;
      cursor: grab;
      box-shadow: 0 4px 10px rgba(199, 82, 166, 0.7);
      user-select: none;
      z-index: 10100;
      display: flex;
      justify-content: center;
      align-items: center;
      touch-action: none;
    }
    #peach-panic-btn:active {
      cursor: grabbing;
    }
    /* Quick access bar bottom */
    #quick-access {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #f0e6f1;
      display: flex;
      justify-content: space-around;
      border-top: 2px solid #c752a6;
      padding: 0.4rem 0;
      z-index: 10090;
      user-select: none;
    }
    #quick-access a {
      flex: 1;
      text-align: center;
      color: #6a2a70;
      font-size: 1.6rem;
      padding: 0.3rem 0;
      transition: color 0.3s ease, text-shadow 0.3s ease;
      text-decoration: none;
    }
    #quick-access a:hover,
    #quick-access a:focus {
      color: #c752a6;
      text-shadow: 0 0 6px #c752a6;
      outline: none;
    }
    /* Responsive nav menu toggle */
    .nav-toggle {
      display: none;
      position: relative;
      width: 32px;
      height: 24px;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
      z-index: 10200;
    }
    .nav-toggle span {
      height: 3px;
      background-color: #6a2a70;
      border-radius: 2px;
      transition: all 0.3s ease;
    }
    @media (max-width: 768px) {
      nav.main-nav {
        flex-wrap: wrap;
        justify-content: space-between;
      }
      .nav-menu {
        display: none;
        flex-direction: column;
        width: 100%;
        margin-top: 0.5rem;
        border-top: 1px solid #c752a6;
      }
      .nav-menu.open {
        display: flex;
      }
      .nav-menu > li {
        margin: 0.3rem 0;
      }
      .nav-toggle {
        display: flex;
      }
      .nav-menu > li > .dropdown {
        position: static;
        border: none;
        box-shadow: none;
        background: transparent;
        padding-left: 1.2rem;
      }
    }
    /* Legal footer */
    footer {
      text-align: center;
      font-size: 0.85rem;
      color: #5e3b6d;
      background: #f0e6f1;
      padding: 1rem;
      border-top: 2px solid #c752a6;
      user-select: text;
    }
  </style>
</head>
<body>
  <header>
  <nav class="main-nav" role="navigation" aria-label="Main navigation">
    <div class="site-title" tabindex="0">PLURderapolis üçë</div>
    <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="nav-menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <ul class="nav-menu" id="nav-menu">
      <li>
        <a href="#">Home</a>
      </li>
      <li>
        <a href="#" aria-haspopup="true" aria-expanded="false">Raver Health ‚ñæ</a>
        <div class="dropdown" role="menu" aria-label="Raver Health submenu">
          <a href="rejection-violence.html" role="menuitem" tabindex="-1">Rejection-based Violence</a>
          <a href="consent-accountability.html" role="menuitem" tabindex="-1">Consent & Accountability</a>
          <a href="sober-ravers.html" role="menuitem" tabindex="-1">Sober Ravers</a>
          <a href="spotting-fake-pills.html" role="menuitem" tabindex="-1">Spotting Fake Pills</a>
          <a href="drink-spiking.html" role="menuitem" tabindex="-1">Drink Spiking</a>
          <a href="bad-trip.html" role="menuitem" tabindex="-1">Bad Trip Help</a>
        </div>
      </li>
      <li>
        <a href="#" aria-haspopup="true" aria-expanded="false">Emergency ‚ñæ</a>
        <div class="dropdown" role="menu" aria-label="Emergency submenu">
          <a href="#panic-info" role="menuitem" tabindex="-1">Panic Button Info</a>
          <a href="emergency-response.html" role="menuitem" tabindex="-1">Emergency Response</a>
          <a href="how-to-use.html" role="menuitem" tabindex="-1">How to Use This Site</a>
        </div>
      </li>
      <li>
        <a href="polydrug.html">Polydrug Interaction Tool</a>
      </li>
      <li>
        <a href="mn-resources.html">MN Resources</a>
      </li>
    </ul>
  </nav>
  <div id="local-marquee" aria-live="polite" aria-atomic="true" tabindex="0">
    <span>
      üéâ Upcoming MN Festivals & Raves ‚Ä¢ Stay Safe & Informed ‚Ä¢ Check for Fake Pills ‚Ä¢ Call 911 for Emergencies ‚Ä¢ Use PLURderapolis Resources ‚Ä¢ üçë Panic Button Always Ready
    </span>
  </div>
</header>

<script>
  // Nav toggle script for mobile
  const navToggle = document.querySelector('.nav-toggle');
  const navMenu = document.getElementById('nav-menu');

  navToggle.addEventListener('click', () => {
    const expanded = navToggle.getAttribute('aria-expanded') === 'true';
    navToggle.setAttribute('aria-expanded', !expanded);
    navMenu.classList.toggle('open');
  });

  // Accessibility: toggle dropdown aria-expanded on focus/hover
  const navItems = document.querySelectorAll('.nav-menu > li > a[aria-haspopup="true"]');
  navItems.forEach(item => {
    item.addEventListener('focus', () => {
      item.setAttribute('aria-expanded', 'true');
    });
    item.addEventListener('blur', () => {
      item.setAttribute('aria-expanded', 'false');
    });
    item.addEventListener('mouseover', () => {
      item.setAttribute('aria-expanded', 'true');
    });
    item.addEventListener('mouseout', () => {
      item.setAttribute('aria-expanded', 'false');
    });
  });
</script>
<main role="main" tabindex="-1">
  <!-- Panic Button Info -->
  <section id="panic-info" tabindex="0" aria-label="Peach Panic Button Information">
    <h2>üçë Peach Panic Button</h2>
    <p>This floating button is your quick lifeline. Tap it anytime to access vital panic info, emergency contacts, and harm reduction resources.</p>
    <p><strong>Swipe</strong> the button along the screen corner to avoid interference, but keep it handy.</p>
    <a href="#panic-button" class="button-link">Use Panic Button Now</a>
  </section>

  <!-- Polydrug Interaction Tool -->
  <section id="polydrug-tool" tabindex="0" aria-label="Polydrug Interaction Tool Preview">
    <h2>Polydrug Interaction Tool</h2>
    <p>Worried about mixing substances? Use our comprehensive interaction checker to stay safe and informed.</p>
    <a href="polydrug.html" class="button-link">Go to Full Polydrug Tool</a>
  </section>

  <!-- Bad Trip Help -->
  <section id="bad-trip" tabindex="0" aria-label="Bad Trip Mode Preview">
    <h2>Bad Trip Mode</h2>
    <p>Feeling overwhelmed? Activate our calming Bad Trip Mode for soothing visuals and guidance to ground yourself.</p>
    <a href="badtrip.html" class="button-link">Activate Bad Trip Mode</a>
  </section>

  <!-- Emergency Response -->
  <section id="emergency-response" tabindex="0" aria-label="Emergency Response Guidance">
    <h2>Emergency Response</h2>
    <p>Know what to do when seconds count. Our emergency response section provides clear steps to help save lives.</p>
    <a href="emergency-response.html" class="button-link">Learn More</a>
  </section>

  <!-- How to Use This Site -->
  <section id="how-to-use" tabindex="0" aria-label="How to Use PLURderapolis">
    <h2>How to Use PLURderapolis</h2>
    <p>Browse scene alerts to stay updated on local risks. Check our polydrug tool before mixing. Use Bad Trip Mode when anxious. Access Panic Button info for emergencies. Explore resources for sober support and spotting fake pills. Safety first.</p>
    <ul>
      <li><a href="scenealerts.html">Scene Alerts</a></li>
      <li><a href="polydrug.html">Polydrug Interaction Tool</a></li>
      <li><a href="badtrip.html">Bad Trip Mode</a></li>
      <li><a href="#panic-info">Peach Panic Button Info</a></li>
      <li><a href="sober-ravers.html">Sober Ravers</a></li>
      <li><a href="spotting-fake-pills.html">Spotting Fake Pills</a></li>
      <li><a href="drink-spiking.html">Drink Spiking</a></li>
    </ul>
  </section>
</main>
<!-- Swipeable Floating Peach Panic Button -->
<button id="peach-panic-btn" aria-label="Peach Panic Button" title="Peach Panic üçë" role="button">üçë</button>

<!-- Sticky Bottom Quick Access Bar -->
<nav id="quick-access" aria-label="Quick Access Navigation">
  <a href="#peach-panic-btn" aria-label="Peach Panic Button">üçë</a>
  <a href="resources.html" aria-label="Harm Reduction Resources">üíä</a>
  <a href="badtrip.html" aria-label="Bad Trip Mode">üß†</a>
  <a href="polydrug.html" aria-label="Polydrug Interaction Tool">üîÄ</a>
  <a href="rejection-violence.html" aria-label="Rejection Based Violence">‚úã</a>
  <a href="raver-health.html" aria-label="Raver Health">‚ù§Ô∏è</a>
</nav>

<!-- Footer with Legal Disclaimer -->
<footer role="contentinfo" style="text-align:center; padding:1rem; font-size:0.85rem; color:#555; background:#f0f0f0; border-top: 1px solid #ccc;">
  <p>¬© 2025 PLURderapolis. This website provides harm reduction information and is not a substitute for professional medical advice. In emergencies, call 911 immediately. Use this site responsibly.</p>
</footer>

<script>
  // Swipeable Peach Panic Button logic
  const peachBtn = document.getElementById('peach-panic-btn');
  let isDragging = false;
  let startX, startY, origX, origY;

  peachBtn.style.position = 'fixed';
  peachBtn.style.bottom = '5rem';
  peachBtn.style.right = '1rem';
  peachBtn.style.width = '56px';
  peachBtn.style.height = '56px';
  peachBtn.style.borderRadius = '50%';
  peachBtn.style.fontSize = '2rem';
  peachBtn.style.backgroundColor = '#ff6ec7';
  peachBtn.style.color = '#fff';
  peachBtn.style.border = 'none';
  peachBtn.style.cursor = 'grab';
  peachBtn.style.zIndex = '10020';
  peachBtn.style.display = 'flex';
  peachBtn.style.justifyContent = 'center';
  peachBtn.style.alignItems = 'center';
  peachBtn.style.userSelect = 'none';
  peachBtn.style.boxShadow = '0 0 10px #ff6ec7';

  peachBtn.addEventListener('mousedown', startDrag);
  peachBtn.addEventListener('touchstart', startDrag, {passive:true});

  function startDrag(e) {
    e.preventDefault();
    isDragging = true;
    startX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
    startY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;
    const rect = peachBtn.getBoundingClientRect();
    origX = rect.right;
    origY = rect.bottom;
    document.addEventListener('mousemove', drag);
    document.addEventListener('touchmove', drag, {passive:true});
    document.addEventListener('mouseup', stopDrag);
    document.addEventListener('touchend', stopDrag);
  }

  function drag(e) {
    if (!isDragging) return;
    const currentX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
    const currentY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;
    const dx = startX - currentX;
    const dy = startY - currentY;
    let newRight = origX + dx;
    let newBottom = origY + dy;

    // Keep within viewport bounds (approximate)
    newRight = Math.min(window.innerWidth - 28, Math.max(10, newRight));
    newBottom = Math.min(window.innerHeight - 28, Math.max(10, newBottom));

    peachBtn.style.right = newRight + 'px';
    peachBtn.style.bottom = newBottom + 'px';
  }

  function stopDrag() {
    if (!isDragging) return;
    isDragging = false;
    document.removeEventListener('mousemove', drag);
    document.removeEventListener('touchmove', drag);
    document.removeEventListener('mouseup', stopDrag);
    document.removeEventListener('touchend', stopDrag);
  }

  peachBtn.addEventListener('click', () => {
    alert('Peach Panic activated! Reach out to your crew or emergency services if needed.');
  });

  // Accessibility: focus style
  peachBtn.addEventListener('focus', () => {
    peachBtn.style.outline = '3px solid #ff6ec7';
  });
  peachBtn.addEventListener('blur', () => {
    peachBtn.style.outline = 'none';
  });
</script>
  <footer role="contentinfo" style="background:#fff0f5; color:#994466; text-align:center; padding:1rem; font-size:0.85rem; border-top:1px solid #cc3366; user-select:none;">
    <p><strong>Legal Disclaimer:</strong> PLURderapolis provides harm reduction information for educational purposes only. We do not endorse or encourage drug use. In an emergency, call 911 immediately. Use all substances responsibly and at your own risk. Information is updated regularly but may not be exhaustive. Always seek professional medical advice when needed.</p>
    <p>¬© 2025 PLURderapolis. All rights reserved.</p>
  </footer>
</body>
</html>
