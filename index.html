<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLURderapolis ‚Äî Harm Reduction for Minnesota Ravers</title>
    <meta name="description" content="Minnesota's premier harm reduction resource for the electronic music community. Find Narcan, emergency guides, drug safety tools, and support.">
    <meta name="keywords" content="harm reduction, Minnesota, rave, electronic music, drug safety, overdose prevention, Narcan, Naloxone, PLUR, Minneapolis, St. Paul, fentanyl, xylazine, Good Samaritan Law">
    <meta name="author" content="PLURderapolis">
    
    <!-- Open Graph / Social Meta -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://plurderapolis.org/">
    <meta property="og:title" content="PLURderapolis ‚Äî Harm Reduction for Minnesota Ravers">
    <meta property="og:description" content="Your partners in shine. Find Narcan, emergency guides, and tools for safer nightlife in Minnesota.">
    <meta property="og:image" content="https://plurderapolis.org/images/social-preview.jpg">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="PLURderapolis ‚Äî Harm Reduction for Minnesota Ravers">
    <meta property="twitter:description" content="Your partners in shine. Find Narcan, emergency guides, and tools for safer nightlife in Minnesota.">
    <meta property="twitter:image" content="https://plurderapolis.org/images/social-preview.jpg">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "PLURderapolis",
        "description": "Harm reduction resource for Minnesota's electronic music community",
        "url": "https://plurderapolis.org",
        "logo": "https://plurderapolis.org/images/logo.png",
        "sameAs": [
            "https://www.instagram.com/plurderapolis",
            "https://www.facebook.com/plurderapolis"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "email": "plurderapolis@gmail.com",
            "contactType": "Customer service"
        }
    }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçë</text></svg>">
    
    <!-- Fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Inter:wght@300;400;500;600;700&display=swap">
    </noscript>
    
    <style>
        /* ========== CSS RESET & ROOT VARIABLES ========== */
        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }
        
        :root {
            /* New Color Palette */
            --electric-periwinkle: #8A82FF;
            --neon-aqua: #00F0FF;
            --deep-violet: #1A0B3D;
            --holo-pink: #FF69F0;
            --body-light: #E3E0FF;
            --charcoal-grey: #1E1E2E;
            --rave-purple: #6A11CB;
            --psychedelic-blue: #2575FC;
            --glow-green: #00F7E0;
            --warning-orange: #FF9500;
            --danger-red: #FF4757;
            --success-green: #00C896;

            /* Typography */
            --font-heading: 'Montserrat', sans-serif;
            --font-body: 'Inter', sans-serif;

            /* Spacing & Effects */
            --border-radius: 16px;
            --border-radius-sm: 8px;
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bouncy: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --shadow-subtle: 0 8px 32px rgba(0, 0, 0, 0.4);
            --shadow-glow: 0 0 30px rgba(138, 130, 255, 0.6);
            --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.2);
            --shadow-inset: inset 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }
        
        body {
            font-family: var(--font-body);
            background: linear-gradient(135deg, var(--deep-violet) 0%, #0c0633 100%);
            color: var(--body-light);
            line-height: 1.7;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* ========== ANIMATED BACKGROUND ========== */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .bg-gradient {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(138, 130, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 240, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 105, 240, 0.08) 0%, transparent 60%),
                linear-gradient(180deg, rgba(26, 11, 61, 0) 0%, rgba(26, 11, 61, 1) 100%);
            animation: gradientShift 20s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--neon-aqua);
            border-radius: 50%;
            animation: floatParticle 15s linear infinite;
        }

        @keyframes floatParticle {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* ========== TYPOGRAPHY ========== */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: clamp(3rem, 8vw, 4.5rem);
            background: linear-gradient(135deg, var(--electric-periwinkle), var(--holo-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 4px 30px rgba(138, 130, 255, 0.3);
            margin-bottom: 0.5rem;
        }

        h2 {
            font-size: clamp(2rem, 5vw, 3rem);
            color: var(--electric-periwinkle);
            position: relative;
            display: inline-block;
            margin-bottom: 2rem;
        }

        h2:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--neon-aqua), transparent);
            border-radius: 2px;
        }

        h3 {
            font-size: clamp(1.5rem, 4vw, 2rem);
            color: var(--neon-aqua);
            margin-bottom: 1rem;
        }

        h4 {
            font-size: 1.25rem;
            color: var(--body-light);
            font-weight: 600;
        }

        p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }

        .lead {
            font-size: 1.3rem;
            font-weight: 300;
            opacity: 0.95;
        }

        .text-small {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .text-micro {
            font-size: 0.75rem;
            opacity: 0.6;
        }

        a {
            color: var(--neon-aqua);
            text-decoration: none;
            transition: var(--transition-smooth);
            position: relative;
        }

        a:hover {
            color: var(--holo-pink);
        }

        /* ========== LAYOUT & CONTAINERS ========== */
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        .container-narrow {
            max-width: 900px;
        }

        section {
            padding: 5rem 0;
            position: relative;
        }

        section:nth-child(even) {
            background: rgba(30, 30, 46, 0.2);
        }

        /* ========== HEADER & NAVIGATION ========== */
        .main-header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(26, 11, 61, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(138, 130, 255, 0.2);
            padding: 1rem 0;
            transition: var(--transition-smooth);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
        }

        .logo-emoji {
            font-size: 2.5rem;
            filter: drop-shadow(0 0 10px rgba(255, 105, 240, 0.5));
        }

        .logo-text {
            font-family: var(--font-heading);
            font-weight: 800;
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--electric-periwinkle), var(--holo-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            color: var(--body-light);
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius-sm);
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
        }

        .nav-link:before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: var(--neon-aqua);
            transition: var(--transition-smooth);
            transform: translateX(-50%);
        }

        .nav-link:hover {
            background: rgba(138, 130, 255, 0.1);
            color: var(--neon-aqua);
        }

        .nav-link:hover:before {
            width: 80%;
        }

        .mobile-nav-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--neon-aqua);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* ========== HERO SECTION ========== */
        .hero {
            padding: 8rem 0 6rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(138, 130, 255, 0.1) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            z-index: -1;
        }

        .hero-tagline {
            font-size: 1.5rem;
            color: var(--neon-aqua);
            margin-bottom: 2rem;
            font-weight: 500;
            letter-spacing: 0.05em;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        /* ========== BUTTONS ========== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            border-radius: var(--border-radius);
            font-family: var(--font-heading);
            font-weight: 700;
            font-size: 1rem;
            text-decoration: none;
            transition: var(--transition-bouncy);
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .btn:hover:before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--electric-periwinkle), var(--holo-pink));
            color: white;
            box-shadow: var(--shadow-glow);
        }

        .btn-primary:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(138, 130, 255, 0.4);
        }

        .btn-secondary {
            background: rgba(138, 130, 255, 0.1);
            color: var(--neon-aqua);
            border: 2px solid var(--electric-periwinkle);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(138, 130, 255, 0.2);
            transform: translateY(-5px);
        }

        .btn-danger {
            background: linear-gradient(135deg, #FF3366, var(--holo-pink));
            color: white;
            animation: pulse 2s infinite;
        }

        .btn-outline {
            background: transparent;
            color: var(--neon-aqua);
            border: 2px solid var(--neon-aqua);
        }

        .btn-outline:hover {
            background: rgba(0, 240, 255, 0.1);
            transform: translateY(-3px);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 105, 240, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 105, 240, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 105, 240, 0); }
        }

        /* ========== CARDS ========== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .card {
            background: linear-gradient(145deg, rgba(30, 30, 46, 0.8), rgba(20, 20, 36, 0.9));
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 2rem;
            border: 1px solid rgba(138, 130, 255, 0.2);
            transition: var(--transition-bouncy);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--electric-periwinkle), var(--holo-pink));
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-glow);
            border-color: rgba(138, 130, 255, 0.5);
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 0 10px currentColor);
        }

        .card-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--neon-aqua);
        }

        .card-content {
            flex: 1;
            margin-bottom: 1.5rem;
        }

        .card-footer {
            margin-top: auto;
        }

        /* ========== FEATURED SECTIONS ========== */
        .featured-section {
            background: linear-gradient(135deg, rgba(138, 130, 255, 0.1), rgba(0, 240, 255, 0.05));
            border-radius: var(--border-radius);
            padding: 3rem;
            margin: 3rem 0;
            border: 1px solid rgba(138, 130, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .featured-section:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.03) 50%, transparent 70%);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* ========== EMERGENCY ALERT ========== */
        .emergency-alert {
            background: linear-gradient(90deg, 
                rgba(255, 71, 87, 0.2) 0%,
                rgba(255, 105, 240, 0.3) 50%,
                rgba(255, 71, 87, 0.2) 100%);
            border: 1px solid rgba(255, 71, 87, 0.5);
            border-radius: var(--border-radius-sm);
            padding: 1rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .alert-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: alertPulse 2s infinite;
        }

        @keyframes alertPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.9; }
        }

        /* ========== PAGE INDEX ========== */
        .page-index {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }

        .page-category {
            background: rgba(30, 30, 46, 0.5);
            border-radius: var(--border-radius);
            padding: 2rem;
            border: 1px solid rgba(138, 130, 255, 0.2);
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            color: var(--neon-aqua);
        }

        .page-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .page-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            background: rgba(42, 15, 84, 0.3);
            border-radius: var(--border-radius-sm);
            color: var(--body-light);
            text-decoration: none;
            transition: var(--transition-smooth);
            border-left: 3px solid var(--neon-aqua);
        }

        .page-link:hover {
            background: rgba(42, 15, 84, 0.6);
            transform: translateX(5px);
            border-left-color: var(--holo-pink);
        }

        .page-link-icon {
            font-size: 1.2rem;
        }

        /* ========== RESOURCE HIGHLIGHTS ========== */
        .resource-highlight {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .resource-item {
            text-align: center;
            padding: 2rem;
            background: rgba(30, 30, 46, 0.5);
            border-radius: var(--border-radius);
            border: 1px solid rgba(138, 130, 255, 0.2);
            transition: var(--transition-smooth);
        }

        .resource-item:hover {
            transform: translateY(-5px);
            border-color: var(--neon-aqua);
            box-shadow: var(--shadow-glow);
        }

        .resource-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 0 15px currentColor);
        }

        /* ========== TIMER WIDGET ========== */
        .timer-container {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(138, 130, 255, 0.1));
            border-radius: var(--border-radius);
            padding: 2rem;
            margin: 3rem 0;
            border: 1px solid var(--neon-aqua);
        }

        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 3rem;
            font-weight: bold;
            text-align: center;
            color: var(--neon-aqua);
            margin: 2rem 0;
            text-shadow: 0 0 20px rgba(0, 240, 255, 0.5);
        }

        .timer-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* ========== FOOTER ========== */
        .main-footer {
            background: rgba(10, 5, 30, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(138, 130, 255, 0.2);
            padding: 4rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-section h4 {
            color: var(--electric-periwinkle);
            margin-bottom: 1.5rem;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .footer-links a {
            color: var(--body-light);
            opacity: 0.8;
            transition: var(--transition-smooth);
        }

        .footer-links a:hover {
            opacity: 1;
            color: var(--neon-aqua);
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(138, 130, 255, 0.1);
            border-radius: var(--border-radius-sm);
            color: var(--body-light);
            text-decoration: none;
            transition: var(--transition-smooth);
        }

        .social-link:hover {
            background: var(--electric-periwinkle);
            color: var(--deep-violet);
            transform: translateY(-3px);
        }

        .legal-disclaimer {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid rgba(255, 71, 87, 0.3);
            border-radius: var(--border-radius-sm);
            padding: 1.5rem;
            margin: 2rem 0;
            font-size: 0.9rem;
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(138, 130, 255, 0.2);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* ========== PANIC PEACH ========== */
        .panic-peach {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
            cursor: move;
            touch-action: none;
        }

        .panic-button {
            width: 70px;
            height: 70px;
            background: radial-gradient(circle at 30% 30%, #FFD166, #FF6B95);
            border-radius: 50% 50% 45% 55% / 60% 55% 45% 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            cursor: pointer;
            box-shadow: 
                0 0 30px var(--holo-pink),
                0 0 60px rgba(255, 105, 240, 0.3);
            animation: float 6s ease-in-out infinite;
            position: relative;
            user-select: none;
        }

        .panic-button:before {
            content: "";
            position: absolute;
            top: -10px;
            left: 25px;
            width: 18px;
            height: 15px;
            background: linear-gradient(135deg, #FF9A7A, #FF7A5A);
            border-radius: 50%;
            transform: rotate(-20deg);
        }

        .panic-button:hover {
            animation: none;
            transform: scale(1.15);
            box-shadow: 
                0 0 40px var(--holo-pink),
                0 0 80px rgba(255, 105, 240, 0.5);
        }

        .panic-label {
            color: #FF9A7A;
            font-weight: bold;
            text-align: center;
            margin-top: 8px;
            font-size: 0.9rem;
            text-shadow: 0 0 8px rgba(255, 154, 122, 0.7);
            animation: blink 3s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* ========== MOBILE HUD ========== */
        .mobile-hud {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(20, 15, 40, 0.95);
            backdrop-filter: blur(20px);
            display: none;
            justify-content: space-around;
            padding: 0.75rem 0;
            z-index: 998;
            border-top: 1px solid var(--electric-periwinkle);
        }

        .hud-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--body-light);
            text-decoration: none;
            padding: 0.5rem;
            font-size: 0.75rem;
            transition: var(--transition-smooth);
            border-radius: var(--border-radius-sm);
        }

        .hud-button:hover {
            background: rgba(138, 130, 255, 0.2);
            color: var(--neon-aqua);
        }

        .hud-icon {
            font-size: 1.25rem;
            margin-bottom: 0.25rem;
        }

        /* ========== MODALS ========== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal-content {
            background: var(--charcoal-grey);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid var(--neon-aqua);
            box-shadow: var(--shadow-glow);
            position: relative;
            animation: modalSlideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes modalSlideIn {
            from { 
                opacity: 0; 
                transform: translateY(-50px) scale(0.9); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--neon-aqua);
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition-smooth);
        }

        .close-modal:hover {
            background: rgba(0, 240, 255, 0.2);
            transform: rotate(90deg);
        }

        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 1200px) {
            .container {
                padding: 0 1.5rem;
            }
            
            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 992px) {
            section {
                padding: 4rem 0;
            }
            
            .nav-links {
                display: none;
            }
            
            .mobile-nav-toggle {
                display: block;
            }
            
            .mobile-hud {
                display: flex;
            }
            
            .panic-peach {
                bottom: 80px;
                right: 20px;
            }
            
            .panic-button {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 6rem 0 4rem;
            }
            
            h1 {
                font-size: clamp(2.5rem, 6vw, 3.5rem);
            }
            
            h2 {
                font-size: clamp(1.75rem, 4vw, 2.5rem);
            }
            
            .card-grid {
                grid-template-columns: 1fr;
            }
            
            .featured-section {
                padding: 2rem;
            }
            
            .timer-display {
                font-size: 2.5rem;
            }
            
            .hero-cta {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }
            
            section {
                padding: 3rem 0;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .featured-section {
                padding: 1.5rem;
            }
            
            .modal-content {
                padding: 1.5rem;
            }
            
            .panic-peach {
                bottom: 70px;
                right: 15px;
            }
        }

        /* ========== UTILITY CLASSES ========== */
        .text-center { text-align: center; }
        .mt-1 { margin-top: 1rem; }
        .mt-2 { margin-top: 2rem; }
        .mt-3 { margin-top: 3rem; }
        .mb-1 { margin-bottom: 1rem; }
        .mb-2 { margin-bottom: 2rem; }
        .mb-3 { margin-bottom: 3rem; }
        .py-3 { padding-top: 3rem; padding-bottom: 3rem; }
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-background">
        <div class="bg-gradient"></div>
        <div class="particles" id="particles"></div>
    </div>

    <!-- Skip to Content -->
    <a href="#main-content" class="visually-hidden">Skip to main content</a>

    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <span class="logo-emoji">üçë</span>
                    <span class="logo-text">PLURderapolis</span>
                </a>
                
                <nav class="nav-links">
                    <a href="#emergency" class="nav-link">üö® Emergency</a>
                    <a href="#resources" class="nav-link">üìö Resources</a>
                    <a href="#drug-info" class="nav-link">üî¨ Drug Info</a>
                    <a href="#consent" class="nav-link">ü§ù Consent</a>
                    <a href="#local" class="nav-link">üìç Local</a>
                    <a href="#support" class="nav-link">üíñ Support</a>
                </nav>
                
                <button class="mobile-nav-toggle" aria-label="Toggle navigation">
                    <span>‚ò∞</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="main-content">
        <div class="container container-narrow">
            <h1>PLURderapolis</h1>
            <p class="hero-tagline">Harm Reduction for Minnesota Ravers</p>
            <p class="lead">Your partners in shine. Safer nightlife through education, resources, and community care. Serving the Twin Cities and beyond with evidence-based harm reduction.</p>
            
            <div class="hero-cta">
                <a href="#emergency" class="btn btn-primary">üö® Emergency Tools</a>
                <a href="#narcan" class="btn btn-secondary">üíä Find Narcan</a>
                <a href="#support" class="btn btn-danger">üíñ Support Our Work</a>
            </div>
        </div>
    </section>

    <!-- Emergency Alert -->
    <div class="container">
        <div class="emergency-alert">
            <div class="alert-content">
                <span>üö®</span>
                <div>
                    <strong>URGENT ALERT:</strong> Minnesota Good Samaritan Law protects you when calling 911 for an overdose. Never hesitate to call for help.
                </div>
            </div>
        </div>
    </div>

    <!-- Emergency Tools Section -->
    <section id="emergency">
        <div class="container">
            <h2>üö® Emergency Tools & Resources</h2>
            <p class="lead">Immediate access to life-saving information and resources. Every second counts.</p>
            
            <div class="card-grid">
                <div class="card">
                    <div class="card-icon">üö®</div>
                    <h3 class="card-title">Panic Button & Emergency Modal</h3>
                    <div class="card-content">
                        <p>Instant access to emergency protocols, 911 guidance, and overdose response steps. Includes Minnesota Good Samaritan Law information.</p>
                        <ul>
                            <li>One-click emergency access</li>
                            <li>Step-by-step overdose response</li>
                            <li>Local emergency contacts</li>
                            <li>Mobile-optimized for quick access</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="panic.html" class="btn btn-primary">Access Panic Button</a>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-icon">üÜò</div>
                    <h3 class="card-title">Emergency Guides</h3>
                    <div class="card-content">
                        <p>Comprehensive guides for various emergency situations including overdose response, heat stroke, seizures, and bad trips.</p>
                        <ul>
                            <li>Overdose response checklist</li>
                            <li>Recovery position instructions</li>
                            <li>Bad trip grounding exercises</li>
                            <li>Seizure first aid</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="emergency.html" class="btn btn-primary">View Emergency Guides</a>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-icon">üíä</div>
                    <h3 class="card-title" id="narcan">Narcan & Overdose Response</h3>
                    <div class="card-content">
                        <p><strong>Naloxone (Narcan¬Æ)</strong> is a lifesaving drug that can reverse an opioid overdose in minutes. Anyone should have it on hand.</p>
                        <ul>
                            <li>Where to find free Narcan in MN</li>
                            <li>How to administer Narcan</li>
                            <li>Overdose recognition signs</li>
                            <li>MN Good Samaritan Law info</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary" onclick="showNarcanModal()">Learn About Narcan</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Drug Information Section -->
    <section id="drug-info" style="background: rgba(30, 30, 46, 0.3);">
        <div class="container">
            <h2>üî¨ Drug Information & Safety</h2>
            <p class="lead">Evidence-based information about substance safety, interactions, and harm reduction strategies.</p>
            
            <div class="page-index">
                <div class="page-category">
                    <h3 class="category-title">‚ö° Drug Interaction Tools</h3>
                    <div class="page-links">
                        <a href="polydrug.html" class="page-link">
                            <span class="page-link-icon">‚ö°</span>
                            <span>Polydrug Interaction Tool</span>
                        </a>
                        <a href="rx-combos.html" class="page-link">
                            <span class="page-link-icon">üíä</span>
                            <span>RX + Party Drug Combos</span>
                        </a>
                        <a href="symptoms.html" class="page-link">
                            <span class="page-link-icon">ü§í</span>
                            <span>Symptom Checker</span>
                        </a>
                    </div>
                </div>
                
                <div class="page-category">
                    <h3 class="category-title">‚ö†Ô∏è Substance Safety</h3>
                    <div class="page-links">
                        <a href="fake.html" class="page-link">
                            <span class="page-link-icon">‚ö†Ô∏è</span>
                            <span>Fake Drugs & Alerts</span>
                        </a>
                        <a href="health.html" class="page-link">
                            <span class="page-link-icon">üíö</span>
                            <span>Raver Health Guide</span>
                        </a>
                        <a href="spiking.html" class="page-link">
                            <span class="page-link-icon">üö´</span>
                            <span>Drink Spiking Prevention</span>
                        </a>
                    </div>
                </div>
                
                <div class="page-category">
                    <h3 class="category-title">üåà Mental Health Support</h3>
                    <div class="page-links">
                        <a href="badtrip.html" class="page-link">
                            <span class="page-link-icon">üåà</span>
                            <span>Bad Trip Support</span>
                        </a>
                        <a href="sober.html" class="page-link">
                            <span class="page-link-icon">üö´</span>
                            <span>Sober Ravers Resources</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Consent & Community Section -->
    <section id="consent">
        <div class="container">
            <h2>ü§ù Consent & Community Safety</h2>
            <p class="lead">Creating safer spaces through education, accountability, and violence prevention.</p>
            
            <div class="featured-section">
                <h3>Building Safer Communities</h3>
                <p>We believe that harm reduction extends beyond substance safety to include consent education, boundary setting, and community accountability.</p>
                
                <div class="resource-highlight">
                    <div class="resource-item">
                        <div class="resource-icon">‚úÖ</div>
                        <h4>Consent Basics</h4>
                        <p>Understanding and practicing consent in nightlife and festival environments.</p>
                        <a href="consent.html" class="btn btn-outline">Learn More</a>
                    </div>
                    
                    <div class="resource-item">
                        <div class="resource-icon">üõ°Ô∏è</div>
                        <h4>Violence Prevention</h4>
                        <p>Strategies for preventing rejection-based violence and creating safer spaces.</p>
                        <a href="rejection-based-violence.html" class="btn btn-outline">Learn More</a>
                    </div>
                    
                    <div class="resource-item">
                        <div class="resource-icon">‚öñÔ∏è</div>
                        <h4>Accountability</h4>
                        <p>Community accountability processes and restorative justice approaches.</p>
                        <a href="accountability.html" class="btn btn-outline">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Local Scene Section -->
    <section id="local" style="background: rgba(30, 30, 46, 0.3);">
        <div class="container">
            <h2>üìç Minnesota Local Scene</h2>
            <p class="lead">Resources and information specific to Minnesota's electronic music community.</p>
            
            <div class="card-grid">
                <div class="card">
                    <div class="card-icon">üè¢</div>
                    <h3 class="card-title">Venue Safety Guide</h3>
                    <div class="card-content">
                        <p>Comprehensive guide to Minnesota venues with safety information, harm reduction resources, and accessibility details.</p>
                        <ul>
                            <li>Minneapolis venues</li>
                            <li>St. Paul venues</li>
                            <li>Festival information</li>
                            <li>Safety ratings</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="venues-guide.html" class="btn btn-primary">View Venue Guide</a>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-icon">üéâ</div>
                    <h3 class="card-title">Our Harm Reduction Booth</h3>
                    <div class="card-content">
                        <p>Find our harm reduction booth at events across Minnesota. We provide free Narcan, test strips, resources, and support.</p>
                        <ul>
                            <li>Event schedule</li>
                            <li>Booth locations</li>
                            <li>Available resources</li>
                            <li>Volunteer opportunities</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="booth.html" class="btn btn-primary">See Booth Schedule</a>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-icon">üåÉ</div>
                    <h3 class="card-title">Rideshare & Travel Safety</h3>
                    <div class="card-content">
                        <p>Safety tips for using rideshares and traveling safely in Minnesota nightlife.</p>
                        <ul>
                            <li>Rideshare safety tips</li>
                            <li>Designated driver resources</li>
                            <li>Public transportation info</li>
                            <li>Nightlife travel safety</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="ride-safety.html" class="btn btn-primary">Travel Safety Tips</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Resources Section -->
    <section id="resources">
        <div class="container">
            <h2>üìö Comprehensive Resources</h2>
            <p class="lead">All the harm reduction resources you need in one place.</p>
            
            <div class="page-index">
                <div class="page-category">
                    <h3 class="category-title">üß≠ Navigation & Tools</h3>
                    <div class="page-links">
                        <a href="resources.html" class="page-link">
                            <span class="page-link-icon">üìö</span>
                            <span>MN Resources Directory</span>
                        </a>
                        <a href="seasonal-tips.html" class="page-link">
                            <span class="page-link-icon">üåû</span>
                            <span>Seasonal Safety Tips</span>
                        </a>
                        <a href="legal-disclaimers-terms.html" class="page-link">
                            <span class="page-link-icon">‚öñÔ∏è</span>
                            <span>Legal Disclaimers & Terms</span>
                        </a>
                    </div>
                </div>
                
                <div class="page-category">
                    <h3 class="category-title">üíß Health & Wellness</h3>
                    <div class="page-links">
                        <a href="#hydration-timer" class="page-link" onclick="showHydrationModal()">
                            <span class="page-link-icon">üíß</span>
                            <span>Hydration Timer</span>
                        </a>
                        <a href="sober.html" class="page-link">
                            <span class="page-link-icon">üö´</span>
                            <span>Sober Ravers Support</span>
                        </a>
                    </div>
                </div>
                
                <div class="page-category">
                    <h3 class="category-title">üìã Quick Access</h3>
                    <div class="page-links">
                        <a href="panic.html" class="page-link">
                            <span class="page-link-icon">üö®</span>
                            <span>Panic Button</span>
                        </a>
                        <a href="emergency.html" class="page-link">
                            <span class="page-link-icon">üÜò</span>
                            <span>Emergency Guides</span>
                        </a>
                        <a href="fake.html" class="page-link">
                            <span class="page-link-icon">‚ö†Ô∏è</span>
                            <span>Fake Drug Alerts</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Hydration Timer Widget -->
            <div class="timer-container mt-3">
                <h3>üíß Hydration & Buddy Check-in Timer</h3>
                <p>Set reminders to stay hydrated and check on your friends throughout the night.</p>
                
                <div class="timer-display" id="masterTimer">--:--</div>
                
                <div class="timer-controls">
                    <button class="btn btn-secondary" onclick="startWaterTimer()">
                        üíß Start Water Timer (45min)
                    </button>
                    <button class="btn btn-secondary" onclick="startBuddyTimer()">
                        üë• Start Buddy Check-in (2hr)
                    </button>
                    <button class="btn btn-outline" onclick="pauseAllTimers()">
                        ‚è∏Ô∏è Pause All
                    </button>
                    <button class="btn btn-outline" onclick="resetAllTimers()">
                        üîÑ Reset All
                    </button>
                </div>
                
                <div class="mt-2 text-center">
                    <button class="btn btn-primary" onclick="showTimerSettings()">
                        ‚öôÔ∏è Customize Timer Settings
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Support Section -->
    <section id="support" style="background: linear-gradient(135deg, rgba(138, 130, 255, 0.1), rgba(30, 30, 46, 0.9));">
        <div class="container container-narrow">
            <h2>üíñ Support Our Work</h2>
            <p class="lead">Your donations fund harm reduction supplies, booth events, and free resources for Minnesota's nightlife community.</p>
            
            <div class="featured-section">
                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è Venmo Security Alert:</strong> Scammers create fake charity accounts. Always verify the handle before donating.
                </div>
                
                <div class="text-center mb-3">
                    <div style="display: inline-flex; align-items: center; gap: 10px; background: rgba(0, 199, 150, 0.2); color: var(--success-green); padding: 1rem 2rem; border-radius: var(--border-radius); font-weight: 600;">
                        <span>‚úÖ Verified</span>
                        <strong>@plurderapolis</strong>
                    </div>
                </div>
                
                <p class="text-center">Donations are not tax-deductible. We are a grassroots community organization.</p>
                
                <div class="text-center mt-3">
                    <a href="https://www.venmo.com/u/plurderapolis" target="_blank" class="btn btn-danger" style="font-size: 1.2rem; padding: 1.5rem 3rem;" onclick="logDonationClick()">
                        üíñ Donate via Venmo
                    </a>
                </div>
                
                <p class="text-small text-center mt-2">
                    Your support helps us provide free Narcan, test strips, and harm reduction education at events across Minnesota.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>PLURderapolis</h4>
                    <p>Harm reduction for Minnesota's electronic music community. Your partners in shine.</p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/plurderapolis" target="_blank" class="social-link">
                            üì∑ Instagram
                        </a>
                        <a href="https://www.facebook.com/plurderapolis" target="_blank" class="social-link">
                            üìò Facebook
                        </a>
                        <a href="mailto:plurderapolis@gmail.com" class="social-link">
                            ‚úâÔ∏è Email
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <div class="footer-links">
                        <a href="panic.html">Panic Button</a>
                        <a href="emergency.html">Emergency Guides</a>
                        <a href="#narcan">Find Narcan</a>
                        <a href="consent.html">Consent Basics</a>
                        <a href="booth.html">Our Booth</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Resources</h4>
                    <div class="footer-links">
                        <a href="resources.html">MN Resources Directory</a>
                        <a href="sober.html">Sober Ravers</a>
                        <a href="venues-guide.html">Venue Safety</a>
                        <a href="seasonal-tips.html">Seasonal Tips</a>
                        <a href="legal-disclaimers-terms.html">Legal Disclaimers</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Drug Information</h4>
                    <div class="footer-links">
                        <a href="polydrug.html">Polydrug Tool</a>
                        <a href="fake.html">Fake Drug Alerts</a>
                        <a href="rx-combos.html">RX Combos</a>
                        <a href="health.html">Raver Health</a>
                        <a href="badtrip.html">Bad Trip Support</a>
                    </div>
                </div>
            </div>
            
            <div class="legal-disclaimer">
                <h4>‚ö†Ô∏è Legal & Medical Disclaimer</h4>
                <p><strong>PLURderapolis provides harm reduction education and resources only.</strong> This is not medical or legal advice. Always consult with healthcare professionals for medical concerns and legal professionals for legal advice.</p>
                <p><strong>Minnesota Good Samaritan Law:</strong> Minnesota Statute ¬ß604A.05 provides limited immunity from drug possession charges for individuals who seek medical assistance for an overdose.</p>
                <p><strong>Naloxone (Narcan¬Æ)</strong> is a medication that can reverse opioid overdoses. It is available at many Minnesota pharmacies and through community programs.</p>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 PLURderapolis ‚Äî Community Harm Reduction</p>
                <p>This site respects your privacy. Usage data is anonymized.</p>
            </div>
        </div>
    </footer>

    <!-- Panic Peach -->
    <div class="panic-peach" id="panicPeach">
        <div class="panic-button" id="panicButton" role="button" aria-label="Emergency panic button" tabindex="0">
            üçë
        </div>
        <div class="panic-label">HELP!</div>
    </div>

    <!-- Mobile HUD -->
    <nav class="mobile-hud">
        <a href="#emergency" class="hud-button">
            <span class="hud-icon">üö®</span>
            <span>Emergency</span>
        </a>
        <a href="#narcan" class="hud-button">
            <span class="hud-icon">üíä</span>
            <span>Narcan</span>
        </a>
        <a href="panic.html" class="hud-button">
            <span class="hud-icon">üçë</span>
            <span>Panic</span>
        </a>
        <a href="#support" class="hud-button">
            <span class="hud-icon">üíñ</span>
            <span>Donate</span>
        </a>
        <a href="badtrip.html" class="hud-button">
            <span class="hud-icon">üåà</span>
            <span>Bad Trip</span>
        </a>
    </nav>

    <!-- Modals -->
    <div class="modal" id="emergencyModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('emergencyModal')">&times;</button>
            <h2>üö® Emergency Overdose Response</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
                <div style="background: rgba(0, 199, 150, 0.1); padding: 1.5rem; border-radius: var(--border-radius-sm); border-left: 4px solid var(--success-green);">
                    <h4 style="color: var(--success-green);">1. CALL 911</h4>
                    <p>Say: "Someone is not breathing, suspected overdose." Give location. Minnesota's Good Samaritan Law provides protections.</p>
                </div>
                
                <div style="background: rgba(255, 71, 87, 0.1); padding: 1.5rem; border-radius: var(--border-radius-sm); border-left: 4px solid var(--danger-red);">
                    <h4 style="color: var(--danger-red);">2. GIVE NARCAN</h4>
                    <p>Nasal spray or injectable. Repeat every 2-3 minutes if no response. Continue rescue breathing.</p>
                </div>
                
                <div style="background: rgba(0, 240, 255, 0.1); padding: 1.5rem; border-radius: var(--border-radius-sm); border-left: 4px solid var(--neon-aqua);">
                    <h4 style="color: var(--neon-aqua);">3. RESCUE BREATHING</h4>
                    <p>If not breathing: Tilt head back, pinch nose, give 2 slow breaths. Continue 1 breath every 5 seconds.</p>
                </div>
            </div>
            
            <div class="mt-3">
                <h4>üìû Minnesota Emergency Resources</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
                    <div style="background: rgba(30, 30, 46, 0.7); padding: 1rem; border-radius: var(--border-radius-sm);">
                        <strong>Poison Control (24/7)</strong>
                        <div class="text-small">1-800-222-1222</div>
                    </div>
                    <div style="background: rgba(30, 30, 46, 0.7); padding: 1rem; border-radius: var(--border-radius-sm);">
                        <strong>Crisis Text Line</strong>
                        <div class="text-small">Text "HOME" to 741741</div>
                    </div>
                    <div style="background: rgba(30, 30, 46, 0.7); padding: 1rem; border-radius: var(--border-radius-sm);">
                        <strong>Never Use Alone Hotline</strong>
                        <div class="text-small">1-800-484-3731</div>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-primary mt-3" style="width: 100%;" onclick="window.location.href='emergency.html'">
                üìñ View Full Emergency Guides
            </button>
        </div>
    </div>

    <!-- Timer Settings Modal -->
    <div class="modal" id="timerSettingsModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('timerSettingsModal')">&times;</button>
            <h2>‚öôÔ∏è Timer Settings</h2>
            
            <div style="margin: 2rem 0;">
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">üíß Water Reminder Interval (minutes)</label>
                    <input type="range" min="15" max="120" value="45" class="timer-slider" id="waterInterval" style="width: 100%;">
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                        <span class="text-small">15 min</span>
                        <span id="waterValue" style="font-weight: bold;">45 min</span>
                        <span class="text-small">120 min</span>
                    </div>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">üë• Buddy Check-in Interval (minutes)</label>
                    <input type="range" min="30" max="240" value="120" class="timer-slider" id="buddyInterval" style="width: 100%;">
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                        <span class="text-small">30 min</span>
                        <span id="buddyValue" style="font-weight: bold;">120 min</span>
                        <span class="text-small">240 min</span>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-primary" style="width: 100%;" onclick="saveTimerSettings()">
                üíæ Save Settings
            </button>
        </div>
    </div>

    <script>
        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            initializeBackground();
            initializeNavigation();
            initializePanicPeach();
            initializeTimers();
            initializeAnalytics();
            
            // Check for hash in URL
            if (window.location.hash) {
                const target = document.querySelector(window.location.hash);
                if (target) {
                    setTimeout(() => {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }, 300);
                }
            }
            
            console.log('PLURderapolis v3.0 initialized üçë');
        });

        // ========== BACKGROUND PARTICLES ==========
        function initializeBackground() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random properties
                const size = 1 + Math.random() * 3;
                const duration = 10 + Math.random() * 20;
                const delay = Math.random() * 30;
                const color = `rgba(${Math.random() * 100 + 155}, ${Math.random() * 100 + 155}, 255, ${0.2 + Math.random() * 0.3})`;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.background = color;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // ========== NAVIGATION ==========
        function initializeNavigation() {
            const mobileToggle = document.querySelector('.mobile-nav-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            if (mobileToggle) {
                mobileToggle.addEventListener('click', () => {
                    navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
                    navLinks.style.flexDirection = 'column';
                    navLinks.style.position = 'absolute';
                    navLinks.style.top = '100%';
                    navLinks.style.left = '0';
                    navLinks.style.right = '0';
                    navLinks.style.background = 'rgba(26, 11, 61, 0.95)';
                    navLinks.style.backdropFilter = 'blur(20px)';
                    navLinks.style.padding = '2rem';
                    navLinks.style.gap = '1rem';
                });
            }
            
            // Update active nav link on scroll
            window.addEventListener('scroll', () => {
                const sections = ['emergency', 'drug-info', 'consent', 'local', 'resources', 'support'];
                const scrollPosition = window.scrollY + 100;
                
                sections.forEach(section => {
                    const element = document.getElementById(section);
                    if (element) {
                        const offset = element.offsetTop;
                        const height = element.offsetHeight;
                        
                        if (scrollPosition >= offset && scrollPosition < offset + height) {
                            document.querySelectorAll('.nav-link').forEach(link => {
                                link.style.color = 'var(--body-light)';
                                link.style.background = 'transparent';
                            });
                            
                            const activeLink = document.querySelector(`.nav-link[href="#${section}"]`);
                            if (activeLink) {
                                activeLink.style.color = 'var(--neon-aqua)';
                                activeLink.style.background = 'rgba(138, 130, 255, 0.1)';
                            }
                        }
                    }
                });
            });
        }

        // ========== PANIC PEACH ==========
        function initializePanicPeach() {
            const peach = document.getElementById('panicPeach');
            const button = document.getElementById('panicButton');
            let isDragging = false;
            let startX, startY, initialX, initialY;
            
            // Click for emergency modal
            button.addEventListener('click', (e) => {
                if (!isDragging) {
                    showModal('emergencyModal');
                    logAnalyticsEvent('panic_button', 'clicked');
                }
            });
            
            button.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    showModal('emergencyModal');
                }
            });
            
            // Drag functionality
            peach.addEventListener('mousedown', startDrag);
            peach.addEventListener('touchstart', startDragTouch);
            
            function startDrag(e) {
                e.preventDefault();
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                initialX = peach.offsetLeft;
                initialY = peach.offsetTop;
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', stopDrag);
            }
            
            function startDragTouch(e) {
                if (e.touches.length === 1) {
                    e.preventDefault();
                    isDragging = true;
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                    initialX = peach.offsetLeft;
                    initialY = peach.offsetTop;
                    document.addEventListener('touchmove', dragTouch);
                    document.addEventListener('touchend', stopDrag);
                }
            }
            
            function drag(e) {
                if (!isDragging) return;
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                updatePosition(dx, dy);
            }
            
            function dragTouch(e) {
                if (!isDragging || e.touches.length !== 1) return;
                const dx = e.touches[0].clientX - startX;
                const dy = e.touches[0].clientY - startY;
                updatePosition(dx, dy);
            }
            
            function updatePosition(dx, dy) {
                let newX = initialX + dx;
                let newY = initialY + dy;
                
                // Boundary constraints
                newX = Math.max(10, Math.min(newX, window.innerWidth - peach.offsetWidth - 10));
                newY = Math.max(10, Math.min(newY, window.innerHeight - peach.offsetHeight - 10));
                
                peach.style.left = `${newX}px`;
                peach.style.top = `${newY}px`;
                peach.style.right = 'auto';
                peach.style.bottom = 'auto';
            }
            
            function stopDrag() {
                isDragging = false;
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('touchmove', dragTouch);
                document.removeEventListener('mouseup', stopDrag);
                document.removeEventListener('touchend', stopDrag);
                
                // Save position
                localStorage.setItem('peachPosition', JSON.stringify({
                    x: peach.offsetLeft,
                    y: peach.offsetTop
                }));
            }
            
            // Load saved position
            const savedPos = localStorage.getItem('peachPosition');
            if (savedPos) {
                const pos = JSON.parse(savedPos);
                peach.style.left = `${pos.x}px`;
                peach.style.top = `${pos.y}px`;
            }
        }

        // ========== TIMER SYSTEM ==========
        let timers = {
            water: { active: false, interval: 45 * 60 * 1000, remaining: null, startTime: null },
            buddy: { active: false, interval: 120 * 60 * 1000, remaining: null, startTime: null }
        };
        
        let masterInterval;
        
        function initializeTimers() {
            loadTimerSettings();
            updateTimerDisplay();
            masterInterval = setInterval(updateTimerDisplay, 1000);
            
            // Initialize slider values
            const waterSlider = document.getElementById('waterInterval');
            const buddySlider = document.getElementById('buddyInterval');
            
            if (waterSlider && buddySlider) {
                waterSlider.value = timers.water.interval / 60000;
                buddySlider.value = timers.buddy.interval / 60000;
                
                waterSlider.addEventListener('input', (e) => {
                    document.getElementById('waterValue').textContent = `${e.target.value} min`;
                });
                
                buddySlider.addEventListener('input', (e) => {
                    document.getElementById('buddyValue').textContent = `${e.target.value} min`;
                });
                
                // Set initial display values
                document.getElementById('waterValue').textContent = `${waterSlider.value} min`;
                document.getElementById('buddyValue').textContent = `${buddySlider.value} min`;
            }
        }
        
        function startWaterTimer() {
            startTimer('water');
        }
        
        function startBuddyTimer() {
            startTimer('buddy');
        }
        
        function startTimer(type) {
            timers[type].active = true;
            timers[type].startTime = Date.now();
            timers[type].remaining = timers[type].interval;
            saveTimerSettings();
            
            // Show notification
            const messages = {
                water: "üíß Water timer started! Drink up every " + (timers.water.interval / 60000) + " minutes.",
                buddy: "üë• Buddy timer started! Check in every " + (timers.buddy.interval / 60000) + " minutes."
            };
            
            if (Notification.permission === 'granted') {
                new Notification(messages[type]);
            } else if (Notification.permission !== 'denied') {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        new Notification(messages[type]);
                    }
                });
            }
        }
        
        function pauseAllTimers() {
            Object.keys(timers).forEach(type => {
                if (timers[type].active && timers[type].startTime) {
                    const elapsed = Date.now() - timers[type].startTime;
                    timers[type].remaining = Math.max(0, timers[type].remaining - elapsed);
                    timers[type].active = false;
                }
            });
            saveTimerSettings();
        }
        
        function resetAllTimers() {
            Object.keys(timers).forEach(type => {
                timers[type] = { 
                    active: false, 
                    interval: type === 'water' ? 45 * 60 * 1000 : 120 * 60 * 1000,
                    remaining: null, 
                    startTime: null 
                };
            });
            updateTimerDisplay();
            saveTimerSettings();
        }
        
        function updateTimerDisplay() {
            const display = document.getElementById('masterTimer');
            if (!display) return;
            
            const activeTimers = Object.entries(timers).filter(([_, t]) => t.active && t.remaining);
            
            if (activeTimers.length > 0) {
                // Find the next timer to expire
                const nextTimer = activeTimers.reduce((prev, curr) => {
                    const prevRemaining = prev[1].remaining - (Date.now() - prev[1].startTime);
                    const currRemaining = curr[1].remaining - (Date.now() - curr[1].startTime);
                    return currRemaining < prevRemaining ? curr : prev;
                });
                
                const remaining = Math.max(0, nextTimer[1].remaining - (Date.now() - nextTimer[1].startTime));
                const minutes = Math.floor(remaining / 60000);
                const seconds = Math.floor((remaining % 60000) / 1000);
                
                display.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Check if timer has completed
                if (remaining <= 0) {
                    timerCompleted(nextTimer[0]);
                }
            } else {
                display.textContent = '--:--';
            }
        }
        
        function timerCompleted(type) {
            const messages = {
                water: "üíß Time to hydrate! Drink some water.",
                buddy: "üë• Check in with your buddy. Are they doing okay?"
            };
            
            // Alert user
            alert(messages[type]);
            
            // Restart timer automatically
            timers[type].startTime = Date.now();
            timers[type].remaining = timers[type].interval;
            saveTimerSettings();
        }
        
        function showTimerSettings() {
            showModal('timerSettingsModal');
        }
        
        function saveTimerSettings() {
            const waterSlider = document.getElementById('waterInterval');
            const buddySlider = document.getElementById('buddyInterval');
            
            if (waterSlider && buddySlider) {
                timers.water.interval = parseInt(waterSlider.value) * 60 * 1000;
                timers.buddy.interval = parseInt(buddySlider.value) * 60 * 1000;
            }
            
            localStorage.setItem('plurderapolisTimers', JSON.stringify(timers));
        }
        
        function loadTimerSettings() {
            const saved = localStorage.getItem('plurderapolisTimers');
            if (saved) {
                try {
                    const parsed = JSON.parse(saved);
                    Object.keys(timers).forEach(key => {
                        if (parsed[key]) {
                            timers[key] = { ...timers[key], ...parsed[key] };
                        }
                    });
                } catch (e) {
                    console.warn('Could not load timer settings');
                }
            }
        }

        // ========== MODAL SYSTEM ==========
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }
        
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
        }
        
        function showNarcanModal() {
            showModal('emergencyModal');
        }
        
        function showHydrationModal() {
            showModal('timerSettingsModal');
        }
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
                document.body.style.overflow = '';
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.style.display = 'none';
                    document.body.style.overflow = '';
                });
            }
        });

        // ========== ANALYTICS ==========
        function initializeAnalytics() {
            // Simple privacy-focused analytics
            if (!localStorage.getItem('plurderapolis_first_visit')) {
                localStorage.setItem('plurderapolis_first_visit', new Date().toISOString());
                logAnalyticsEvent('session', 'first_visit');
            }
            
            logAnalyticsEvent('session', 'pageview');
            
            // Track link clicks
            document.querySelectorAll('a[href^="http"]').forEach(link => {
                link.addEventListener('click', (e) => {
                    logAnalyticsEvent('external_link', link.href);
                });
            });
        }
        
        function logAnalyticsEvent(category, action) {
            // Privacy-focused: Store locally only
            const key = `plurderapolis_${category}`;
            const data = JSON.parse(localStorage.getItem(key) || '{"count":0,"last":""}');
            data.count++;
            data.last = new Date().toISOString();
            localStorage.setItem(key, JSON.stringify(data));
            
            console.log(`[Analytics] ${category}: ${action}`);
        }
        
        function logDonationClick() {
            logAnalyticsEvent('donation', 'venmo_link_clicked');
        }

        // ========== UTILITY FUNCTIONS ==========
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                if (href !== '#') {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        });
        
        // Update header on scroll
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.main-header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(26, 11, 61, 0.98)';
                header.style.boxShadow = '0 4px 30px rgba(0, 0, 0, 0.3)';
            } else {
                header.style.background = 'rgba(26, 11, 61, 0.95)';
                header.style.boxShadow = 'none';
            }
        });
        
        // Initialize tooltips
        document.querySelectorAll('[title]').forEach(element => {
            element.addEventListener('mouseenter', (e) => {
                // Could implement custom tooltips here
            });
        });
    </script>
</body>
</html>
