<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PLURderapolis ‚Äî Harm Reduction for Minnesota Ravers</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background: #0d0d0d;
    color: #fff;
  }

  /* Site Title */
  .site-title {
    text-align: center;
    margin: 1rem 0;
  }
  .site-title h1 {
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: clamp(2rem,5vw,3rem);
    background: linear-gradient(90deg,#00f7e0,#a3f7ff,#00f7e0);
    background-size: 200% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shineMove 6s linear infinite;
    filter: drop-shadow(0 0 6px #00f7e0aa);
  }
  @keyframes shineMove {
    0% { background-position: 100% 0; }
    100% { background-position: 0 0; }
  }
  .tagline { font-family:'Roboto',sans-serif; color:#88e9e3; font-weight:600; text-transform:uppercase; letter-spacing:0.1em; }

  /* Hamburger menu */
  .hamburger { position: fixed; top: 20px; left: 20px; z-index: 1000; cursor: pointer; width: 35px; height: 30px; display:flex; flex-direction:column; justify-content:space-between; }
  .hamburger div { height:4px; background:#ff6ec7; border-radius:2px; transition:0.3s; }
  nav.main-nav { position:fixed; top:0; left:-300px; width:250px; height:100%; background: linear-gradient(145deg,#3a0052,#5d3a7d); box-shadow:2px 0 12px rgba(0,0,0,0.5); padding:2rem 1rem; transition:0.3s; overflow-y:auto; z-index:999; }
  nav.main-nav.open { left:0; }
  nav.main-nav ul { list-style:none; padding:0; margin:0; }
  nav.main-nav li { margin-bottom:1rem; }
  nav.main-nav a { color:#fff; text-decoration:none; font-weight:bold; display:block; padding:0.5rem; border-radius:6px; background:#7d52a1; box-shadow:0 0 6px #ff6ec733; }
  nav.main-nav a:hover { background:#b066d1; }

  nav.main-nav li ul { display:none; margin-left:10px; }
  nav.main-nav li.show > ul { display:block; }

  /* Search bar */
  .search-bar { display:flex; justify-content:center; margin:1rem auto; max-width:600px; gap:0.5rem; }
  .search-bar input { flex:1; padding:10px; border-radius:5px 0 0 5px; border:none; }
  .search-bar button { padding:10px; border:none; background:#ff6ec7; color:#fff; border-radius:0 5px 5px 0; cursor:pointer; }

  .search-results { max-width:700px; margin:1rem auto; background:#1a1a1a; border-radius:8px; padding:1rem; display:none; }

  /* Sections */
  .section { background:#3a0052; margin:1rem auto; padding:1rem 1.5rem; border-radius:12px; box-shadow:0 0 10px rgba(0,255,255,0.1); max-width:900px; }
  .section h2 { font-family:'Montserrat',sans-serif; color:#00f7e0; margin-bottom:0.5rem; }
  .cta-button { display:inline-block; margin-top:0.5rem; background:#00f7e0; color:#2e003e; padding:0.5rem 1rem; border-radius:8px; font-weight:bold; text-decoration:none; }
  .collapsible-content { display:none; margin-top:0.5rem; }
  .collapsible-content.show { display:block; animation:fadeIn 0.3s ease-in-out; }
  @keyframes fadeIn { from{opacity:0; transform:translateY(-5px);} to{opacity:1; transform:translateY(0);} }

  /* Panic button */
  #peachWrap { position:fixed; bottom:20px; right:20px; z-index:9999; }
  #peachWrap a.emoji-panic { font-size:4rem; background:rgba(255,112,148,0.25); padding:12px; border-radius:50%; box-shadow:0 0 12px #E040FB,0 0 24px #FF69B4,0 0 36px #00CED1; animation:emojiPulse 2.2s infinite; text-decoration:none; color:inherit; display:flex; align-items:center; justify-content:center; transition:transform 0.2s ease; cursor:pointer; }
  #peachWrap a.emoji-panic:hover { transform:scale(1.25); }
  @keyframes emojiPulse { 0%{transform:scale(1);} 50%{transform:scale(1.12);} 100%{transform:scale(1);} }

  /* Rave alert */
  .rave-alert-wrapper { background:#1a1a1a; overflow:hidden; border-top:1px solid #444; border-bottom:1px solid #444; height:2.5rem; display:flex; align-items:center; width:100vw; }
  .rave-alert-link { white-space:nowrap; color:#ff69b4; font-size:1.1rem; text-decoration:none; padding-left:100%; animation:scroll-left 20s linear infinite; }
  @keyframes scroll-left { 0%{transform:translateX(0);} 100%{transform:translateX(-100%);} }

  /* Footer */
  footer { margin-top:2rem; font-size:0.9rem; color:#aaa; text-align:center; }
  footer hr { border-color:#444; margin-bottom:0.5rem; }
  footer a { color:#ff6ec7; text-decoration:none; }
</style>
</head>
<body>

<!-- Hamburger Menu -->
<div class="hamburger" id="hamburger">
  <div></div><div></div><div></div>
</div>

<nav class="main-nav" id="navMenu">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="#" onclick="toggleSub(event)">Safety</a>
      <ul>
        <li><a href="panic.html">Panic Button</a></li>
        <li><a href="emergency.html">Emergency Response</a></li>
        <li><a href="spiking.html">Drink Spiking</a></li>
      </ul>
    </li>
    <li><a href="#" onclick="toggleSub(event)">Drug Info</a>
      <ul>
        <li><a href="polydrug.html">Polydrug Tool</a></li>
        <li><a href="rx-combos.html">RX + Party Combos</a></li>
        <li><a href="health.html">Raver Health</a></li>
      </ul>
    </li>
    <li><a href="#" onclick="toggleSub(event)">Consent</a>
      <ul>
        <li><a href="consent.html">Consent Basics</a></li>
        <li><a href="accountability.html">Accountability</a></li>
      </ul>
    </li>
    <li><a href="#" onclick="toggleSub(event)">Local Scene</a>
      <ul>
        <li><a href="spotlight.html">Scene Spotlight</a></li>
        <li><a href="calendar.html">Event Calendar</a></li>
      </ul>
    </li>
    <li><a href="#" onclick="toggleSub(event)">Extras</a>
      <ul>
        <li><a href="seasonal.html">Seasonal Tips</a></li>
        <li><a href="sober.html">Sober Ravers</a></li>
        <li><a href="resources.html">MN Resources</a></li>
      </ul>
    </li>
  </ul>
</nav>

<!-- Site Title -->
<div class="site-title">
  <h1>PLURderapolis</h1>
  <div class="tagline">Harm Reduction for Minnesota Ravers</div>
</div>

<!-- Rave Alert -->
<div class="rave-alert-wrapper">
  <a href="/mixes.html" class="rave-alert-link" aria-label="MN Drug Supply Alert">
    üö® MN Drug Supply Alert: Gray Death circulating ‚Ä¢ Fake K = fentanyl + xylazine ‚Ä¢ Test before you trust ‚Ä¢ Carry Narcan ‚Ä¢ No solo dosing üñ§
  </a>
</div>

<!-- Search Bar -->
<div class="search-bar">
  <input type="text" id="siteSearch" placeholder="Search the site...">
  <button onclick="performSearch()">üîç</button>
</div>
<div class="search-results" id="searchResults"></div>

<!-- Sections -->
<div class="section">
  <h2>üí° What We Do</h2>
  <ul>
    <li>üíä Harm Reduction: Narcan, test strips, safe use info, drug interactions.</li>
    <li>üß† Mental Health & Crisis: Peer support, trauma tools, grounding exercises.</li>
    <li>üïäÔ∏è Consent & Culture: Safer spaces, collective care, accountability.</li>
  </ul>
  <a href="resources.html" class="cta-button">Learn More ‚Üí</a>
</div>

<div class="section">
  <h2>üîÄ Polydrug Interaction Checker</h2>
  <iframe src="polydrug.html" style="width:100%; height:300px; border:none; border-radius:8px;"></iframe>
  <a href="polydrug.html" class="cta-button">Open Full Tool ‚Üí</a>
</div>

<div class="section">
  <h2>üß† Bad Trip Mode</h2>
  <p>Feeling overwhelmed? Access calming visuals, grounding exercises, and support to ride it safely.</p>
  <a href="badtrip.html" class="cta-button" style="background:#ff6ec7;color:#1c0028;">Visit Bad Trip Mode ‚Üí</a>
</div>

<!-- Panic Button -->
<div id="peachWrap">
  <a href="panic.html" class="emoji-panic" aria-label="Panic Button">üçë</a>
</div>

<!-- Footer -->
<footer>
  <hr>
  <p>
    <a href="index.html">Home</a> | 
    <a href="panic.html">Panic</a> | 
    <a href="emergency.html">Emergency</a> | 
    <a href="polydrug.html">Polydrug Tool</a> | 
    <a href="resources.html">Resources</a> | 
    <a href="rx-combos.html">RX + Party Combos</a> | 
    <a href="consent.html">Consent</a> | 
    <a href="accountability.html">Accountability</a>
  </p>
  <p style="font-size:0.8rem; color:#ccc;">
    &copy; 2025 PLURderapolis. Peer-run harm reduction initiative. Not medical advice. Always test your substances, act safely, and in emergencies call 911.
  </p>
</footer>

<script>
  // Hamburger toggle
  const hamburger = document.getElementById('hamburger');
  const navMenu = document.getElementById('navMenu');
  hamburger.addEventListener('click', () => navMenu.classList.toggle('open'));

  function toggleSub(e){
    e.preventDefault();
    e.target.parentElement.classList.toggle('show');
  }

  // Search logic (demo, works for indexed pages)
  const siteData = [
    {title:"Home", url:"index.html", keywords:["home","plurderapolis","harm reduction","ravers"]},
    {title:"Polydrug Tool", url:"polydrug.html", keywords:["drugs","mixing","interactions","polydrug"]},
    {title:"Panic Button", url:"panic.html", keywords:["panic","emergency","help"]},
    {title:"Emergency Response", url:"emergency.html", keywords:["emergency","safety","911"]},
    {title:"Resources", url:"resources.html", keywords:["resources","mn","help","support"]},
    {title:"RX + Party Combos", url:"rx-combos.html", keywords:["rx","combinations","drugs","mix"]},
    {title:"Consent Basics", url:"consent.html", keywords:["consent","boundaries"]},
    {title:"Accountability", url:"accountability.html", keywords:["abuse","power","report"]},
  ];
  function performSearch(){
    const query = document.getElementById('siteSearch').value.toLowerCase();
    const resultsDiv = document.getElementById('searchResults');
    resultsDiv.innerHTML = '';
    if(query===''){ resultsDiv.style.display='none'; return;}
    const results = siteData.filter(item => item.keywords.some(k => k.includes(query)));
    if(results.length===0){
      resultsDiv.innerHTML="<p>No results found.</p>";
    } else {
      results.forEach(r=>{
        const link = document.createElement('a');
        link.href = r.url;
        link.textContent = r.title;
        link.style.display="block";
        link.style.padding="0.3rem 0";
        resultsDiv.appendChild(link);
      });
    }
    resultsDiv.style.display='block';
  }
</script>

</body>
</html>
