<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
<title>PLURderapolis ‚Äî Minnesota Harm Reduction Resources for Electronic Music Community & Ravers</title>
<meta name="description" content="Minnesota's legal harm reduction resource providing drug safety education, overdose prevention, Narcan access, and community support for the electronic music scene. State-compliant guidance for Minneapolis, St. Paul, and Twin Cities ravers.">
<meta name="keywords" content="Minnesota harm reduction, Minneapolis rave safety, Narcan Minnesota, drug overdose prevention MN, PLUR community, electronic music safety, Minnesota Good Samaritan Law, fentanyl testing Twin Cities, Minnesota Nice Act, substance use education">
<meta name="author" content="PLURderapolis Minnesota Harm Reduction Collective">
<meta name="robots" content="index, follow, max-image-preview:large">
<meta name="googlebot" content="index, follow">
<link rel="canonical" href="https://plurderapolis.org/">
<meta property="og:type" content="website">
<meta property="og:url" content="https://plurderapolis.org/">
<meta property="og:title" content="PLURderapolis ‚Äî Minnesota Harm Reduction Resources for Electronic Music Community">
<meta property="og:description" content="State-compliant harm reduction education, Narcan access, and overdose prevention for Minnesota's electronic music community. Serving Minneapolis, St. Paul, and Twin Cities.">
<meta property="og:image" content="https://plurderapolis.org/images/social-preview-minneapolis-skyline.jpg">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://plurderapolis.org/">
<meta property="twitter:title" content="PLURderapolis ‚Äî Harm Reduction for Minnesota Ravers">
<meta property="twitter:description" content="Minnesota's premier harm reduction resource with state-compliant safety information for the electronic music community.">
<meta property="twitter:image" content="https://plurderapolis.org/images/social-preview-minneapolis-skyline.jpg">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "PLURderapolis",
  "legalName": "PLURderapolis Minnesota Harm Reduction Collective",
  "description": "Minnesota-based harm reduction resource providing state-compliant education and support for electronic music community",
  "url": "https://plurderapolis.org",
  "logo": "https://plurderapolis.org/images/logo.png",
  "foundingDate": "2020",
  "address": {
    "@type": "PostalAddress",
    "addressRegion": "MN",
    "addressCountry": "US"
  },
  "areaServed": {
    "@type": "State",
    "name": "Minnesota"
  },
  "sameAs": [
    "https://www.instagram.com/plurderapolis",
    "https://www.facebook.com/plurderapolis"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "email": "plurderapolis@gmail.com",
    "contactType": "Customer service",
    "areaServed": "Minnesota"
  },
  "knowsAbout": [
    "Harm Reduction",
    "Overdose Prevention",
    "Minnesota Drug Laws",
    "Narcan Administration",
    "Electronic Music Community Safety"
  ]
}
</script>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçë</text></svg>">
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Open+Sans:wght@300;400;500;600;700&display=swap" as="style">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Open+Sans:wght@300;400;500;600;700&display=swap">
<style>
:root {
  /* Color System */
  --primary: #00f7e0;
  --primary-dark: #00c4b3;
  --secondary: #ff69b4;
  --secondary-dark: #e055a0;
  --accent-purple: #a855f7;
  --accent-blue: #3b82f6;
  --accent-green: #10b981;
  --accent-yellow: #f59e0b;
  --accent-red: #ef4444;
  
  /* Minnesota Theme Colors */
  --minnesota-blue: #1e40af;
  --minnesota-green: #047857;
  --minnesota-purple: #7c3aed;
  
  /* Background Colors */
  --bg-dark: #0a0a0f;
  --bg-darker: #050508;
  --bg-card: rgba(30, 30, 46, 0.85);
  --bg-card-hover: rgba(40, 40, 60, 0.95);
  
  /* Text Colors */
  --text-primary: #ffffff;
  --text-secondary: #e2e8f0;
  --text-tertiary: #94a3b8;
  
  /* Shadows */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
  --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
  --shadow-glow: 0 0 20px rgba(0, 247, 224, 0.3);
  
  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;
}

/* Reset & Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  scroll-padding-top: 80px;
}

body {
  font-family: 'Open Sans', sans-serif;
  background-color: var(--bg-dark);
  color: var(--text-primary);
  line-height: 1.6;
  overflow-x: hidden;
  position: relative;
  min-height: 100vh;
}

/* Smooth Scroll Enhancement */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Minneapolis Skyline Background with Stars */
.skyline-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  overflow: hidden;
}

.stars {
  position: absolute;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(2px 2px at 20px 30px, #eee, transparent),
    radial-gradient(2px 2px at 40px 70px, #fff, transparent),
    radial-gradient(3px 3px at 90px 40px, #ddd, transparent),
    radial-gradient(2px 2px at 130px 80px, #fff, transparent),
    radial-gradient(3px 3px at 160px 120px, #eee, transparent);
  background-size: 200px 200px;
  animation: stars-twinkle 8s infinite alternate;
}

.minneapolis-skyline-2 {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 40%;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

.building-container {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  position: relative;
  height: 100%;
}

.building {
  background: linear-gradient(to top, 
    rgba(30, 41, 59, 0.9) 0%,
    rgba(15, 23, 42, 0.95) 70%,
    rgba(30, 64, 175, 0.3) 100%);
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
  position: relative;
  box-shadow: 
    inset 0 0 10px rgba(59, 130, 246, 0.1),
    0 0 15px rgba(0, 0, 0, 0.3);
}

/* Building Sizes and Animations */
.building:nth-child(1) { width: 40px; height: 60%; animation: building-glow 4s infinite alternate; }
.building:nth-child(2) { width: 35px; height: 75%; animation: building-glow 4s infinite alternate 0.5s; }
.building:nth-child(3) { width: 50px; height: 90%; animation: building-glow 4s infinite alternate 1s; }
.building:nth-child(4) { width: 45px; height: 85%; animation: building-glow 4s infinite alternate 1.5s; }
.building:nth-child(5) { width: 60px; height: 95%; animation: building-glow 4s infinite alternate 2s; }
.building:nth-child(6) { width: 55px; height: 80%; animation: building-glow 4s infinite alternate 2.5s; }
.building:nth-child(7) { width: 42px; height: 70%; animation: building-glow 4s infinite alternate 3s; }

/* Building Windows */
.building::before {
  content: '';
  position: absolute;
  top: 10%;
  left: 15%;
  right: 15%;
  bottom: 5%;
  background-image: 
    linear-gradient(transparent 85%, rgba(255, 255, 255, 0.05) 85%),
    linear-gradient(90deg, transparent 85%, rgba(255, 255, 255, 0.05) 85%);
  background-size: 15px 15px;
  opacity: 0.5;
}

/* Random Lights in Buildings */
.building::after {
  content: '';
  position: absolute;
  width: 6px;
  height: 8px;
  background-color: rgba(255, 215, 0, 0.8);
  border-radius: 2px;
  animation: window-light 10s infinite alternate;
  opacity: 0;
}

/* Individual Window Light Positions */
.building:nth-child(1)::after { top: 30%; left: 30%; animation-delay: 2s; }
.building:nth-child(2)::after { top: 50%; left: 60%; animation-delay: 4s; }
.building:nth-child(3)::after { top: 40%; left: 40%; animation-delay: 1s; }
.building:nth-child(4)::after { top: 60%; left: 20%; animation-delay: 5s; }
.building:nth-child(5)::after { top: 25%; left: 70%; animation-delay: 3s; }
.building:nth-child(6)::after { top: 70%; left: 50%; animation-delay: 6s; }
.building:nth-child(7)::after { top: 45%; left: 80%; animation-delay: 2.5s; }

/* Mississippi River */
.river {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 20px;
  background: linear-gradient(to bottom, 
    rgba(59, 130, 246, 0.3) 0%,
    rgba(0, 247, 224, 0.1) 100%);
  border-top: 1px solid rgba(59, 130, 246, 0.4);
  animation: river-flow 10s infinite linear;
}

/* Bridges */
.bridge {
  position: absolute;
  bottom: 20px;
  width: 40%;
  height: 8px;
  background: linear-gradient(to bottom, 
    rgba(107, 114, 128, 0.9) 0%,
    rgba(75, 85, 99, 1) 100%);
  border-radius: 4px 4px 0 0;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

.bridge:nth-child(1) { left: 10%; }
.bridge:nth-child(2) { right: 20%; }

.bridge::before {
  content: '';
  position: absolute;
  top: -8px;
  left: 0;
  right: 0;
  height: 8px;
  background: linear-gradient(90deg, 
    transparent 10%, 
    rgba(255, 255, 255, 0.2) 10%, 
    rgba(255, 255, 255, 0.2) 20%, 
    transparent 20%);
  background-size: 20px 8px;
}

/* Animations */
@keyframes stars-twinkle {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 0.8; }
}

@keyframes building-glow {
  0% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.1); }
  100% { box-shadow: 0 0 15px rgba(59, 130, 246, 0.3); }
}

@keyframes window-light {
  0%, 70% { opacity: 0; }
  75%, 85% { opacity: 1; }
  90%, 100% { opacity: 0; }
}

@keyframes river-flow {
  0% { background-position: 0 0; }
  100% { background-position: 100px 0; }
}

/* Navigation */
.main-header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  background: rgba(10, 10, 15, 0.9);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding: 1rem;
  transition: var(--transition-base);
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo-container h1 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 900;
  font-size: clamp(1.5rem, 4vw, 2.5rem);
  background: linear-gradient(135deg, var(--primary) 0%, var(--accent-purple) 50%, var(--secondary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.5px;
}

.logo-container .tagline {
  font-size: clamp(0.75rem, 2vw, 0.9rem);
  color: var(--text-tertiary);
  font-weight: 500;
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

/* Donate Button - Prominent */
.donate-cta {
  background: linear-gradient(135deg, var(--secondary), var(--accent-purple));
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: var(--radius-full);
  text-decoration: none;
  font-weight: 700;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: all var(--transition-base);
  box-shadow: var(--shadow-lg);
  animation: pulse-donate 2s infinite;
  position: relative;
  overflow: hidden;
}

.donate-cta::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: var(--transition-base);
}

.donate-cta:hover::before {
  left: 100%;
}

.donate-cta:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl);
}

@keyframes pulse-donate {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* Mobile Menu Button */
.mobile-menu-btn {
  display: none;
  background: none;
  border: none;
  color: var(--text-primary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: var(--radius-md);
  transition: var(--transition-fast);
}

.mobile-menu-btn:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* Main Navigation */
.main-nav {
  display: flex;
  gap: 1.5rem;
  align-items: center;
}

.nav-link {
  color: var(--text-secondary);
  text-decoration: none;
  font-weight: 500;
  font-size: 0.9rem;
  padding: 0.5rem 1rem;
  border-radius: var(--radius-md);
  transition: var(--transition-fast);
  position: relative;
}

.nav-link:hover {
  color: var(--primary);
  background: rgba(0, 247, 224, 0.1);
}

.nav-link.active {
  color: var(--primary);
  background: rgba(0, 247, 224, 0.15);
}

.nav-link.active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 1rem;
  right: 1rem;
  height: 2px;
  background: var(--primary);
  border-radius: var(--radius-full);
}

/* Mobile Navigation */
.mobile-nav {
  position: fixed;
  top: 0;
  right: -100%;
  width: 100%;
  max-width: 320px;
  height: 100vh;
  background: var(--bg-card);
  backdrop-filter: blur(20px);
  z-index: 1001;
  padding: 2rem;
  transition: right var(--transition-base);
  overflow-y: auto;
  box-shadow: -5px 0 30px rgba(0, 0, 0, 0.3);
}

.mobile-nav.active {
  right: 0;
}

.mobile-nav-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.mobile-nav-links {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.mobile-nav-link {
  color: var(--text-secondary);
  text-decoration: none;
  padding: 1rem;
  border-radius: var(--radius-md);
  transition: var(--transition-fast);
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.mobile-nav-link:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--primary);
}

.mobile-nav-link .icon {
  font-size: 1.2rem;
  width: 24px;
}

.close-mobile-nav {
  background: none;
  border: none;
  color: var(--text-primary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: var(--radius-md);
  transition: var(--transition-fast);
}

.close-mobile-nav:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* Main Content */
.main-content {
  max-width: 1200px;
  margin: 100px auto 2rem;
  padding: 0 1rem;
}

/* Hero Section */
.hero-section {
  text-align: center;
  padding: 3rem 1rem;
  margin-bottom: 2rem;
  background: rgba(30, 30, 46, 0.6);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.hero-title {
  font-family: 'Montserrat', sans-serif;
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 800;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1.2;
}

.hero-subtitle {
  font-size: clamp(1rem, 3vw, 1.25rem);
  color: var(--text-secondary);
  max-width: 800px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.hero-cta {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

.cta-button {
  padding: 1rem 2rem;
  border-radius: var(--radius-full);
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  transition: all var(--transition-base);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.cta-button.primary {
  background: linear-gradient(135deg, var(--primary), var(--accent-blue));
  color: var(--bg-dark);
}

.cta-button.secondary {
  background: transparent;
  color: var(--primary);
  border: 2px solid var(--primary);
}

.cta-button:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
}

/* Minnesota Legal Disclaimer */
.legal-disclaimer {
  background: rgba(30, 64, 175, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  margin: 2rem 0;
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.legal-disclaimer h3 {
  color: var(--accent-blue);
  margin-bottom: 0.5rem;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.legal-disclaimer p {
  margin-bottom: 0.5rem;
}

.legal-disclaimer a {
  color: var(--accent-blue);
  text-decoration: underline;
}

/* Sections Grid */
.sections-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

/* Collapsible Section Cards */
.section-card {
  background: var(--bg-card);
  backdrop-filter: blur(10px);
  border-radius: var(--radius-lg);
  overflow: hidden;
  transition: all var(--transition-base);
  border: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
  opacity: 0;
  transform: translateY(20px);
  animation: card-fade-in 0.6s ease forwards;
}

.section-card:hover {
  transform: translateY(-5px);
  border-color: rgba(0, 247, 224, 0.3);
  box-shadow: var(--shadow-xl), var(--shadow-glow);
}

.section-card:nth-child(2) { animation-delay: 0.1s; }
.section-card:nth-child(3) { animation-delay: 0.2s; }
.section-card:nth-child(4) { animation-delay: 0.3s; }
.section-card:nth-child(5) { animation-delay: 0.4s; }
.section-card:nth-child(6) { animation-delay: 0.5s; }

@keyframes card-fade-in {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card-header {
  padding: 1.5rem;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(0, 0, 0, 0.2);
  transition: var(--transition-base);
}

.card-header:hover {
  background: rgba(0, 0, 0, 0.3);
}

.card-title {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 1.1rem;
  color: var(--text-primary);
}

.card-icon {
  font-size: 1.5rem;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  background: rgba(0, 247, 224, 0.1);
}

.collapse-toggle {
  background: none;
  border: none;
  color: var(--text-secondary);
  font-size: 1.5rem;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: var(--transition-fast);
}

.collapse-toggle:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--primary);
}

.collapse-toggle.expanded {
  transform: rotate(180deg);
}

.card-content {
  padding: 0 1.5rem;
  max-height: 0;
  overflow: hidden;
  transition: max-height var(--transition-base), padding var(--transition-base);
}

.card-content.expanded {
  padding: 1.5rem;
  max-height: 1000px;
}

.card-description {
  color: var(--text-secondary);
  margin-bottom: 1.5rem;
  line-height: 1.6;
}

.card-links {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.card-link {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  text-decoration: none;
  transition: var(--transition-fast);
  border-left: 3px solid transparent;
}

.card-link:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: translateX(5px);
  border-left-color: var(--primary);
}

.card-link .link-icon {
  font-size: 1.2rem;
  width: 24px;
}

.card-cta {
  display: block;
  text-align: center;
  padding: 0.75rem;
  background: linear-gradient(135deg, var(--primary), var(--accent-blue));
  color: var(--bg-dark);
  text-decoration: none;
  font-weight: 600;
  border-radius: var(--radius-md);
  transition: var(--transition-base);
}

.card-cta:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* Minnesota County Resources */
.county-resources {
  background: rgba(30, 64, 175, 0.1);
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  margin: 2rem 0;
}

.county-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.county-tab {
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition-fast);
  font-size: 0.9rem;
}

.county-tab:hover {
  background: rgba(255, 255, 255, 0.2);
}

.county-tab.active {
  background: var(--minnesota-blue);
  color: white;
}

.county-content {
  display: none;
  animation: fade-in 0.5s ease;
}

.county-content.active {
  display: block;
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.resource-item {
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--radius-md);
  padding: 1rem;
  margin-bottom: 1rem;
  border-left: 3px solid var(--accent-blue);
}

.resource-item h4 {
  color: var(--accent-blue);
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

/* Interactive Timer Widget */
.timer-widget {
  background: rgba(0, 0, 0, 0.3);
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  margin: 2rem 0;
  border: 1px solid rgba(0, 247, 224, 0.2);
}

.timer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.timer-controls {
  display: flex;
  gap: 0.5rem;
}

.timer-btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: var(--radius-md);
  background: rgba(255, 255, 255, 0.1);
  color: var(--text-primary);
  cursor: pointer;
  transition: var(--transition-fast);
  font-size: 0.9rem;
}

.timer-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

.timer-btn.primary {
  background: var(--primary);
  color: var(--bg-dark);
}

.timer-display {
  font-family: 'Montserrat', monospace;
  font-size: 3rem;
  font-weight: 700;
  text-align: center;
  color: var(--primary);
  margin: 1rem 0;
  text-shadow: 0 0 10px rgba(0, 247, 224, 0.5);
}

/* Search Algorithm Enhancement */
.search-container {
  position: relative;
  max-width: 600px;
  margin: 2rem auto;
}

.search-input {
  width: 100%;
  padding: 1rem 1.5rem;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-full);
  color: var(--text-primary);
  font-size: 1rem;
  transition: var(--transition-base);
}

.search-input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(0, 247, 224, 0.1);
}

.search-results {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  margin-top: 0.5rem;
  max-height: 400px;
  overflow-y: auto;
  display: none;
  box-shadow: var(--shadow-xl);
  border: 1px solid rgba(255, 255, 255, 0.1);
  z-index: 100;
}

.search-results.active {
  display: block;
}

.search-result-item {
  padding: 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  cursor: pointer;
  transition: var(--transition-fast);
}

.search-result-item:hover {
  background: rgba(255, 255, 255, 0.1);
}

.search-result-item:last-child {
  border-bottom: none;
}

/* Floating Donate Button */
.floating-donate {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  z-index: 999;
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

/* Mobile HUD */
.mobile-hud {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(10, 10, 15, 0.95);
  backdrop-filter: blur(20px);
  display: none;
  justify-content: space-around;
  padding: 0.75rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  z-index: 998;
}

.hud-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  text-decoration: none;
  color: var(--text-secondary);
  font-size: 0.8rem;
  padding: 0.5rem;
  border-radius: var(--radius-md);
  transition: var(--transition-fast);
}

.hud-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--primary);
}

.hud-btn .icon {
  font-size: 1.2rem;
}

/* Emergency Modal */
.emergency-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  z-index: 2000;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

.emergency-modal.active {
  display: flex;
  animation: modal-fade-in 0.3s ease;
}

@keyframes modal-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal-content {
  background: var(--bg-card);
  border-radius: var(--radius-xl);
  padding: 2rem;
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  border: 2px solid var(--accent-red);
  box-shadow: 0 0 30px rgba(239, 68, 68, 0.3);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.close-modal {
  background: none;
  border: none;
  color: var(--text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: var(--radius-md);
  transition: var(--transition-fast);
}

.close-modal:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* Footer */
.main-footer {
  background: rgba(10, 10, 15, 0.95);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding: 3rem 1rem 1rem;
  margin-top: 4rem;
}

.footer-content {
  max-width: 1200px;
  margin: 0 auto;
}

.footer-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
}

.footer-section h3 {
  color: var(--primary);
  font-size: 1rem;
  margin-bottom: 1rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.footer-links {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.footer-link {
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 0.9rem;
  transition: var(--transition-fast);
}

.footer-link:hover {
  color: var(--primary);
  transform: translateX(5px);
}

.footer-bottom {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding-top: 2rem;
  text-align: center;
  color: var(--text-tertiary);
  font-size: 0.9rem;
}

/* Responsive Design */
@media (max-width: 768px) {
  .mobile-menu-btn {
    display: block;
  }
  
  .main-nav {
    display: none;
  }
  
  .mobile-hud {
    display: flex;
  }
  
  .hero-cta {
    flex-direction: column;
  }
  
  .sections-grid {
    grid-template-columns: 1fr;
  }
  
  .floating-donate {
    bottom: 5rem;
    right: 1rem;
  }
  
  .timer-display {
    font-size: 2rem;
  }
}

@media (max-width: 480px) {
  .hero-section {
    padding: 2rem 1rem;
  }
  
  .card-header {
    padding: 1rem;
  }
  
  .card-title {
    font-size: 1rem;
  }
  
  .modal-content {
    padding: 1rem;
  }
}

/* Print Styles */
@media print {
  .skyline-background,
  .mobile-hud,
  .floating-donate,
  .donate-cta {
    display: none;
  }
  
  body {
    background: white;
    color: black;
  }
  
  .section-card {
    break-inside: avoid;
    border: 1px solid #ddd;
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Focus Styles */
:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  :root {
    --primary: #00ffff;
    --secondary: #ff00ff;
    --bg-dark: #000000;
    --text-primary: #ffffff;
  }
}
</style>
</head>
<body>
<!-- Minneapolis Skyline Background -->
<div class="skyline-background">
  <div class="stars"></div>
  <div class="minneapolis-skyline-2">
    <div class="building-container">
      <div class="building"></div>
      <div class="building"></div>
      <div class="building"></div>
      <div class="building"></div>
      <div class="building"></div>
      <div class="building"></div>
      <div class="building"></div>
    </div>
    <div class="bridge"></div>
    <div class="bridge"></div>
    <div class="river"></div>
  </div>
</div>

<!-- Main Header -->
<header class="main-header">
  <div class="header-content">
    <div class="logo-container">
      <h1>PLURderapolis</h1>
      <div class="tagline">Minnesota Harm Reduction Collective</div>
    </div>
    
    <!-- Desktop Navigation -->
    <nav class="main-nav">
      <a href="#emergency" class="nav-link active">üö® Emergency</a>
      <a href="#resources" class="nav-link">üìö Resources</a>
      <a href="#education" class="nav-link">üéì Education</a>
      <a href="#community" class="nav-link">ü§ù Community</a>
      <a href="#legal" class="nav-link">‚öñÔ∏è Legal</a>
      <a href="https://www.venmo.com/u/plurderdapolis" class="donate-cta" target="_blank">
        <span>üíñ</span> Donate to Support
      </a>
    </nav>
    
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
  </div>
</header>

<!-- Mobile Navigation -->
<nav class="mobile-nav" id="mobileNav">
  <div class="mobile-nav-header">
    <h2>Menu</h2>
    <button class="close-mobile-nav" id="closeMobileNav">√ó</button>
  </div>
  <div class="mobile-nav-links">
    <a href="#emergency" class="mobile-nav-link">
      <span class="icon">üö®</span> Emergency Tools
    </a>
    <a href="#resources" class="mobile-nav-link">
      <span class="icon">üìö</span> MN Resources
    </a>
    <a href="#education" class="mobile-nav-link">
      <span class="icon">üéì</span> Harm Reduction Education
    </a>
    <a href="#community" class="mobile-nav-link">
      <span class="icon">ü§ù</span> Community Support
    </a>
    <a href="#legal" class="mobile-nav-link">
      <span class="icon">‚öñÔ∏è</span> MN Legal Info
    </a>
    <a href="https://www.venmo.com/u/plurderdapolis" class="mobile-nav-link" target="_blank" style="background: linear-gradient(135deg, var(--secondary), var(--accent-purple)); color: white;">
      <span class="icon">üíñ</span> Donate via Venmo
    </a>
  </div>
</nav>

<!-- Main Content -->
<main class="main-content">
  <!-- Hero Section -->
  <section class="hero-section">
    <h1 class="hero-title">Keep Minnesota's Nightlife Safe & Supportive</h1>
    <p class="hero-subtitle">
      State-compliant harm reduction resources, overdose prevention education, and community support 
      for Minnesota's electronic music scene. Serving Minneapolis, St. Paul, and the Twin Cities metro.
    </p>
    <div class="hero-cta">
      <a href="#emergency" class="cta-button primary">üö® Get Emergency Help</a>
      <a href="#resources" class="cta-button secondary">üìö View MN Resources</a>
    </div>
  </section>

  <!-- Minnesota Legal Disclaimer -->
  <div class="legal-disclaimer">
    <h3>‚öñÔ∏è Minnesota Legal Notice</h3>
    <p>
      <strong>Disclaimer:</strong> PLURderapolis provides harm reduction education in accordance with Minnesota 
      Statutes ¬ß 604A.04 (Good Samaritan Law) and ¬ß 151.37 (Naloxone Access). This information is for 
      educational purposes only and does not constitute medical or legal advice. Always consult with 
      healthcare professionals for medical concerns and attorneys for legal matters.
    </p>
    <p>
      <strong>Minnesota Good Samaritan Law:</strong> Provides limited immunity from prosecution for 
      certain drug-related offenses when seeking medical assistance for an overdose. See 
      <a href="https://www.revisor.mn.gov/statutes/cite/604A.04" target="_blank">MN Stat ¬ß 604A.04</a> 
      for details.
    </p>
  </div>

  <!-- Interactive Search -->
  <div class="search-container">
    <input type="text" class="search-input" id="searchInput" placeholder="üîç Search for MN harm reduction resources, Narcan locations, legal info...">
    <div class="search-results" id="searchResults"></div>
  </div>

  <!-- Collapsible Sections Grid -->
  <div class="sections-grid" id="sectionsGrid">
    <!-- Emergency Tools -->
    <section class="section-card" id="emergency">
      <div class="card-header">
        <div class="card-title">
          <div class="card-icon">üö®</div>
          <span>Emergency Response Tools</span>
        </div>
        <button class="collapse-toggle">‚ñº</button>
      </div>
      <div class="card-content">
        <p class="card-description">
          Immediate access to life-saving resources. Minnesota Good Samaritan Law protects those 
          seeking help during overdoses.
        </p>
        <div class="card-links">
          <a href="#" class="card-link">
            <span class="link-icon">üÜò</span>
            <span>Overdose Response Protocol (MN Compliant)</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üíä</span>
            <span>Narcan/Naloxone Access in Minnesota</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üìû</span>
            <span>MN Crisis Lines & Mobile Teams</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üè•</span>
            <span>Twin Cities Emergency Departments</span>
          </a>
        </div>
        <a href="#" class="card-cta">View All Emergency Resources</a>
      </div>
    </section>

    <!-- Harm Reduction Education -->
    <section class="section-card" id="education">
      <div class="card-header">
        <div class="card-title">
          <div class="card-icon">üéì</div>
          <span>Harm Reduction Education</span>
        </div>
        <button class="collapse-toggle">‚ñº</button>
      </div>
      <div class="card-content">
        <p class="card-description">
          Evidence-based, non-judgmental education about substance use, testing, and safer practices 
          for Minnesota's community.
        </p>
        <div class="card-links">
          <a href="#" class="card-link">
            <span class="link-icon">üß™</span>
            <span>Fentanyl Test Strip Distribution (MN Legal)</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üíä</span>
            <span>Drug Interaction Safety Guide</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üå°Ô∏è</span>
            <span>MN Seasonal Safety (Winter/Summer)</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üß†</span>
            <span>Mental Health & Substance Use</span>
          </a>
        </div>
        <a href="#" class="card-cta">Access Educational Materials</a>
      </div>
    </section>

    <!-- Minnesota Resources -->
    <section class="section-card" id="resources">
      <div class="card-header">
        <div class="card-title">
          <div class="card-icon">üìç</div>
          <span>Minnesota Resources</span>
        </div>
        <button class="collapse-toggle">‚ñº</button>
      </div>
      <div class="card-content">
        <p class="card-description">
          Local Minnesota resources including Narcan distribution sites, testing services, support 
          groups, and healthcare providers.
        </p>
        <div class="card-links">
          <a href="#" class="card-link">
            <span class="link-icon">üíä</span>
            <span>Free Narcan Locations in MN</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üè•</span>
            <span>Substance Use Treatment Centers</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">ü§ù</span>
            <span>Support Groups & Peer Networks</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üìã</span>
            <span>MN Harm Reduction Organizations</span>
          </a>
        </div>
        <a href="#" class="card-cta">Explore All MN Resources</a>
      </div>
    </section>

    <!-- Community & Consent -->
    <section class="section-card" id="community">
      <div class="card-header">
        <div class="card-title">
          <div class="card-icon">ü§ù</div>
          <span>Community & Consent</span>
        </div>
        <button class="collapse-toggle">‚ñº</button>
      </div>
      <div class="card-content">
        <p class="card-description">
          Building safer, more inclusive spaces through consent education, bystander intervention, 
          and community accountability.
        </p>
        <div class="card-links">
          <a href="#" class="card-link">
            <span class="link-icon">‚úÖ</span>
            <span>Consent & Boundaries Education</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üëÅÔ∏è</span>
            <span>Bystander Intervention Training</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üõ°Ô∏è</span>
            <span>Violence Prevention Resources</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üåà</span>
            <span>LGBTQ+ Safe Space Guidelines</span>
          </a>
        </div>
        <a href="#" class="card-cta">Join Community Initiatives</a>
      </div>
    </section>

    <!-- Legal Information -->
    <section class="section-card" id="legal">
      <div class="card-header">
        <div class="card-title">
          <div class="card-icon">‚öñÔ∏è</div>
          <span>Minnesota Legal Information</span>
        </div>
        <button class="collapse-toggle">‚ñº</button>
      </div>
      <div class="card-content">
        <p class="card-description">
          Understanding Minnesota laws related to harm reduction, substance use, and community 
          safety. Always consult an attorney for legal advice.
        </p>
        <div class="card-links">
          <a href="#" class="card-link">
            <span class="link-icon">üìú</span>
            <span>MN Good Samaritan Law Explained</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üíä</span>
            <span>Naloxone Access Laws in MN</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üß™</span>
            <span>Drug Testing Equipment Legality</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üëÆ</span>
            <span>Know Your Rights in MN</span>
          </a>
        </div>
        <a href="#" class="card-cta">Read Legal Information</a>
      </div>
    </section>

    <!-- Sober & Substance-Free -->
    <section class="section-card">
      <div class="card-header">
        <div class="card-title">
          <div class="card-icon">üö´</div>
          <span>Sober & Substance-Free Support</span>
        </div>
        <button class="collapse-toggle">‚ñº</button>
      </div>
      <div class="card-content">
        <p class="card-description">
          Resources for sober curious individuals, those in recovery, and anyone choosing 
          substance-free enjoyment of Minnesota's music scene.
        </p>
        <div class="card-links">
          <a href="#" class="card-link">
            <span class="link-icon">üçπ</span>
            <span>Mocktail Recipes & Sober Bars</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">ü§ù</span>
            <span>Sober Rave Communities in MN</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üì±</span>
            <span>Sober Support Apps & Tools</span>
          </a>
          <a href="#" class="card-link">
            <span class="link-icon">üå±</span>
            <span>Recovery Resources in Minnesota</span>
          </a>
        </div>
        <a href="#" class="card-cta">Explore Sober Resources</a>
      </div>
    </section>
  </div>

  <!-- Minnesota County Resources -->
  <section class="county-resources">
    <h2>üìç Minnesota County-Specific Resources</h2>
    <div class="county-tabs">
      <button class="county-tab active" data-county="hennepin">Hennepin County</button>
      <button class="county-tab" data-county="ramsey">Ramsey County</button>
      <button class="county-tab" data-county="dakota">Dakota County</button>
      <button class="county-tab" data-county="anoka">Anoka County</button>
    </div>
    
    <div class="county-content active" id="hennepin-content">
      <div class="resource-item">
        <h4>Hennepin County Public Health</h4>
        <p>Free Narcan distribution, overdose prevention training, and harm reduction supplies.</p>
        <p><strong>Phone:</strong> 612-348-2233</p>
      </div>
      <div class="resource-item">
        <h4>Hennepin Healthcare Emergency</h4>
        <p>Level 1 Trauma Center providing emergency medical services and substance use support.</p>
        <p><strong>Address:</strong> 701 Park Ave, Minneapolis</p>
      </div>
    </div>
    
    <div class="county-content" id="ramsey-content">
      <div class="resource-item">
        <h4>Ramsey County Crisis Response</h4>
        <p>24/7 mental health and substance use crisis intervention services.</p>
        <p><strong>Phone:</strong> 651-266-7900</p>
      </div>
    </div>
    
    <div class="county-content" id="dakota-content">
      <div class="resource-item">
        <h4>Dakota County Public Health</h4>
        <p>Harm reduction services and community health programs.</p>
        <p><strong>Phone:</strong> 952-891-7171</p>
      </div>
    </div>
    
    <div class="county-content" id="anoka-content">
      <div class="resource-item">
        <h4>Anoka County Human Services</h4>
        <p>Substance use treatment referrals and support services.</p>
        <p><strong>Phone:</strong> 763-755-3801</p>
      </div>
    </div>
  </section>

  <!-- Interactive Timer Widget -->
  <section class="timer-widget">
    <div class="timer-header">
      <h3>‚è∞ Hydration & Check-In Reminder</h3>
      <div class="timer-controls">
        <button class="timer-btn" id="startTimer">Start Timer</button>
        <button class="timer-btn primary" id="resetTimer">Reset</button>
      </div>
    </div>
    <div class="timer-display" id="timerDisplay">60:00</div>
    <p>Stay safe by hydrating regularly and checking in with friends. Minnesota events can be intense with temperature extremes.</p>
  </section>
</main>

<!-- Emergency Modal -->
<div class="emergency-modal" id="emergencyModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üö® Emergency Assistance</h2>
      <button class="close-modal" id="closeModal">√ó</button>
    </div>
    <div class="emergency-steps">
      <h3>If someone is unresponsive:</h3>
      <ol>
        <li><strong>Check for responsiveness</strong> - Tap shoulder and shout</li>
        <li><strong>Call 911 immediately</strong> - Minnesota Good Samaritan Law provides protection</li>
        <li><strong>Check breathing</strong> - Look for chest movement</li>
        <li><strong>Administer Narcan</strong> if available and trained</li>
        <li><strong>Perform rescue breathing</strong> if not breathing</li>
        <li><strong>Place in recovery position</strong> if breathing</li>
      </ol>
      
      <h3>Minnesota Overdose Response Numbers:</h3>
      <ul>
        <li>üÜò <strong>911</strong> - Emergency Services</li>
        <li>üÜò <strong>MN Poison Control</strong>: 1-800-222-1222</li>
        <li>üÜò <strong>Crisis Text Line</strong>: Text "HOME" to 741741</li>
        <li>üÜò <strong>MN Crisis Connection</strong>: **CRISIS (**74747)</li>
      </ul>
      
      <div class="legal-disclaimer">
        <p><strong>Minnesota Good Samaritan Law:</strong> MN Stat ¬ß 604A.04 provides limited immunity from prosecution for certain drug-related offenses when seeking medical assistance for an overdose.</p>
      </div>
    </div>
  </div>
</div>

<!-- Floating Donate Button -->
<a href="https://www.venmo.com/u/plurderdapolis" class="floating-donate donate-cta" target="_blank">
  <span>üíñ</span> Support Our Work
</a>

<!-- Mobile HUD -->
<div class="mobile-hud">
  <a href="#emergency" class="hud-btn">
    <span class="icon">üö®</span>
    <span>Emergency</span>
  </a>
  <a href="#resources" class="hud-btn">
    <span class="icon">üìç</span>
    <span>Resources</span>
  </a>
  <a href="#" class="hud-btn" id="openTimer">
    <span class="icon">‚è∞</span>
    <span>Timer</span>
  </a>
  <a href="https://www.venmo.com/u/plurderdapolis" class="hud-btn" target="_blank">
    <span class="icon">üíñ</span>
    <span>Donate</span>
  </a>
</div>

<!-- Footer -->
<footer class="main-footer">
  <div class="footer-content">
    <div class="footer-grid">
      <div class="footer-section">
        <h3>PLURderapolis</h3>
        <div class="footer-links">
          <a href="#" class="footer-link">About Our Mission</a>
          <a href="#" class="footer-link">MN Harm Reduction Principles</a>
          <a href="#" class="footer-link">Volunteer Opportunities</a>
          <a href="#" class="footer-link">Event Safety Services</a>
        </div>
      </div>
      
      <div class="footer-section">
        <h3>Minnesota Resources</h3>
        <div class="footer-links">
          <a href="#" class="footer-link">Narcan Distribution Sites</a>
          <a href="#" class="footer-link">Substance Use Treatment</a>
          <a href="#" class="footer-link">Mental Health Support</a>
          <a href="#" class="footer-link">Legal Resources</a>
        </div>
      </div>
      
      <div class="footer-section">
        <h3>Connect</h3>
        <div class="footer-links">
          <a href="https://www.instagram.com/plurderapolis" class="footer-link" target="_blank">Instagram</a>
          <a href="https://www.facebook.com/plurderapolis" class="footer-link" target="_blank">Facebook</a>
          <a href="mailto:plurderapolis@gmail.com" class="footer-link">Email Us</a>
          <a href="#" class="footer-link">Anonymous Tip Line</a>
        </div>
      </div>
      
      <div class="footer-section">
        <h3>Support Our Work</h3>
        <div class="footer-links">
          <a href="https://www.venmo.com/u/plurderdapolis" class="footer-link" target="_blank" style="color: var(--secondary); font-weight: 600;">
            üíñ Donate via Venmo
          </a>
          <a href="#" class="footer-link">Become a Monthly Supporter</a>
          <a href="#" class="footer-link">Request Training</a>
          <a href="#" class="footer-link">Partner With Us</a>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>¬© 2025 PLURderapolis Minnesota Harm Reduction Collective. All rights reserved.</p>
      <p>This information is provided for educational purposes in accordance with Minnesota law. Not medical or legal advice.</p>
      <p style="font-size: 0.8rem; margin-top: 1rem; color: var(--text-tertiary);">
        Minnesota Statutes Compliance: ¬ß 604A.04 (Good Samaritan) ‚Ä¢ ¬ß 151.37 (Naloxone) ‚Ä¢ ¬ß 145.928 (Harm Reduction)
      </p>
    </div>
  </div>
</footer>

<script>
// Enhanced JavaScript with algorithms, smooth interactions, and Minnesota-specific features

document.addEventListener('DOMContentLoaded', function() {
  // Mobile Navigation
  const mobileMenuBtn = document.getElementById('mobileMenuBtn');
  const mobileNav = document.getElementById('mobileNav');
  const closeMobileNav = document.getElementById('closeMobileNav');
  
  mobileMenuBtn.addEventListener('click', () => {
    mobileNav.classList.add('active');
    document.body.style.overflow = 'hidden';
  });
  
  closeMobileNav.addEventListener('click', () => {
    mobileNav.classList.remove('active');
    document.body.style.overflow = '';
  });
  
  // Close mobile nav when clicking outside
  document.addEventListener('click', (e) => {
    if (!mobileNav.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
      mobileNav.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
  
  // Collapsible Sections
  const collapseToggles = document.querySelectorAll('.collapse-toggle');
  collapseToggles.forEach(toggle => {
    toggle.addEventListener('click', function() {
      const cardContent = this.closest('.section-card').querySelector('.card-content');
      const isExpanded = cardContent.classList.contains('expanded');
      
      // Close all other sections (optional - remove if you want multiple open)
      document.querySelectorAll('.card-content.expanded').forEach(content => {
        if (content !== cardContent) {
          content.classList.remove('expanded');
          content.closest('.section-card').querySelector('.collapse-toggle').classList.remove('expanded');
        }
      });
      
      // Toggle current section
      cardContent.classList.toggle('expanded');
      this.classList.toggle('expanded');
      
      // Smooth scroll to expanded section
      if (!isExpanded) {
        setTimeout(() => {
          cardContent.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 300);
      }
    });
  });
  
  // Open first section by default
  if (collapseToggles.length > 0) {
    collapseToggles[0].click();
  }
  
  // County Resources Tabs
  const countyTabs = document.querySelectorAll('.county-tab');
  countyTabs.forEach(tab => {
    tab.addEventListener('click', function() {
      const county = this.dataset.county;
      
      // Update active tab
      countyTabs.forEach(t => t.classList.remove('active'));
      this.classList.add('active');
      
      // Show corresponding content
      document.querySelectorAll('.county-content').forEach(content => {
        content.classList.remove('active');
      });
      document.getElementById(`${county}-content`).classList.add('active');
    });
  });
  
  // Timer Functionality
  let timerInterval;
  let timeLeft = 60 * 60; // 60 minutes in seconds
  const timerDisplay = document.getElementById('timerDisplay');
  const startTimerBtn = document.getElementById('startTimer');
  const resetTimerBtn = document.getElementById('resetTimer');
  const openTimerBtn = document.getElementById('openTimer');
  
  function updateTimerDisplay() {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    
    // Color coding
    if (timeLeft <= 300) { // 5 minutes or less
      timerDisplay.style.color = 'var(--accent-red)';
      timerDisplay.style.animation = 'pulse 1s infinite';
    } else if (timeLeft <= 900) { // 15 minutes or less
      timerDisplay.style.color = 'var(--accent-yellow)';
    } else {
      timerDisplay.style.color = 'var(--primary)';
    }
  }
  
  function startTimer() {
    if (timerInterval) clearInterval(timerInterval);
    
    timerInterval = setInterval(() => {
      if (timeLeft > 0) {
        timeLeft--;
        updateTimerDisplay();
        
        // Notifications at specific intervals
        if (timeLeft === 1800) { // 30 minutes
          showNotification('‚è∞ 30 minutes left - Time to hydrate!');
        } else if (timeLeft === 300) { // 5 minutes
          showNotification('üö® 5 minutes left - Check on your friends!');
        } else if (timeLeft === 0) {
          showNotification('üîî Timer complete! Drink water and check in with your buddy.');
          clearInterval(timerInterval);
        }
      }
    }, 1000);
    
    startTimerBtn.textContent = 'Pause Timer';
    startTimerBtn.onclick = pauseTimer;
  }
  
  function pauseTimer() {
    clearInterval(timerInterval);
    timerInterval = null;
    startTimerBtn.textContent = 'Resume Timer';
    startTimerBtn.onclick = startTimer;
  }
  
  function resetTimer() {
    clearInterval(timerInterval);
    timerInterval = null;
    timeLeft = 60 * 60;
    updateTimerDisplay();
    startTimerBtn.textContent = 'Start Timer';
    startTimerBtn.onclick = startTimer;
  }
  
  function showNotification(message) {
    // Check if browser supports notifications
    if ('Notification' in window && Notification.permission === 'granted') {
      new Notification('PLURderapolis Reminder', {
        body: message,
        icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üçë</text></svg>'
      });
    }
    
    // Fallback: Create a temporary notification on page
    const notification = document.createElement('div');
    notification.style.cssText = `
      position: fixed;
      top: 100px;
      right: 20px;
      background: var(--bg-card);
      color: var(--text-primary);
      padding: 1rem;
      border-radius: var(--radius-md);
      border-left: 4px solid var(--primary);
      box-shadow: var(--shadow-xl);
      z-index: 10000;
      animation: slideInRight 0.3s ease, fadeOut 0.3s ease 2.7s;
      max-width: 300px;
    `;
    notification.textContent = message;
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.remove();
    }, 3000);
  }
  
  // Request notification permission
  if ('Notification' in window && Notification.permission === 'default') {
    Notification.requestPermission();
  }
  
  startTimerBtn.addEventListener('click', startTimer);
  resetTimerBtn.addEventListener('click', resetTimer);
  
  if (openTimerBtn) {
    openTimerBtn.addEventListener('click', (e) => {
      e.preventDefault();
      document.querySelector('.timer-widget').scrollIntoView({ behavior: 'smooth' });
      startTimer(); // Auto-start when opened from HUD
    });
  }
  
  updateTimerDisplay();
  
  // Enhanced Search Algorithm
  const searchInput = document.getElementById('searchInput');
  const searchResults = document.getElementById('searchResults');
  
  // Minnesota-specific search data
  const searchData = [
    { title: 'Minnesota Good Samaritan Law', category: 'Legal', tags: ['immunity', 'overdose', 'protection', 'MN law'], content: 'MN Statute ¬ß 604A.04 provides limited immunity for seeking medical help during overdoses.' },
    { title: 'Free Narcan in Minneapolis', category: 'Resources', tags: ['naloxone', 'overdose reversal', 'free', 'Hennepin'], content: 'Multiple locations in Minneapolis offer free Narcan kits and training.' },
    { title: 'Fentanyl Test Strips MN', category: 'Education', tags: ['testing', 'harm reduction', 'safety', 'MN legal'], content: 'Information about legally obtaining and using fentanyl test strips in Minnesota.' },
    { title: 'Substance Use Treatment MN', category: 'Resources', tags: ['recovery', 'treatment', 'support', 'Minnesota'], content: 'Minnesota treatment centers and support services for substance use.' },
    { title: 'Harm Reduction Booth Events', category: 'Community', tags: ['events', 'booth', 'resources', 'Twin Cities'], content: 'Upcoming events where PLURderapolis will have harm reduction booths.' },
    { title: 'MN Overdose Prevention', category: 'Education', tags: ['overdose', 'prevention', 'safety', 'training'], content: 'Training and resources for preventing and responding to overdoses.' },
    { title: 'Consent Education MN', category: 'Community', tags: ['consent', 'bystander', 'safety', 'education'], content: 'Workshops and resources about consent and bystander intervention.' },
    { title: 'Sober Rave Community', category: 'Community', tags: ['sober', 'recovery', 'substance-free', 'support'], content: 'Minnesota sober rave communities and substance-free events.' },
    { title: 'Mental Health Crisis MN', category: 'Emergency', tags: ['crisis', 'mental health', 'support', 'hotline'], content: 'Minnesota mental health crisis resources and hotlines.' },
    { title: 'Venue Safety Guidelines', category: 'Education', tags: ['venues', 'safety', 'guidelines', 'Twin Cities'], content: 'Safety guidelines for popular Minnesota music venues.' },
  ];
  
  // Advanced search algorithm with ranking
  function performSearch(query) {
    if (!query.trim()) {
      searchResults.classList.remove('active');
      return;
    }
    
    const terms = query.toLowerCase().split(' ').filter(term => term.length > 0);
    
    // Score each item based on multiple factors
    const scoredResults = searchData.map(item => {
      let score = 0;
      const textToSearch = `${item.title} ${item.category} ${item.tags.join(' ')} ${item.content}`.toLowerCase();
      
      // Exact matches get highest score
      terms.forEach(term => {
        if (item.title.toLowerCase().includes(term)) score += 10;
        if (item.tags.some(tag => tag.toLowerCase() === term)) score += 8;
        if (item.category.toLowerCase().includes(term)) score += 5;
        if (item.content.toLowerCase().includes(term)) score += 3;
        
        // Partial matches
        if (textToSearch.includes(term)) score += 2;
      });
      
      return { ...item, score };
    }).filter(item => item.score > 0)
      .sort((a, b) => b.score - a.score);
    
    displaySearchResults(scoredResults);
  }
  
  function displaySearchResults(results) {
    searchResults.innerHTML = '';
    
    if (results.length === 0) {
      searchResults.innerHTML = '<div class="search-result-item">No results found. Try "Narcan", "MN law", or "overdose".</div>';
    } else {
      results.forEach(result => {
        const item = document.createElement('div');
        item.className = 'search-result-item';
        item.innerHTML = `
          <strong>${result.title}</strong>
          <div style="font-size: 0.8rem; color: var(--text-tertiary); margin: 0.25rem 0;">
            ${result.category} ‚Ä¢ ${result.tags.slice(0, 3).map(tag => `#${tag}`).join(' ')}
          </div>
          <div style="font-size: 0.9rem;">${result.content}</div>
        `;
        item.addEventListener('click', () => {
          // In a real implementation, this would navigate to the specific page
          searchInput.value = result.title;
          searchResults.classList.remove('active');
          alert(`Would navigate to: ${result.title}\n\nThis is a demo. In production, this would link to the detailed resource page.`);
        });
        searchResults.appendChild(item);
      });
    }
    
    searchResults.classList.add('active');
  }
  
  // Debounced search input
  let searchTimeout;
  searchInput.addEventListener('input', function() {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(() => {
      performSearch(this.value);
    }, 300);
  });
  
  // Close search results when clicking outside
  document.addEventListener('click', (e) => {
    if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
      searchResults.classList.remove('active');
    }
  });
  
  // Emergency Modal
  const emergencyModal = document.getElementById('emergencyModal');
  const closeModal = document.getElementById('closeModal');
  
  // Add emergency button to header
  const emergencyBtn = document.createElement('button');
  emergencyBtn.className = 'nav-link';
  emergencyBtn.innerHTML = 'üö® EMERGENCY';
  emergencyBtn.style.color = 'var(--accent-red)';
  emergencyBtn.style.fontWeight = 'bold';
  emergencyBtn.addEventListener('click', (e) => {
    e.preventDefault();
    emergencyModal.classList.add('active');
    document.body.style.overflow = 'hidden';
  });
  
  document.querySelector('.main-nav').insertBefore(emergencyBtn, document.querySelector('.donate-cta'));
  
  closeModal.addEventListener('click', () => {
    emergencyModal.classList.remove('active');
    document.body.style.overflow = '';
  });
  
  // Close modal when clicking outside
  emergencyModal.addEventListener('click', (e) => {
    if (e.target === emergencyModal) {
      emergencyModal.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
  
  // Close modal with Escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && emergencyModal.classList.contains('active')) {
      emergencyModal.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
  
  // Add emergency button to mobile nav
  const mobileEmergencyBtn = document.createElement('a');
  mobileEmergencyBtn.className = 'mobile-nav-link';
  mobileEmergencyBtn.innerHTML = '<span class="icon">üö®</span> EMERGENCY HELP';
  mobileEmergencyBtn.style.color = 'var(--accent-red)';
  mobileEmergencyBtn.style.fontWeight = 'bold';
  mobileEmergencyBtn.addEventListener('click', (e) => {
    e.preventDefault();
    mobileNav.classList.remove('active');
    document.body.style.overflow = '';
    setTimeout(() => {
      emergencyModal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }, 300);
  });
  
  document.querySelector('.mobile-nav-links').prepend(mobileEmergencyBtn);
  
  // Smooth scrolling for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      const href = this.getAttribute('href');
      if (href === '#') return;
      
      e.preventDefault();
      const target = document.querySelector(href);
      if (target) {
        const headerOffset = 80;
        const elementPosition = target.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
        
        window.scrollTo({
          top: offsetPosition,
          behavior: 'smooth'
        });
      }
    });
  });
  
  // Parallax effect for skyline
  window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const stars = document.querySelector('.stars');
    const buildings = document.querySelector('.building-container');
    
    if (stars) {
      stars.style.transform = `translateY(${scrolled * 0.1}px)`;
    }
    
    if (buildings) {
      buildings.style.transform = `translateY(${scrolled * 0.05}px)`;
    }
  });
  
  // Initialize building window lights animation
  function animateWindowLights() {
    document.querySelectorAll('.building').forEach((building, index) => {
      const light = building.querySelector('::after') || building;
      setTimeout(() => {
        light.style.animation = 'window-light 10s infinite alternate';
      }, index * 1000);
    });
  }
  
  // Call after a short delay
  setTimeout(animateWindowLights, 1000);
  
  // Add CSS for animations
  const style = document.createElement('style');
  style.textContent = `
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    @keyframes slideInRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    
    .search-result-item {
      transition: all 0.2s ease;
    }
    
    .search-result-item:hover {
      background: rgba(0, 247, 224, 0.1) !important;
      transform: translateX(5px);
    }
  `;
  document.head.appendChild(style);
  
  // Analytics and engagement tracking (privacy-focused)
  let pageEngagement = {
    sectionsOpened: [],
    timeOnPage: 0,
    searchesPerformed: 0
  };
  
  // Track section opens
  document.querySelectorAll('.collapse-toggle').forEach(toggle => {
    toggle.addEventListener('click', function() {
      const sectionTitle = this.closest('.section-card').querySelector('.card-title span').textContent;
      if (!pageEngagement.sectionsOpened.includes(sectionTitle)) {
        pageEngagement.sectionsOpened.push(sectionTitle);
      }
    });
  });
  
  // Track search usage
  searchInput.addEventListener('search', () => {
    pageEngagement.searchesPerformed++;
  });
  
  // Track time on page
  setInterval(() => {
    pageEngagement.timeOnPage++;
  }, 1000);
  
  // Minnesota-specific welcome message
  if (!localStorage.getItem('plurderapolis_welcome')) {
    setTimeout(() => {
      showNotification('Welcome to PLURderapolis - Minnesota\'s harm reduction resource. Stay safe out there!');
      localStorage.setItem('plurderapolis_welcome', 'true');
    }, 2000);
  }
});

// Service Worker registration for PWA capabilities
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js').catch(error => {
      console.log('ServiceWorker registration failed:', error);
    });
  });
}

// Add to homescreen prompt for iOS
let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
  // Prevent Chrome 67 and earlier from automatically showing the prompt
  e.preventDefault();
  // Stash the event so it can be triggered later
  deferredPrompt = e;
  
  // Show custom install prompt
  setTimeout(() => {
    if (confirm('Add PLURderapolis to your home screen for quick access to Minnesota harm reduction resources?')) {
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('User accepted the install prompt');
        }
        deferredPrompt = null;
      });
    }
  }, 10000); // Show after 10 seconds
});
</script>
</body>
</html>
