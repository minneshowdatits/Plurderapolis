<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLURderapolis ‚Äî Harm Reduction for Minnesota Ravers</title>
    <meta name="description" content="Minnesota's premier harm reduction resource for the electronic music community. Find Narcan, emergency guides, drug safety tools, and support.">
    <meta name="keywords" content="harm reduction, Minnesota, rave, electronic music, drug safety, overdose prevention, Narcan, Naloxone, PLUR, Minneapolis, St. Paul, fentanyl, xylazine, Good Samaritan Law">
    <meta name="author" content="PLURderapolis">
    
    <!-- Open Graph / Social Meta -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://plurderapolis.org/">
    <meta property="og:title" content="PLURderapolis ‚Äî Harm Reduction for Minnesota Ravers">
    <meta property="og:description" content="Your partners in shine. Find Narcan, emergency guides, and tools for safer nightlife in Minnesota.">
    <meta property="og:image" content="https://plurderapolis.org/images/social-preview.jpg">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "PLURderapolis",
        "description": "Harm reduction resource for Minnesota's electronic music community",
        "url": "https://plurderapolis.org",
        "sameAs": [
            "https://www.instagram.com/plurderapolis",
            "https://www.facebook.com/plurderapolis"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "email": "plurderapolis@gmail.com",
            "contactType": "Customer service"
        }
    }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçë</text></svg>">
    
    <!-- Fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Inter:wght@300;400;500;600;700&display=swap">
    
    <style>
        /* ========== CSS RESET & VARIABLES ========== */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        :root {
            --primary: #00f7e0;
            --secondary: #ff69b4;
            --danger: #ff4757;
            --warning: #ffb300;
            --success: #00c896;
            --deep-bg: #0d0d1a;
            --card-bg: rgba(26, 15, 46, 0.7);
            --text-light: #f0f0ff;
            --text-muted: #a0a0c0;
            --border-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background: var(--deep-bg);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* ========== ENHANCED ANIMATED BACKGROUND ========== */
        .background-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -3;
            overflow: hidden;
        }
        
        .gradient-backdrop {
            position: absolute;
            width: 100%; height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 247, 224, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 105, 180, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 50%, rgba(138, 130, 255, 0.05) 0%, transparent 60%);
            animation: gradientShift 20s ease infinite alternate;
        }
        
        .holographic-grid {
            position: absolute;
            width: 200%; height: 200%;
            background-image: 
                linear-gradient(90deg, transparent 49%, rgba(0, 247, 224, 0.03) 50%, transparent 51%),
                linear-gradient(0deg, transparent 49%, rgba(255, 105, 180, 0.03) 50%, transparent 51%);
            background-size: 60px 60px;
            animation: gridFloat 40s linear infinite;
            opacity: 0.3;
        }
        
        .glitch-lights {
            position: absolute;
            width: 100%; height: 100%;
        }
        
        .glitch-light {
            position: absolute;
            width: 2px; height: 100px;
            background: linear-gradient(to bottom, transparent, var(--primary), transparent);
            animation: glitchMove 3s infinite;
            opacity: 0;
        }
        
        .dance-light {
            position: absolute;
            width: 150px; height: 150px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,105,180,0.1) 0%, transparent 70%);
            animation: danceFloat 15s infinite linear;
            filter: blur(20px);
        }
        
        @keyframes gradientShift {
            0% { transform: scale(1) rotate(0deg); }
            100% { transform: scale(1.1) rotate(1deg); }
        }
        
        @keyframes gridFloat {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-50px, -50px) rotate(0.5deg); }
        }
        
        @keyframes glitchMove {
            0% { opacity: 0; transform: translateY(-100px) rotate(0deg); }
            10% { opacity: 0.3; }
            20% { opacity: 0; }
            100% { opacity: 0; transform: translateY(100vh) rotate(360deg); }
        }
        
        @keyframes danceFloat {
            0% { transform: translate(0, 0); opacity: 0.3; }
            25% { transform: translate(100px, 50px); opacity: 0.5; }
            50% { transform: translate(50px, 100px); opacity: 0.3; }
            75% { transform: translate(-50px, 75px); opacity: 0.5; }
            100% { transform: translate(0, 0); opacity: 0.3; }
        }
        
        /* ========== HEADER & NAVIGATION ========== */
        .header-wrapper {
            position: relative;
            z-index: 2;
            background: rgba(13, 13, 26, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 247, 224, 0.2);
        }
        
        .main-header {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem;
            text-align: center;
        }
        
        .site-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            font-size: clamp(2.5rem, 6vw, 3.5rem);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
            position: relative;
            display: inline-block;
        }
        
        .site-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 10%;
            width: 80%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: titleGlow 2s infinite alternate;
        }
        
        @keyframes titleGlow {
            0% { opacity: 0.3; }
            100% { opacity: 0.7; }
        }
        
        .tagline {
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }
        
        /* ========== EMERGENCY ALERT ========== */
        .emergency-alert {
            background: linear-gradient(90deg, 
                rgba(255, 71, 87, 0.2), 
                rgba(255, 71, 87, 0.3), 
                rgba(255, 71, 87, 0.2));
            border-top: 1px solid var(--danger);
            border-bottom: 1px solid var(--danger);
            padding: 0.8rem 1rem;
            margin: 0.5rem 0 1.5rem;
            overflow: hidden;
            position: relative;
        }
        
        .alert-scroll {
            display: inline-block;
            white-space: nowrap;
            padding-left: 100%;
            animation: scrollAlert 25s linear infinite;
            color: #fff;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        @keyframes scrollAlert {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        /* ========== PANIC PEACH MODULE (PRIORITY) ========== */
        #panicPeach {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 1000;
            cursor: move;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            touch-action: none;
        }
        
        #panicButton {
            width: 70px;
            height: 70px;
            font-size: 3rem;
            background: radial-gradient(circle at 35% 35%, #ffb07c, #ff6f91);
            border-radius: 50% 50% 45% 55% / 60% 55% 45% 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            text-decoration: none;
            color: #fff;
            box-shadow: 
                0 0 20px var(--secondary),
                0 0 40px rgba(255, 105, 180, 0.3),
                inset 0 5px 20px rgba(255, 255, 255, 0.3);
            animation: peachFloat 4s ease-in-out infinite;
            user-select: none;
            position: relative;
            transition: var(--transition);
        }
        
        #panicButton::before {
            content: "";
            position: absolute;
            top: -8px;
            left: 22px;
            width: 15px;
            height: 12px;
            background: linear-gradient(135deg, #ff9a7a, #ff7a5a);
            border-radius: 50%;
            transform: rotate(-20deg);
        }
        
        #panicButton:hover {
            animation: none;
            transform: scale(1.15) rotate(5deg);
            box-shadow: 
                0 0 30px var(--secondary),
                0 0 60px rgba(255, 105, 180, 0.5),
                inset 0 5px 20px rgba(255, 255, 255, 0.5);
        }
        
        @keyframes peachFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(3deg); }
        }
        
        .panic-help {
            color: #ff9a7a;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 154, 122, 0.7);
            font-size: 0.9rem;
            animation: pulseHelp 2s infinite;
            background: rgba(0, 0, 0, 0.5);
            padding: 4px 12px;
            border-radius: 20px;
        }
        
        @keyframes pulseHelp {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* ========== PRIORITY SECTIONS GRID ========== */
        .priority-grid {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .priority-group {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            border: 1px solid rgba(0, 247, 224, 0.1);
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out;
            position: relative;
            overflow: hidden;
        }
        
        .priority-group::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .priority-group:nth-child(1) { animation-delay: 0.1s; }
        .priority-group:nth-child(2) { animation-delay: 0.2s; }
        .priority-group:nth-child(3) { animation-delay: 0.3s; }
        .priority-group:nth-child(4) { animation-delay: 0.4s; }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .priority-group:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 247, 224, 0.1);
        }
        
        .group-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 1rem;
        }
        
        .group-icon {
            font-size: 2rem;
        }
        
        .group-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.3rem;
            color: var(--primary);
        }
        
        .group-content {
            margin-top: 1rem;
        }
        
        .resource-list {
            list-style: none;
            margin: 1rem 0;
        }
        
        .resource-item {
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 3px solid var(--primary);
            transition: var(--transition);
        }
        
        .resource-item:hover {
            background: rgba(0, 0, 0, 0.4);
            transform: translateX(5px);
        }
        
        .resource-link {
            color: var(--text-light);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            width: 100%;
            margin-top: 1rem;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 247, 224, 0.3);
        }
        
        /* ========== MOBILE OPTIMIZATIONS ========== */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(13, 13, 26, 0.95);
            backdrop-filter: blur(15px);
            display: flex;
            justify-content: space-around;
            padding: 0.8rem 0;
            z-index: 999;
            border-top: 1px solid rgba(0, 247, 224, 0.2);
        }
        
        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-muted);
            text-decoration: none;
            padding: 0.5rem;
            font-size: 0.8rem;
            transition: var(--transition);
            flex: 1;
            text-align: center;
        }
        
        .nav-btn:hover,
        .nav-btn.active {
            color: var(--primary);
        }
        
        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }
        
        /* ========== TIMER WIDGET (MOBILE OPTIMIZED) ========== */
        .timer-widget {
            background: rgba(26, 15, 46, 0.8);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            margin: 1.5rem 0;
            border: 1px solid rgba(0, 247, 224, 0.2);
        }
        
        .timer-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        .timer-btn {
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: var(--text-light);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .timer-btn:hover {
            background: var(--primary);
            color: #000;
        }
        
        /* ========== MODALS ========== */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        
        .modal-content {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid var(--primary);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .close-modal {
            position: absolute;
            top: 1rem; right: 1rem;
            background: none;
            border: none;
            color: var(--primary);
            font-size: 2rem;
            cursor: pointer;
            width: 40px; height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .close-modal:hover {
            background: rgba(0, 247, 224, 0.2);
            transform: rotate(90deg);
        }
        
        /* ========== LEGAL DISCLAIMER SECTION ========== */
        .legal-section {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid rgba(255, 71, 87, 0.3);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 2rem auto;
            max-width: 1200px;
        }
        
        .legal-title {
            color: var(--danger);
            margin-bottom: 1rem;
        }
        
        /* ========== FOOTER ========== */
        footer {
            background: rgba(13, 13, 26, 0.95);
            padding: 2rem 1.5rem;
            margin-top: 3rem;
            border-top: 1px solid rgba(0, 247, 224, 0.2);
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .footer-section h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.5rem;
        }
        
        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-links a:hover {
            color: var(--primary);
            padding-left: 5px;
        }
        
        .copyright {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 768px) {
            .priority-grid {
                grid-template-columns: 1fr;
                padding: 0 1rem;
                gap: 1rem;
            }
            
            .timer-controls {
                grid-template-columns: 1fr;
            }
            
            .mobile-nav {
                display: flex;
            }
            
            #panicPeach {
                bottom: 80px;
                right: 15px;
            }
            
            #panicButton {
                width: 60px;
                height: 60px;
                font-size: 2.5rem;
            }
            
            .modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }
        }
        
        @media (min-width: 769px) {
            .mobile-nav {
                display: none;
            }
        }
        
        @media (min-width: 1024px) {
            .priority-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Enhanced Animated Background -->
    <div class="background-container" aria-hidden="true">
        <div class="gradient-backdrop"></div>
        <div class="holographic-grid"></div>
        <div class="glitch-lights" id="glitchLights"></div>
        <div class="dance-light" style="top: 20%; left: 10%;"></div>
        <div class="dance-light" style="top: 60%; left: 80%; animation-delay: -5s;"></div>
        <div class="dance-light" style="top: 80%; left: 30%; animation-delay: -10s;"></div>
    </div>
    
    <!-- Header -->
    <header class="header-wrapper">
        <div class="main-header">
            <h1 class="site-title">PLURderapolis</h1>
            <p class="tagline">Harm Reduction for Minnesota Ravers</p>
        </div>
        
        <!-- Emergency Alert -->
        <div class="emergency-alert">
            <div class="alert-scroll">
                üö® MINNESOTA GOOD SAMARITAN LAW: Call 911 for overdoses without fear of minor drug possession charges (MN Statute ¬ß604A.05). 
                üíä FREE NARCAN: Available at many MN pharmacies and community organizations. 
                ‚ö†Ô∏è Xylazine (tranq) in local supply - causes severe wounds & doesn't respond to Narcan. 
                üß™ Test your substances. Never use alone. 
            </div>
        </div>
    </header>
    
    <!-- Panic Peach Module (High Priority) -->
    <div id="panicPeach">
        <div id="panicButton" role="button" aria-label="Emergency panic button" tabindex="0">üçë</div>
        <div class="panic-help">HELP!</div>
    </div>
    
    <!-- Priority Grid -->
    <main class="priority-grid">
        <!-- Group 1: Emergency & Crisis -->
        <section class="priority-group" id="emergency-group">
            <div class="group-header">
                <div class="group-icon">üö®</div>
                <h2 class="group-title">Emergency & Crisis Response</h2>
            </div>
            <p>Immediate access to life-saving resources and emergency protocols.</p>
            <div class="group-content">
                <ul class="resource-list">
                    <li class="resource-item">
                        <a href="#emergencyModal" class="resource-link" onclick="showEmergencyModal()">
                            <span>üÜò</span> Emergency Overdose Response Guide
                        </a>
                    </li>
                    <li class="resource-item">
                        <a href="#narcanModal" class="resource-link" onclick="showNarcanModal()">
                            <span>üíä</span> Find Free Narcan in Minnesota
                        </a>
                    </li>
                    <li class="resource-item">
                        <a href="badtrip.html" class="resource-link">
                            <span>üåà</span> Bad Trip Support & Grounding
                        </a>
                    </li>
                    <li class="resource-item">
                        <a href="spiking.html" class="resource-link">
                            <span>üö´</span> Drink Spiking Prevention & Response
                        </a>
                    </li>
                </ul>
                <button class="btn" onclick="showEmergencyModal()">
                    üö® View Emergency Protocol
                </button>
            </div>
        </section>
        
        <!-- Group 2: Narcan & Overdose Prevention -->
        <section class="priority-group" id="narcan-group">
            <div class="group-header">
                <div class="group-icon">üíä</div>
                <h2 class="group-title">Narcan & Overdose Prevention</h2>
            </div>
            <p><strong>Naloxone (Narcan¬Æ)</strong> saves lives. Know how to use it and where to get it in Minnesota.</p>
            <div class="group-content">
                <div class="timer-widget">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">‚è±Ô∏è Overdose Response Timer</h3>
                    <div style="display: grid; gap: 1rem;">
                        <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Call 911</span>
                                <span id="timer-911">--:--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Administer Narcan</span>
                                <span id="timer-narcan">--:--</span>
                            </div>
                        </div>
                        <div class="timer-controls">
                            <button class="timer-btn" onclick="startResponseTimer()">
                                ‚è±Ô∏è Start Response Timer
                            </button>
                            <button class="timer-btn" onclick="resetResponseTimer()">
                                üîÑ Reset Timer
                            </button>
                        </div>
                    </div>
                </div>
                <button class="btn" onclick="showNarcanModal()">
                    üíä Find Narcan Locations
                </button>
            </div>
        </section>
        
        <!-- Group 3: Substance Safety & Testing -->
        <section class="priority-group" id="safety-group">
            <div class="group-header">
                <div class="group-icon">üî¨</div>
                <h2 class="group-title">Substance Safety & Testing</h2>
            </div>
            <p>Over 70% of overdose deaths involve synthetic opioids like fentanyl. Test before you trust.</p>
            <div class="group-content">
                <ul class="resource-list">
                    <li class="resource-item">
                        <a href="polydrug.html" class="resource-link">
                            <span>‚ö°</span> Polydrug Interaction Checker
                        </a>
                    </li>
                    <li class="resource-item">
                        <a href="fake.html" class="resource-link">
                            <span>‚ö†Ô∏è</span> Current MN Drug Alerts
                        </a>
                    </li>
                    <li class="resource-item">
                        <a href="rx-combos.html" class="resource-link">
                            <span>üíä</span> RX + Party Drug Risks
                        </a>
                    </li>
                    <li class="resource-item">
                        <a href="https://www.health.state.mn.us/communities/overdose/harmreduce/naloxone.html" 
                           target="_blank" class="resource-link">
                            <span>üè•</span> MN Dept. of Health Resources
                        </a>
                    </li>
                </ul>
                <button class="btn" onclick="window.location.href='fake.html'">
                    üîç View Drug Alerts
                </button>
            </div>
        </section>
        
        <!-- Group 4: Health & Wellness -->
        <section class="priority-group" id="wellness-group">
            <div class="group-header">
                <div class="group-icon">üíö</div>
                <h2 class="group-title">Health & Wellness</h2>
            </div>
            <p>Take care of yourself and your friends. Stay hydrated, nourished, and connected.</p>
            <div class="group-content">
                <div class="timer-widget">
                    <h3 style="color: var(--success); margin-bottom: 1rem;">üíß Hydration & Check-in Timer</h3>
                    <div style="display: grid; gap: 0.8rem;">
                        <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>üíß Drink Water</span>
                                <span id="water-timer">60:00</span>
                            </div>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>üë• Buddy Check</span>
                                <span id="buddy-timer">120:00</span>
                            </div>
                        </div>
                    </div>
                    <div class="timer-controls">
                        <button class="timer-btn" onclick="startHydrationTimer()">
                            üíß Start Hydration Timer
                        </button>
                        <button class="timer-btn" onclick="startBuddyTimer()">
                            üë• Start Buddy Timer
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Legal Disclaimer -->
    <section class="legal-section">
        <h2 class="legal-title">‚ö†Ô∏è Legal & Medical Disclaimer</h2>
        <p><strong>PLURderapolis provides harm reduction education and resources only.</strong> This is not medical or legal advice. Always consult with healthcare professionals for medical concerns and legal professionals for legal advice.</p>
        <p><strong>Minnesota Good Samaritan Law:</strong> Minnesota Statute ¬ß604A.05 provides limited immunity from drug possession charges for individuals who seek medical assistance for an overdose.</p>
        <p><strong>Naloxone (Narcan¬Æ)</strong> is a medication that can reverse opioid overdoses. It is available at many Minnesota pharmacies and through community programs.</p>
        <p><strong>Always test substances</strong> using multiple methods when possible. The drug supply changes frequently.</p>
    </section>
    
    <!-- Mobile Navigation -->
    <nav class="mobile-nav" aria-label="Mobile navigation">
        <a href="#emergency-group" class="nav-btn" onclick="scrollToSection('emergency-group')">
            <span class="nav-icon">üö®</span> Emergency
        </a>
        <a href="#narcan-group" class="nav-btn" onclick="scrollToSection('narcan-group')">
            <span class="nav-icon">üíä</span> Narcan
        </a>
        <a href="#safety-group" class="nav-btn" onclick="scrollToSection('safety-group')">
            <span class="nav-icon">üî¨</span> Safety
        </a>
        <a href="#wellness-group" class="nav-btn" onclick="scrollToSection('wellness-group')">
            <span class="nav-icon">üíö</span> Wellness
        </a>
        <a href="#panicButton" class="nav-btn" onclick="showEmergencyModal()">
            <span class="nav-icon">üçë</span> Panic
        </a>
    </nav>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>PLURderapolis</h3>
                <p>Your partners in shine. Grassroots harm reduction for Minnesota's electronic music community.</p>
                <p>Email: <a href="mailto:plurderapolis@gmail.com">plurderapolis@gmail.com</a></p>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#emergency-group">Emergency Response</a></li>
                    <li><a href="#narcan-group">Find Narcan</a></li>
                    <li><a href="fake.html">Drug Alerts</a></li>
                    <li><a href="consent.html">Consent Education</a></li>
                    <li><a href="sober.html">Sober Resources</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Connect</h3>
                <ul class="footer-links">
                    <li><a href="https://www.instagram.com/plurderapolis" target="_blank">Instagram</a></li>
                    <li><a href="https://www.facebook.com/plurderapolis" target="_blank">Facebook</a></li>
                    <li><a href="booth.html">Our Harm Reduction Booth</a></li>
                    <li><a href="http://users.smartgb.com/g/g.php?a=s&i=g19-02505-d5" target="_blank">Anonymous Tip Form</a></li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2025 PLURderapolis ‚Äî Community Harm Reduction</p>
            <p>This information is provided for educational purposes only. Your privacy is respected.</p>
        </div>
    </footer>
    
    <!-- Emergency Modal -->
    <div class="modal" id="emergencyModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeEmergencyModal()" aria-label="Close modal">&times;</button>
            <h2>üö® Emergency Overdose Response</h2>
            
            <div style="display: grid; gap: 1rem; margin: 1.5rem 0;">
                <div style="background: rgba(255, 71, 87, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--danger);">
                    <h3>1. CALL 911 IMMEDIATELY</h3>
                    <p>Say: "Someone is unresponsive, suspected overdose." Give location clearly. Minnesota's Good Samaritan Law provides protections.</p>
                </div>
                
                <div style="background: rgba(0, 199, 150, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--success);">
                    <h3>2. CHECK FOR RESPONSIVENESS</h3>
                    <p>Shake shoulders and shout. Check breathing: Look for chest movement, listen for breaths, feel for air.</p>
                </div>
                
                <div style="background: rgba(0, 247, 224, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--primary);">
                    <h3>3. GIVE NARCAN (Naloxone)</h3>
                    <p><strong>Nasal Spray:</strong> Insert tip into nostril, press plunger firmly.</p>
                    <p><strong>Repeat every 2-3 minutes</strong> if no response. Naloxone wears off in 30-90 minutes.</p>
                </div>
                
                <div style="background: rgba(255, 105, 180, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--secondary);">
                    <h3>4. RESCUE BREATHING / CPR</h3>
                    <p>If not breathing: Tilt head back, pinch nose, give 2 slow breaths. Continue 1 breath every 5 seconds.</p>
                </div>
                
                <div style="background: rgba(255, 179, 0, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--warning);">
                    <h3>5. RECOVERY POSITION & MONITOR</h3>
                    <p>If breathing: Place on side to prevent choking. Stay until EMS arrives. Overdose may return as naloxone wears off.</p>
                </div>
            </div>
            
            <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; margin: 1.5rem 0;">
                <h3>üìû Minnesota Emergency Resources</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.5rem;">üÜò <strong>MN Poison Control:</strong> 1-800-222-1222</li>
                    <li style="margin-bottom: 0.5rem;">üÜò <strong>Crisis Text Line:</strong> Text "HOME" to 741741</li>
                    <li style="margin-bottom: 0.5rem;">üÜò <strong>Never Use Alone Hotline:</strong> 1-800-484-3731</li>
                    <li>üÜò <strong>Mobile Crisis Services:</strong> **CRISIS (**74747)</li>
                </ul>
            </div>
            
            <button class="btn" onclick="window.location.href='emergency.html'">
                üìñ View Full Emergency Guides
            </button>
        </div>
    </div>
    
    <!-- Narcan Modal -->
    <div class="modal" id="narcanModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeNarcanModal()" aria-label="Close modal">&times;</button>
            <h2>üíä Find Free Narcan in Minnesota</h2>
            
            <div style="margin: 1.5rem 0;">
                <h3>üìç Where to Get Free Naloxone:</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 1rem; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 8px;">
                        <strong>MN Department of Health</strong><br>
                        <a href="https://www.health.state.mn.us/communities/overdose/harmreduce/naloxone.html" target="_blank">
                            Find locations statewide
                        </a>
                    </li>
                    <li style="margin-bottom: 1rem; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 8px;">
                        <strong>Steve Rummler HOPE Network</strong><br>
                        Naloxone access & training: 952-943-3937
                    </li>
                    <li style="margin-bottom: 1rem; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 8px;">
                        <strong>Many MN Pharmacies</strong><br>
                        Available without prescription under statewide standing order
                    </li>
                </ul>
            </div>
            
            <div style="background: rgba(0, 199, 150, 0.1); padding: 1rem; border-radius: 8px; margin: 1.5rem 0;">
                <h3>‚úÖ How to Use Narcan Nasal Spray:</h3>
                <ol style="padding-left: 1.5rem; margin: 0.5rem 0;">
                    <li>Remove from package</li>
                    <li>Hold with thumb on bottom, fingers on top</li>
                    <li>Insert tip into nostril</li>
                    <li>Press plunger firmly</li>
                    <li>Wait 2-3 minutes, repeat if needed</li>
                </ol>
            </div>
            
            <button class="btn" onclick="window.open('https://www.health.state.mn.us/communities/overdose/harmreduce/naloxone.html', '_blank')">
                üìç Find Narcan Near You
            </button>
        </div>
    </div>
    
    <script>
        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            initializeGlitchLights();
            initializePanicPeach();
            initializeTimers();
            console.log('PLURderapolis initialized with Minnesota harm reduction resources.');
        });
        
        // ========== GLITCH LIGHTS BACKGROUND ==========
        function initializeGlitchLights() {
            const container = document.getElementById('glitchLights');
            for (let i = 0; i < 15; i++) {
                const light = document.createElement('div');
                light.className = 'glitch-light';
                light.style.left = Math.random() * 100 + '%';
                light.style.animationDelay = Math.random() * 5 + 's';
                light.style.animationDuration = 2 + Math.random() * 4 + 's';
                container.appendChild(light);
            }
        }
        
        // ========== PANIC PEACH FUNCTIONALITY ==========
        function initializePanicPeach() {
            const peach = document.getElementById('panicPeach');
            const button = document.getElementById('panicButton');
            let isDragging = false;
            let startX, startY, initialX, initialY;
            
            button.addEventListener('click', () => showEmergencyModal());
            button.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' || e.key === ' ') showEmergencyModal();
            });
            
            // Desktop dragging
            peach.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            
            // Mobile dragging
            peach.addEventListener('touchstart', (e) => {
                e.preventDefault();
                isDragging = true;
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                initialX = peach.offsetLeft;
                initialY = peach.offsetTop;
            });
            
            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                e.preventDefault();
                const dx = e.touches[0].clientX - startX;
                const dy = e.touches[0].clientY - startY;
                updatePosition(dx, dy);
            });
            
            document.addEventListener('touchend', stopDrag);
            
            function startDrag(e) {
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                initialX = peach.offsetLeft;
                initialY = peach.offsetTop;
            }
            
            function drag(e) {
                if (!isDragging) return;
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                updatePosition(dx, dy);
            }
            
            function updatePosition(dx, dy) {
                let newX = initialX + dx;
                let newY = initialY + dy;
                
                // Keep within viewport
                newX = Math.max(10, Math.min(newX, window.innerWidth - peach.offsetWidth - 10));
                newY = Math.max(10, Math.min(newY, window.innerHeight - peach.offsetHeight - 10));
                
                peach.style.left = newX + 'px';
                peach.style.top = newY + 'px';
            }
            
            function stopDrag() {
                isDragging = false;
                localStorage.setItem('peachPosition', JSON.stringify({
                    x: peach.offsetLeft,
                    y: peach.offsetTop
                }));
            }
            
            // Load saved position
            const savedPos = localStorage.getItem('peachPosition');
            if (savedPos) {
                const pos = JSON.parse(savedPos);
                peach.style.left = pos.x + 'px';
                peach.style.top = pos.y + 'px';
            }
        }
        
        // ========== TIMER FUNCTIONALITY ==========
        let timers = {
            emergency: null,
            water: null,
            buddy: null
        };
        
        function initializeTimers() {
            // Load saved timer intervals
            const saved = localStorage.getItem('plurderapolisTimers');
            if (saved) {
                Object.assign(timers, JSON.parse(saved));
            }
        }
        
        function startResponseTimer() {
            const startTime = Date.now();
            const timer911 = document.getElementById('timer-911');
            const timerNarcan = document.getElementById('timer-narcan');
            
            timer911.textContent = 'NOW';
            timerNarcan.textContent = 'NOW';
            
            setTimeout(() => {
                timerNarcan.textContent = '2:00';
                setTimeout(() => {
                    timerNarcan.textContent = 'REPEAT';
                }, 120000);
            }, 2000);
        }
        
        function resetResponseTimer() {
            document.getElementById('timer-911').textContent = '--:--';
            document.getElementById('timer-narcan').textContent = '--:--';
        }
        
        function startHydrationTimer() {
            const display = document.getElementById('water-timer');
            let minutes = 60;
            let seconds = 0;
            
            const interval = setInterval(() => {
                if (seconds === 0) {
                    if (minutes === 0) {
                        clearInterval(interval);
                        display.textContent = 'DRINK!';
                        display.style.color = 'var(--primary)';
                        if (Notification.permission === 'granted') {
                            new Notification('üíß Time to drink water!', {
                                body: 'Stay hydrated for your health.'
                            });
                        }
                        return;
                    }
                    minutes--;
                    seconds = 59;
                } else {
                    seconds--;
                }
                
                display.textContent = minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');
            }, 1000);
            
            timers.water = interval;
        }
        
        function startBuddyTimer() {
            const display = document.getElementById('buddy-timer');
            let minutes = 120;
            let seconds = 0;
            
            const interval = setInterval(() => {
                if (seconds === 0) {
                    if (minutes === 0) {
                        clearInterval(interval);
                        display.textContent = 'CHECK!';
                        display.style.color = 'var(--secondary)';
                        if (Notification.permission === 'granted') {
                            new Notification('üë• Check on your buddy!', {
                                body: 'A quick check-in can make a big difference.'
                            });
                        }
                        return;
                    }
                    minutes--;
                    seconds = 59;
                } else {
                    seconds--;
                }
                
                display.textContent = minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');
            }, 1000);
            
            timers.buddy = interval;
        }
        
        // ========== MODAL FUNCTIONS ==========
        function showEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        function closeEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'none';
            document.body.style.overflow = '';
        }
        
        function showNarcanModal() {
            document.getElementById('narcanModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        function closeNarcanModal() {
            document.getElementById('narcanModal').style.display = 'none';
            document.body.style.overflow = '';
        }
        
        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
                document.body.style.overflow = '';
            }
        });
        
        // Close modals with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeEmergencyModal();
                closeNarcanModal();
            }
        });
        
        // ========== MOBILE NAVIGATION ==========
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
                
                // Add highlight effect
                section.style.boxShadow = '0 0 0 3px var(--primary)';
                setTimeout(() => {
                    section.style.boxShadow = '';
                }, 1000);
            }
        }
        
        // ========== NOTIFICATION PERMISSION ==========
        if ('Notification' in window && Notification.permission === 'default') {
            setTimeout(() => {
                Notification.requestPermission();
            }, 3000);
        }
        
        // ========== SAVE TIMERS ON UNLOAD ==========
        window.addEventListener('beforeunload', () => {
            localStorage.setItem('plurderapolisTimers', JSON.stringify(timers));
        });
    </script>
</body>
</html>
