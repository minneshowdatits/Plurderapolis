<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Know Your Rights & Safety Resources ‚Äî Minnesota | Plurderapolis.org</title>
    <meta name="description" content="Practical safety and harm reduction resources for Minnesota: immigrant rights, legal support, safe rides, protest safety, digital privacy, and community care.">
    <meta name="keywords" content="Minnesota,immigrant rights,legal support,protest safety,harm reduction,community resources,emergency contacts,digital privacy">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://plurderapolis.org/know-your-rights">
    <meta property="og:title" content="Know Your Rights & Safety Resources ‚Äî Minnesota">
    <meta property="og:description" content="Practical safety and harm reduction resources for Minnesota">
    <meta property="og:image" content="https://plurderapolis.org/images/rights-social.jpg">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://plurderapolis.org/know-your-rights">
    <meta property="twitter:title" content="Know Your Rights & Safety Resources ‚Äî Minnesota">
    <meta property="twitter:description" content="Practical safety and harm reduction resources for Minnesota">
    <meta property="twitter:image" content="https://plurderapolis.org/images/rights-social.jpg">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Know Your Rights & Safety Resources ‚Äî Minnesota",
        "description": "Practical safety and harm reduction resources for Minnesota",
        "url": "https://plurderapolis.org/know-your-rights",
        "publisher": {
            "@type": "Organization",
            "name": "PLURderapolis",
            "url": "https://plurderapolis.org"
        }
    }
    </script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öñÔ∏è</text></svg>">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Roboto:wght@400;500;700&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f7e0;
            --secondary: #ff69b4;
            --accent1: #bf00bf;
            --accent2: #e051ff;
            --accent3: #00b7ff;
            --accent4: #ff9a7a;
            --accent5: #00c896;
            --accent6: #ffb300;
            --dark-bg: #0d0d0d;
            --card-bg: #3a0052;
            --light-text: #fff;
            --medium-text: #ccc;
            --alert-red: #ff4444;
            --success-green: #00c896;
            --warning-orange: #ffb300;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 4rem;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: var(--dark-bg);
            color: var(--light-text);
            line-height: 1.7;
            overflow-x: hidden;
            padding-bottom: 70px;
        }
        
        /* Animated Background */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .bg-gradient {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(58,0,82,0.2) 0, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(0,247,224,0.1) 0, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(255,105,180,0.08) 0, transparent 50%);
            animation: gradientShift 20s ease infinite;
        }
        
        .bg-particles {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255,255,255,0.05);
            animation: float 25s infinite linear;
        }
        
        .pulse-dot {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: var(--primary);
            animation: pulse 6s infinite ease-in-out;
            opacity: .5;
        }
        
        @keyframes gradientShift {
            0% { transform: scale(1); opacity: .5; }
            50% { transform: scale(1.05); opacity: .7; }
            100% { transform: scale(1); opacity: .5; }
        }
        
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0); opacity: 0; }
            10%, 90% { opacity: .5; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: .3; }
            50% { transform: scale(1.5); opacity: .1; }
        }
        
        /* Site Header */
        .site-title {
            text-align: center;
            padding: 1.5rem 1rem .5rem;
            position: relative;
            z-index: 2;
            margin-top: .5rem;
        }
        
        .site-title h1 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            letter-spacing: .15em;
            text-transform: uppercase;
            background: linear-gradient(90deg, var(--primary) 0, #a3f7ff 50%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shineMove 6s linear infinite;
            filter: drop-shadow(0 0 4px rgba(0,247,224,0.5));
            margin: 0;
        }
        
        .site-title .tagline {
            font-family: 'Roboto', sans-serif;
            color: #88e9e3;
            font-size: 1rem;
            letter-spacing: .1em;
            margin-top: .5rem;
            font-weight: 600;
            text-transform: uppercase;
            opacity: .9;
        }
        
        @keyframes shineMove {
            0% { background-position: 100% 0; }
            100% { background-position: 0 0; }
        }
        
        /* Mobile Navigation */
        .mobile-nav-btn {
            position: fixed;
            top: 12px;
            left: 12px;
            z-index: 1100;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(58,0,82,0.8);
            border-radius: 8px;
            border: 1px solid var(--primary);
            backdrop-filter: blur(5px);
        }
        
        .mobile-nav-btn div {
            height: 3px;
            background: var(--primary);
            border-radius: 3px;
            transition: all .3s ease;
            width: 24px;
            margin: 2.5px 0;
        }
        
        .mobile-nav-btn.active div:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
            width: 24px;
        }
        
        .mobile-nav-btn.active div:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-nav-btn.active div:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
            width: 24px;
        }
        
        .mobile-nav {
            position: fixed;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(26,0,26,0.95);
            backdrop-filter: blur(10px);
            overflow-y: auto;
            transition: left .4s ease;
            z-index: 1000;
            padding: 70px 20px 20px;
        }
        
        .mobile-nav.active {
            left: 0;
        }
        
        .mobile-nav-category {
            margin-bottom: 15px;
        }
        
        .mobile-nav-category h3 {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary);
            font-size: 1.2rem;
            margin-bottom: 8px;
            padding-bottom: 5px;
            border-bottom: 1px solid rgba(0,247,224,0.3);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .mobile-nav-category h3 .toggle-icon {
            transition: transform .3s ease;
        }
        
        .mobile-nav-category.active h3 .toggle-icon {
            transform: rotate(180deg);
        }
        
        .mobile-nav-links {
            display: grid;
            grid-template-columns: 1fr;
            gap: 6px;
            max-height: 0;
            overflow: hidden;
            transition: max-height .3s ease;
        }
        
        .mobile-nav-category.active .mobile-nav-links {
            max-height: 500px;
        }
        
        .mobile-nav-link {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            background: rgba(58,0,82,0.6);
            border-radius: 6px;
            text-decoration: none;
            color: var(--light-text);
            transition: all .3s ease;
            border-left: 3px solid var(--primary);
            font-size: .9rem;
        }
        
        .mobile-nav-link:hover {
            background: rgba(58,0,82,0.9);
            transform: translateX(5px);
        }
        
        .mobile-nav-link .icon {
            font-size: 1.1rem;
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, rgba(58,0,82,0.9), rgba(0,183,255,0.2));
            padding: 2rem 1rem;
            margin: 1rem;
            border-radius: 10px;
            border-left: 5px solid var(--primary);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        .page-header h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 1rem;
            color: var(--light-text);
            position: relative;
        }
        
        .header-subtitle {
            font-size: 1.1rem;
            color: var(--medium-text);
            margin-bottom: 1.5rem;
            position: relative;
            line-height: 1.6;
        }
        
        .disclaimer {
            background: rgba(255,255,255,0.1);
            border-left: 4px solid var(--alert-red);
            padding: 1rem;
            border-radius: 6px;
            margin-top: 1.5rem;
            position: relative;
            backdrop-filter: blur(5px);
        }
        
        /* Search Container */
        .search-container {
            position: relative;
            width: 90%;
            max-width: 600px;
            margin: 1.2rem auto;
            z-index: 100;
        }
        
        .search-bar {
            display: flex;
            position: relative;
            box-shadow: 0 0 10px rgba(0,247,224,0.1);
            border-radius: 30px;
            overflow: hidden;
        }
        
        .search-bar input {
            flex: 1;
            padding: 12px 18px;
            border: none;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1rem;
            outline: none;
        }
        
        .search-bar input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .search-bar button {
            padding: 12px 18px;
            border: none;
            background: var(--primary);
            color: #2e003e;
            cursor: pointer;
            font-weight: bold;
            transition: all .3s;
        }
        
        .search-bar button:hover {
            background: #00e6cc;
        }
        
        #searchResults {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--card-bg);
            max-height: 300px;
            overflow-y: auto;
            border-radius: 0 0 10px 10px;
            display: none;
            z-index: 1004;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            border: 1px solid var(--primary);
            border-top: none;
        }
        
        #searchResults ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        #searchResults li {
            padding: 10px 12px;
            border-bottom: 1px solid #5d3a7d;
            cursor: pointer;
            font-size: .95rem;
            display: flex;
            align-items: center;
        }
        
        #searchResults li:hover {
            background: #5d3a7d;
        }
        
        #searchResults li:last-child {
            border-bottom: none;
        }
        
        #searchResults li .icon {
            margin-right: 10px;
            font-size: 1rem;
        }
        
        #searchResults li .category {
            font-size: .75rem;
            color: var(--medium-text);
            margin-left: auto;
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        /* Quick Stats */
        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: rgba(58,0,82,0.6);
            padding: 1.2rem;
            border-radius: 8px;
            text-align: center;
            border-top: 3px solid var(--primary);
            transition: all .3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,247,224,0.2);
        }
        
        .stat-card i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: .5rem;
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--light-text);
            display: block;
            margin: .5rem 0;
        }
        
        .stat-label {
            color: var(--medium-text);
            font-size: .85rem;
        }
        
        /* Resource Cards */
        .sections-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.2rem;
            padding: 1.2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 0 8px rgba(0,255,255,0.05);
            position: relative;
            z-index: 1;
            transition: all .3s ease;
            border-left: 3px solid;
            display: flex;
            flex-direction: column;
            height: 100%;
            animation: fadeInUp .6s ease-out;
            margin-bottom: .8rem;
        }
        
        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        .section-card:nth-child(1) { border-left-color: var(--accent1); animation-delay: .1s; }
        .section-card:nth-child(2) { border-left-color: var(--accent2); animation-delay: .2s; }
        .section-card:nth-child(3) { border-left-color: var(--accent3); animation-delay: .3s; }
        .section-card:nth-child(4) { border-left-color: var(--accent4); animation-delay: .4s; }
        .section-card:nth-child(5) { border-left-color: var(--accent5); animation-delay: .5s; }
        .section-card:nth-child(6) { border-left-color: var(--accent6); animation-delay: .6s; }
        .section-card:nth-child(7) { border-left-color: var(--accent1); animation-delay: .7s; }
        .section-card:nth-child(8) { border-left-color: var(--accent2); animation-delay: .8s; }
        .section-card:nth-child(9) { border-left-color: var(--accent3); animation-delay: .9s; }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: .4rem 0;
            margin-bottom: .6rem;
            cursor: pointer;
            position: relative;
        }
        
        .section-card h2 {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            font-size: 1.2rem;
            font-weight: 700;
            flex: 1;
            padding-right: 10px;
        }
        
        .section-card:nth-child(1) h2 { color: var(--accent1); }
        .section-card:nth-child(2) h2 { color: var(--accent2); }
        .section-card:nth-child(3) h2 { color: var(--accent3); }
        .section-card:nth-child(4) h2 { color: var(--accent4); }
        .section-card:nth-child(5) h2 { color: var(--accent5); }
        .section-card:nth-child(6) h2 { color: var(--accent6); }
        .section-card:nth-child(7) h2 { color: var(--accent1); }
        .section-card:nth-child(8) h2 { color: var(--accent2); }
        .section-card:nth-child(9) h2 { color: var(--accent3); }
        
        .collapsible-toggle {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 1.2rem;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all .4s cubic-bezier(.175,.885,.32,1.275);
            position: relative;
            z-index: 2;
            flex-shrink: 0;
        }
        
        .collapsible-toggle:hover {
            background: rgba(0,247,224,0.15);
            transform: scale(1.1) rotate(90deg);
        }
        
        .section-summary {
            color: var(--medium-text);
            font-size: .9rem;
            margin-bottom: .8rem;
            line-height: 1.4;
            transition: all .3s ease;
            max-height: 2.5rem;
            overflow: hidden;
        }
        
        .section-card.collapsed .section-summary {
            max-height: 2.5rem;
            opacity: 1;
        }
        
        .section-card.expanded .section-summary {
            max-height: 0;
            opacity: 0;
            margin-bottom: 0;
        }
        
        .collapsible-content {
            overflow: hidden;
            max-height: 0;
            opacity: 0;
            transition: max-height .6s cubic-bezier(.4,0,.2,1), opacity .5s ease .1s, padding .3s ease;
            padding: 0;
            transform: translateY(-8px);
        }
        
        .collapsible-content.expanded {
            max-height: 5000px;
            opacity: 1;
            padding-top: .8rem;
            transform: translateY(0);
        }
        
        .resource-list {
            list-style: none;
            margin: 1rem 0;
        }
        
        .resource-list li {
            margin-bottom: 1.2rem;
            padding: .8rem;
            background: rgba(0,0,0,0.2);
            border-radius: 6px;
            border-left: 3px solid var(--primary);
            transition: all .3s ease;
        }
        
        .resource-list li:hover {
            background: rgba(0,0,0,0.3);
            transform: translateX(5px);
        }
        
        .resource-title {
            font-weight: 600;
            color: var(--light-text);
            margin-bottom: .5rem;
            display: flex;
            align-items: center;
        }
        
        .resource-title i {
            margin-right: 10px;
            color: var(--primary);
        }
        
        .resource-description {
            color: var(--medium-text);
            font-size: .9rem;
            margin-bottom: .8rem;
            line-height: 1.5;
        }
        
        .resource-link {
            display: inline-flex;
            align-items: center;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            transition: all .3s ease;
            padding: .3rem 0;
        }
        
        .resource-link:hover {
            color: var(--secondary);
            transform: translateX(5px);
        }
        
        .resource-link i {
            margin-left: 8px;
            font-size: .9rem;
        }
        
        .tip-box {
            background: rgba(0,199,150,0.1);
            border-left: 4px solid var(--accent5);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
            font-size: .9rem;
        }
        
        .warning-box {
            background: rgba(255,68,68,0.1);
            border-left: 4px solid var(--alert-red);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
            font-size: .9rem;
        }
        
        /* Minnesota Map */
        .map-container {
            margin: 2rem auto;
            max-width: 100%;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .minnesota-map {
            width: 100%;
            height: auto;
            display: block;
            cursor: grab;
            user-select: none;
        }
        
        .minnesota-map:active {
            cursor: grabbing;
        }
        
        .map-overlay {
            position: relative;
            margin-top: -100%;
            pointer-events: none;
        }
        
        .map-marker {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--alert-red);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 2s infinite;
            box-shadow: 0 0 0 4px rgba(255,68,68,0.2);
        }
        
        .map-marker::after {
            content: attr(data-label);
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: .8rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity .3s;
            pointer-events: auto;
        }
        
        .map-marker:hover::after {
            opacity: 1;
        }
        
        /* Interactive Map with Scroll/Zoom */
        .map-wrapper {
            position: relative;
            width: 100%;
            overflow: auto;
            cursor: grab;
            touch-action: pan-x pan-y;
            -webkit-overflow-scrolling: touch;
            border: 2px solid var(--primary);
            border-radius: 10px;
            background: rgba(58,0,82,0.3);
        }
        
        .map-wrapper:active {
            cursor: grabbing;
        }
        
        .zoom-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 10;
        }
        
        .zoom-btn {
            width: 40px;
            height: 40px;
            background: rgba(58,0,82,0.8);
            border: 1px solid var(--primary);
            color: var(--primary);
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all .3s;
            backdrop-filter: blur(5px);
        }
        
        .zoom-btn:hover {
            background: var(--primary);
            color: #2e003e;
            transform: scale(1.1);
        }
        
        /* County Resources */
        .county-tabs {
            display: flex;
            gap: 5px;
            margin: 15px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .county-tab {
            padding: 8px 12px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(0,247,224,0.3);
            border-radius: 4px;
            color: #fff;
            cursor: pointer;
            font-size: .8rem;
            transition: all .2s ease;
        }
        
        .county-tab.active {
            background: var(--accent2);
            color: #fff;
        }
        
        .county-resources {
            display: none;
            margin-top: 15px;
            animation: fadeIn .5s ease;
        }
        
        .county-resources.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .resource-item {
            background: rgba(58,0,82,0.5);
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            border-left: 3px solid var(--accent3);
        }
        
        .resource-item h4 {
            margin: 0 0 5px 0;
            color: var(--primary);
            font-size: .95rem;
        }
        
        .resource-item p {
            margin: 0;
            font-size: .85rem;
            line-height: 1.4;
        }
        
        /* Mobile HUD */
        .mobile-hud {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(58,0,82,0.95);
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            z-index: 1001;
            backdrop-filter: blur(5px);
            border-top: 1px solid var(--primary);
        }
        
        .hud-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #fff;
            text-decoration: none;
            font-size: .7rem;
            padding: 5px;
            flex: 1;
            text-align: center;
            transition: all .3s;
        }
        
        .hud-btn span {
            font-size: 1.1rem;
            margin-bottom: 2px;
        }
        
        .hud-btn:hover {
            background: rgba(255,105,180,0.2);
            border-radius: 5px;
        }
        
        /* CTA Button */
        .cta-button {
            display: inline-block;
            margin-top: .8rem;
            background: var(--primary);
            color: #2e003e;
            padding: .7rem 1rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            transition: all .2s;
            font-size: .9rem;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            text-align: center;
            width: 100%;
        }
        
        .cta-button:hover {
            opacity: .85;
            transform: scale(1.03);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        /* Translation Widget */
        .translation-widget {
            position: fixed;
            top: 12px;
            right: 12px;
            z-index: 1100;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .translate-btn {
            background: rgba(58,0,82,0.8);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: .9rem;
            transition: all .3s;
            backdrop-filter: blur(5px);
        }
        
        .translate-btn:hover {
            background: rgba(0,247,224,0.2);
        }
        
        .language-selector {
            background: rgba(58,0,82,0.8);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            min-width: 120px;
            backdrop-filter: blur(5px);
        }
        
        /* Footer */
        footer {
            margin-top: 1.5rem;
            font-size: .85rem;
            color: #aaa;
            text-align: center;
            position: relative;
            z-index: 2;
            padding: 1rem;
            background: rgba(0,0,0,0.5);
            border-top: 1px solid #444;
        }
        
        footer hr {
            border-color: #444;
            margin-bottom: .8rem;
        }
        
        footer p {
            max-width: 800px;
            margin: .7rem auto;
            line-height: 1.5;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 1rem 0;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--primary);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all .3s ease;
            background: rgba(58,0,82,0.3);
            border: 1px solid rgba(0,247,224,0.3);
            font-size: .85rem;
        }
        
        .social-link:hover {
            background: rgba(58,0,82,0.6);
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0,247,224,0.15);
        }
        
        .sitemap {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
            text-align: left;
        }
        
        .sitemap-category h3 {
            color: var(--primary);
            font-size: .9rem;
            margin-bottom: .5rem;
            padding-bottom: 3px;
            border-bottom: 1px solid rgba(0,247,224,0.3);
        }
        
        .sitemap-links {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }
        
        .sitemap-link {
            color: var(--medium-text);
            text-decoration: none;
            font-size: .8rem;
            transition: color .2s;
        }
        
        .sitemap-link:hover {
            color: var(--primary);
        }
        
        /* Emergency Modal */
        .emergency-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 1.2rem;
        }
        
        .modal-content {
            background-color: var(--card-bg);
            padding: 16px;
            border-radius: 6px;
            max-width: 100%;
            max-height: 90%;
            overflow-y: auto;
            border: 2px solid var(--primary);
            box-shadow: 0 0 15px rgba(0,247,224,0.4);
            position: relative;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            border-bottom: 1px solid var(--primary);
            padding-bottom: 8px;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 1.6rem;
            cursor: pointer;
        }
        
        /* Scroll to Top */
        #scrollTopBtn {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 20px;
            z-index: 1001;
            border: none;
            outline: none;
            background-color: var(--primary);
            color: #2e003e;
            cursor: pointer;
            padding: 10px 14px;
            border-radius: 50%;
            font-size: 1.3rem;
            box-shadow: 0 3px 8px rgba(0,247,224,0.3);
            transition: all .3s ease;
            animation: bounce 2.5s infinite;
        }
        
        #scrollTopBtn:hover {
            background-color: #00e6cc;
            transform: translateY(-2px) scale(1.1);
            box-shadow: 0 4px 10px rgba(0,247,224,0.5);
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-4px); }
            60% { transform: translateY(-2px); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .sections-grid {
                grid-template-columns: 1fr;
            }
            
            .quick-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .mobile-hud {
                display: flex;
            }
            
            .translation-widget {
                flex-direction: column;
                gap: 5px;
            }
            
            .language-selector {
                min-width: 100px;
            }
            
            .map-wrapper {
                height: 300px;
            }
        }
        
        @media (max-width: 480px) {
            .quick-stats {
                grid-template-columns: 1fr;
            }
            
            .section-card {
                padding: .8rem;
            }
            
            .section-card h2 {
                font-size: 1.1rem;
            }
            
            .search-container {
                width: 95%;
            }
            
            .social-links {
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }
            
            .social-link {
                width: 180px;
                justify-content: center;
            }
        }
        
        @media (min-width: 1024px) {
            .mobile-hud {
                display: none;
            }
            
            #scrollTopBtn {
                bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-background">
        <div class="bg-gradient"></div>
        <div class="bg-particles" id="particles"></div>
    </div>

    <!-- Mobile Navigation Button -->
    <button class="mobile-nav-btn" id="mobileNavBtn">
        <div></div>
        <div></div>
        <div></div>
    </button>

    <!-- Translation Widget -->
    <div class="translation-widget">
        <button class="translate-btn" id="translateBtn">
            üåê Translate
        </button>
        <select class="language-selector" id="languageSelect">
            <option value="en">English</option>
            <option value="es">Espa√±ol</option>
            <option value="so">Soomaali</option>
            <option value="hmn">Hmong</option>
            <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
        </select>
    </div>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-category active">
            <h3>Quick Navigation <span class="toggle-icon">‚ñº</span></h3>
            <div class="mobile-nav-links">
                <a href="#immigrant-rights" class="mobile-nav-link">
                    <span class="icon">üõÇ</span>Immigrant Rights
                </a>
                <a href="#legal-support" class="mobile-nav-link">
                    <span class="icon">‚öñÔ∏è</span>Legal Support
                </a>
                <a href="#protest-safety" class="mobile-nav-link">
                    <span class="icon">‚úä</span>Protest Safety
                </a>
                <a href="#digital-safety" class="mobile-nav-link">
                    <span class="icon">üì±</span>Digital Safety
                </a>
                <a href="#emergency-contacts" class="mobile-nav-link">
                    <span class="icon">üö®</span>Emergency Contacts
                </a>
                <a href="#mn-map" class="mobile-nav-link">
                    <span class="icon">üó∫Ô∏è</span>MN Resources Map
                </a>
            </div>
        </div>
        
        <div class="mobile-nav-category">
            <h3>Related Pages <span class="toggle-icon">‚ñº</span></h3>
            <div class="mobile-nav-links">
                <a href="https://plurderapolis.org" class="mobile-nav-link">
                    <span class="icon">üè†</span>Home
                </a>
                <a href="https://plurderapolis.org/resources" class="mobile-nav-link">
                    <span class="icon">üìö</span>All Resources
                </a>
                <a href="https://plurderapolis.org/emergency" class="mobile-nav-link">
                    <span class="icon">üÜò</span>Emergency Guides
                </a>
                <a href="https://plurderapolis.org/consent" class="mobile-nav-link">
                    <span class="icon">‚úÖ</span>Consent & Safety
                </a>
                <a href="https://plurderapolis.org/booth" class="mobile-nav-link">
                    <span class="icon">üéâ</span>Our Booth
                </a>
            </div>
        </div>
        
        <div class="mobile-nav-category">
            <h3>Emergency Hotlines <span class="toggle-icon">‚ñº</span></h3>
            <div class="mobile-nav-links">
                <a href="tel:+16516411011" class="mobile-nav-link">
                    <span class="icon">üìû</span>ILCM Detention (651) 641-1011
                </a>
                <a href="tel:+16122063360" class="mobile-nav-link">
                    <span class="icon">üìû</span>CAIR-MN Legal (612) 206-3360
                </a>
                <a href="tel:+18008144806" class="mobile-nav-link">
                    <span class="icon">üìû</span>MN Refugee Helpline 1-800-814-4806
                </a>
                <a href="tel:211" class="mobile-nav-link">
                    <span class="icon">üìû</span>United Way 211
                </a>
            </div>
        </div>
        
        <div class="mobile-nav-category">
            <h3>Connect With Us <span class="toggle-icon">‚ñº</span></h3>
            <div class="mobile-nav-links">
                <a href="https://www.facebook.com/plurderapolis" class="mobile-nav-link" target="_blank">
                    <span class="icon">üìò</span>Facebook
                </a>
                <a href="https://www.instagram.com/plurderapolis" class="mobile-nav-link" target="_blank">
                    <span class="icon">üì∑</span>Instagram
                </a>
                <a href="mailto:plurderapolis@gmail.com" class="mobile-nav-link">
                    <span class="icon">‚úâÔ∏è</span>Email Us
                </a>
                <a href="https://www.venmo.com/u/plurderdapolis" class="mobile-nav-link" target="_blank" style="background: linear-gradient(135deg, var(--secondary), var(--accent1)); border-left-color: var(--secondary);">
                    <span class="icon">üíñ</span>Donate
                </a>
            </div>
        </div>
    </nav>

    <!-- Site Title -->
    <div class="site-title">
        <h1>KNOW YOUR RIGHTS</h1>
        <div class="tagline">Safety Resources ‚Äî Minnesota</div>
    </div>

    <!-- Search Container -->
    <div class="search-container">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search rights, resources, legal help...">
            <button onclick="performSearch()">üîç</button>
        </div>
        <div id="searchResults"></div>
    </div>

    <!-- Page Header -->
    <div class="page-header">
        <h1>Know Your Rights & Safety Resources</h1>
        <p class="header-subtitle">Plurderapolis.org provides practical safety and harm reduction resources for all ‚Äî including people navigating immigration enforcement, travel challenges, or interactions with law enforcement.</p>
        
        <div class="disclaimer">
            <strong>‚ö†Ô∏è Important:</strong> This is educational information ‚Äî not legal advice. Always consider consulting a licensed attorney for case-specific guidance or emergencies.
        </div>
    </div>

    <!-- Quick Stats -->
    <div class="quick-stats">
        <div class="stat-card">
            <i>üõÇ</i>
            <span class="stat-number">24/7</span>
            <span class="stat-label">Legal Support</span>
        </div>
        <div class="stat-card">
            <i>‚öñÔ∏è</i>
            <span class="stat-number">50+</span>
            <span class="stat-label">Organizations</span>
        </div>
        <div class="stat-card">
            <i>üó£Ô∏è</i>
            <span class="stat-number">5</span>
            <span class="stat-label">Languages</span>
        </div>
        <div class="stat-card">
            <i>üõ°Ô∏è</i>
            <span class="stat-number">100%</span>
            <span class="stat-label">Community Focused</span>
        </div>
    </div>

    <!-- Minnesota Interactive Map -->
    <div class="page-header" id="mn-map">
        <h2>üìç Minnesota Resources Map</h2>
        <p class="header-subtitle">Scroll and zoom to explore legal aid, community support, and emergency resources across Minnesota</p>
        
        <div class="map-wrapper" id="mapWrapper">
            <div class="zoom-controls">
                <button class="zoom-btn" onclick="zoomIn()">+</button>
                <button class="zoom-btn" onclick="zoomOut()">-</button>
                <button class="zoom-btn" onclick="resetMap()">‚Üª</button>
            </div>
            
            <div id="minnesotaMap" style="width: 1200px; height: 800px; position: relative;">
                <!-- Map image with markers will be created dynamically -->
            </div>
        </div>
        
        <div class="county-tabs">
            <button class="county-tab active" onclick="showCountyResources('hennepin')">Hennepin County</button>
            <button class="county-tab" onclick="showCountyResources('ramsey')">Ramsey County</button>
            <button class="county-tab" onclick="showCountyResources('dakota')">Dakota County</button>
            <button class="county-tab" onclick="showCountyResources('anoka')">Anoka County</button>
            <button class="county-tab" onclick="showCountyResources('statewide')">Statewide</button>
        </div>
        
        <div id="hennepin-resources" class="county-resources active">
            <div class="resource-item">
                <h4>Hennepin County Legal Aid</h4>
                <p><strong>Services:</strong> Immigration law, housing, family law<br>
                <strong>Contact:</strong> (612) 334-5970</p>
            </div>
            <div class="resource-item">
                <h4>Minneapolis Immigration Rights</h4>
                <p><strong>Services:</strong> Know Your Rights workshops, rapid response<br>
                <strong>Contact:</strong> immigrant-rights@minneapolismn.gov</p>
            </div>
        </div>
        
        <div id="ramsey-resources" class="county-resources">
            <div class="resource-item">
                <h4>Ramsey County Law Library</h4>
                <p><strong>Services:</strong Free legal research, forms, referrals<br>
                <strong>Contact:</strong> (651) 266-8391</p>
            </div>
        </div>
        
        <div id="statewide-resources" class="county-resources">
            <div class="resource-item">
                <h4>MN Legal Services Coalition</h4>
                <p><strong>Services:</strong> Statewide legal aid referral<br>
                <strong>Contact:</strong> 1-800-292-4150</p>
            </div>
        </div>
    </div>

    <!-- Resource Cards Grid -->
    <div class="sections-grid">
        <!-- Immigrant Rights Card -->
        <div class="section-card collapsed" id="immigrant-rights">
            <div class="card-header">
                <h2>üõÇ Immigrant Rights</h2>
                <button class="collapsible-toggle">+</button>
            </div>
            <div class="section-summary">
                Know your rights during encounters with law enforcement or ICE.
            </div>
            <div class="collapsible-content">
                <ul class="resource-list">
                    <li>
                        <div class="resource-title"><i class="fas fa-shield-alt"></i> ACLU of Minnesota</div>
                        <div class="resource-description">What to do if stopped by police or ICE. Printable wallet cards in multiple languages.</div>
                        <a href="https://www.aclu-mn.org/en/know-your-rights/what-if-im-stopped-police-or-ice" class="resource-link" target="_blank">
                            View Resource <i class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-balance-scale"></i> Immigrant Law Center of Minnesota</div>
                        <div class="resource-description">Free legal representation for low-income immigrants/refugees.</div>
                        <a href="https://www.ilcm.org/know-your-rights" class="resource-link" target="_blank">
                            Visit Website <i class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                </ul>
                
                <div class="tip-box">
                    <strong>Remember:</strong> You have the right to remain silent and the right to an attorney. You do not have to answer questions about your birthplace or immigration status.
                </div>
                
                <a href="#emergency-contacts" class="cta-button">Emergency Legal Hotlines</a>
            </div>
        </div>

        <!-- Legal Support Card -->
        <div class="section-card collapsed" id="legal-support">
            <div class="card-header">
                <h2>‚öñÔ∏è Legal Support</h2>
                <button class="collapsible-toggle">+</button>
            </div>
            <div class="section-summary">
                Free and low-cost legal help in Minnesota.
            </div>
            <div class="collapsible-content">
                <ul class="resource-list">
                    <li>
                        <div class="resource-title"><i class="fas fa-phone-alt"></i> ILCM Detention Line</div>
                        <div class="resource-description">651-641-1011 (Mon‚ÄìThu early afternoon)</div>
                        <a href="tel:+16516411011" class="resource-link">
                            Call Now <i class="fas fa-phone"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-gavel"></i> The Advocates for Human Rights</div>
                        <div class="resource-description">Immigration legal support and referral list</div>
                        <a href="https://www.theadvocatesforhumanrights.org/immigration" class="resource-link" target="_blank">
                            Visit Website <i class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-hands-helping"></i> MN NOICE Immigrant Support Hub</div>
                        <div class="resource-description">Directory of organizations providing legal and community support</div>
                        <a href="https://www.mnnoice.org/resources" class="resource-link" target="_blank">
                            View Directory <i class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                </ul>
                
                <div class="warning-box">
                    <strong>Important:</strong> These organizations may have intake procedures. Call during business hours for best results.
                </div>
            </div>
        </div>

        <!-- Protest Safety Card -->
        <div class="section-card collapsed" id="protest-safety">
            <div class="card-header">
                <h2>‚úä Protest Safety</h2>
                <button class="collapsible-toggle">+</button>
            </div>
            <div class="section-summary">
                Your rights when protesting or demonstrating in Minnesota.
            </div>
            <div class="collapsible-content">
                <ul class="resource-list">
                    <li>
                        <div class="resource-title"><i class="fas fa-video"></i> Right to Record</div>
                        <div class="resource-description">You can record police from a safe, non-interfering distance.</div>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-volume-mute"></i> Right to Remain Silent</div>
                        <div class="resource-description">You do not have to answer questions. Say "I am going to remain silent" and "I want a lawyer."</div>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-users"></i> National Lawyers Guild - Twin Cities</div>
                        <div class="resource-description">Legal observers and hotline for protesters: (612) 444-2654</div>
                        <a href="https://www.nlgminnesota.org" class="resource-link" target="_blank">
                            Visit Website <i class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                </ul>
                
                <div class="tip-box">
                    <strong>If Arrested:</strong> Stay calm & silent. Clearly state: "I am exercising my right to remain silent. I want a lawyer." Do not sign anything without legal counsel.
                </div>
                
                <a href="https://www.aclu-mn.org/en/know-your-rights/protesters-rights" class="cta-button" target="_blank">ACLU Protest Guide</a>
            </div>
        </div>

        <!-- Digital Safety Card -->
        <div class="section-card collapsed" id="digital-safety">
            <div class="card-header">
                <h2>üì± Digital Safety</h2>
                <button class="collapsible-toggle">+</button>
            </div>
            <div class="section-summary">
                Protect your privacy during events and encounters.
            </div>
            <div class="collapsible-content">
                <ul class="resource-list">
                    <li>
                        <div class="resource-title"><i class="fas fa-lock"></i> Use Strong Passcode</div>
                        <div class="resource-description">Use passcode instead of biometrics (Face ID/Touch ID) before sensitive situations.</div>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-map-marker-alt"></i> Manage Location Services</div>
                        <div class="resource-description">Turn off location sharing for social media and sensitive apps.</div>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-shield-alt"></i> Know Your Rights</div>
                        <div class="resource-description">You generally do not have to unlock your phone for law enforcement without a warrant.</div>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-comment-alt"></i> Secure Communications</div>
                        <div class="resource-description">Consider using encrypted messaging apps like Signal for sensitive communications.</div>
                    </li>
                </ul>
                
                <div class="tip-box">
                    <strong>Remember:</strong> Store important legal numbers in a secure note app or write them on your arm with permanent marker.
                </div>
            </div>
        </div>

        <!-- Emergency Contacts Card -->
        <div class="section-card collapsed" id="emergency-contacts">
            <div class="card-header">
                <h2>üö® Emergency Contacts</h2>
                <button class="collapsible-toggle">+</button>
            </div>
            <div class="section-summary">
                24/7 emergency and legal support hotlines.
            </div>
            <div class="collapsible-content">
                <ul class="resource-list">
                    <li>
                        <div class="resource-title"><i class="fas fa-phone-alt"></i> ILCM Detention Line</div>
                        <div class="resource-description">Free legal help for detained immigrants</div>
                        <a href="tel:+16516411011" class="resource-link">
                            (651) 641-1011 <i class="fas fa-phone"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-phone-alt"></i> CAIR-MN 24/7 Legal Intake</div>
                        <div class="resource-description">Anti-discrimination and legal intake</div>
                        <a href="tel:+16122063360" class="resource-link">
                            (612) 206-3360 <i class="fas fa-phone"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-phone-alt"></i> MN Refugee & Immigrant Helpline</div>
                        <div class="resource-description">Multi-language support for services</div>
                        <a href="tel:+18008144806" class="resource-link">
                            1-800-814-4806 <i class="fas fa-phone"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-phone-alt"></i> National Lawyers Guild Hotline</div>
                        <div class="resource-description">Legal support for protesters</div>
                        <a href="tel:+16124442654" class="resource-link">
                            (612) 444-2654 <i class="fas fa-phone"></i>
                        </a>
                    </li>
                </ul>
                
                <div class="warning-box">
                    <strong>Immediate Emergency:</strong> Call 911 for life-threatening situations. Good Samaritan laws protect you when seeking help for an overdose.
                </div>
                
                <button class="cta-button" onclick="showEmergencyModal()">View Emergency Steps</button>
            </div>
        </div>

        <!-- Printable Resources Card -->
        <div class="section-card collapsed" id="printable-resources">
            <div class="card-header">
                <h2>üñ®Ô∏è Printable Resources</h2>
                <button class="collapsible-toggle">+</button>
            </div>
            <div class="section-summary">
                Download and print resources for offline use.
            </div>
            <div class="collapsible-content">
                <ul class="resource-list">
                    <li>
                        <div class="resource-title"><i class="fas fa-id-card"></i> ACLU Wallet Cards</div>
                        <div class="resource-description">Printable "Know Your Rights" cards in multiple languages.</div>
                        <a href="https://www.aclu-mn.org/en/know-your-rights/wallet-cards" class="resource-link" target="_blank">
                            Download Cards <i class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-file-pdf"></i> MN NOICE Printable PDFs</div>
                        <div class="resource-description">Tips for identifying ICE activity and responding safely.</div>
                        <a href="https://www.mnnoice.org/resources#downloads" class="resource-link" target="_blank">
                            Download PDFs <i class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                    <li>
                        <div class="resource-title"><i class="fas fa-print"></i> Condensed One-Pager</div>
                        <div class="resource-description">Key points from this page: protest safety, digital tips, emergency numbers.</div>
                        <button class="resource-link" onclick="printPage()">
                            Print This Page <i class="fas fa-print"></i>
                        </button>
                    </li>
                </ul>
                
                <div class="tip-box">
                    <strong>Tip:</strong> Print resources in advance and keep them in your bag or car for easy access.
                </div>
                
                <button class="cta-button" onclick="generateShareableGuide()">Generate Shareable Guide</button>
            </div>
        </div>
    </div>

    <!-- Mobile HUD -->
    <div class="mobile-hud">
        <a href="#immigrant-rights" class="hud-btn">
            <span>üõÇ</span>Rights
        </a>
        <a href="#legal-support" class="hud-btn">
            <span>‚öñÔ∏è</span>Legal
        </a>
        <a href="#mn-map" class="hud-btn">
            <span>üó∫Ô∏è</span>Map
        </a>
        <a href="#emergency-contacts" class="hud-btn">
            <span>üö®</span>Emergency
        </a>
        <button class="hud-btn" onclick="showEmergencyModal()">
            <span>üÜò</span>Help
        </button>
    </div>

    <!-- Emergency Modal -->
    <div class="emergency-modal" id="emergencyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üÜò Emergency Assistance</h2>
                <button class="close-modal" onclick="closeEmergencyModal()">&times;</button>
            </div>
            
            <div class="emergency-steps">
                <h3>If someone is unresponsive:</h3>
                <ol>
                    <li>Check for responsiveness - tap shoulder and shout</li>
                    <li>Call 911 immediately</li>
                    <li>Check breathing - look for chest movement</li>
                    <li>Administer Narcan if available and trained</li>
                    <li>Perform rescue breathing if not breathing</li>
                    <li>Place in recovery position if breathing</li>
                </ol>
                
                <h3>If stopped by police or ICE:</h3>
                <ul>
                    <li>Stay calm and keep your hands visible</li>
                    <li>You have the right to remain silent</li>
                    <li>Ask "Am I free to leave?"</li>
                    <li>Do not consent to searches</li>
                    <li>Ask for a lawyer immediately if detained</li>
                </ul>
            </div>
            
            <div class="county-tabs">
                <button class="county-tab active" onclick="showModalCounty('hennepin')">Hennepin</button>
                <button class="county-tab" onclick="showModalCounty('ramsey')">Ramsey</button>
                <button class="county-tab" onclick="showModalCounty('statewide')">Statewide</button>
            </div>
            
            <div id="modal-hennepin" class="county-resources active">
                <div class="resource-item">
                    <h4>Hennepin County Crisis Response</h4>
                    <p><strong>Phone:</strong> 612-348-2233<br>24/7 crisis response for mental health emergencies</p>
                </div>
            </div>
            
            <div id="modal-statewide" class="county-resources">
                <div class="resource-item">
                    <h4>Statewide Resources</h4>
                    <p>üÜò Crisis Text Line: Text "HOME" to 741741<br>
                    üÜò MN Poison Control: 1-800-222-1222<br>
                    üÜò Mobile Crisis Services: **CRISIS (**74747)</p>
                </div>
            </div>
            
            <p style="margin-top: 16px; font-weight: bold">
                Remember: Good Samaritan laws protect you when seeking help for an overdose.
            </p>
            
            <div style="margin-top: 16px; display: flex; gap: 8px; flex-wrap: wrap; justify-content: center">
                <a href="tel:911" class="cta-button">Call 911</a>
                <button class="cta-button" style="background-color: var(--secondary)" onclick="closeEmergencyModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button id="scrollTopBtn" title="Go to top">‚Üë</button>

    <!-- Footer -->
    <footer>
        <hr>
        <p>&copy; 2024 PLURderapolis ‚Äî Community Harm Reduction & Rights Education</p>
        <p>Your partners in shine ‚ú¶ <a href="mailto:plurderapolis@gmail.com" style="color: var(--primary)">plurderapolis@gmail.com</a></p>
        
        <div class="social-links">
            <a href="https://www.facebook.com/plurderapolis" class="social-link" target="_blank">
                <span>üìò</span> Facebook
            </a>
            <a href="https://www.instagram.com/plurderapolis" class="social-link" target="_blank">
                <span>üì∑</span> Instagram
            </a>
            <a href="https://www.venmo.com/u/plurderdapolis" class="social-link" target="_blank" style="background: linear-gradient(135deg, var(--secondary), var(--accent1))">
                <span>üíñ</span> Donate
            </a>
        </div>
        
        <div class="sitemap">
            <div class="sitemap-category">
                <h3>Safety & Rights</h3>
                <div class="sitemap-links">
                    <a href="#immigrant-rights" class="sitemap-link">Immigrant Rights</a>
                    <a href="#legal-support" class="sitemap-link">Legal Support</a>
                    <a href="#protest-safety" class="sitemap-link">Protest Safety</a>
                    <a href="#digital-safety" class="sitemap-link">Digital Safety</a>
                </div>
            </div>
            
            <div class="sitemap-category">
                <h3>Related Pages</h3>
                <div class="sitemap-links">
                    <a href="https://plurderapolis.org" class="sitemap-link">Home</a>
                    <a href="https://plurderapolis.org/resources" class="sitemap-link">All Resources</a>
                    <a href="https://plurderapolis.org/emergency" class="sitemap-link">Emergency Guides</a>
                    <a href="https://plurderapolis.org/consent" class="sitemap-link">Consent & Safety</a>
                </div>
            </div>
            
            <div class="sitemap-category">
                <h3>Emergency Contacts</h3>
                <div class="sitemap-links">
                    <a href="tel:+16516411011" class="sitemap-link">ILCM Detention Line</a>
                    <a href="tel:+16122063360" class="sitemap-link">CAIR-MN Legal</a>
                    <a href="tel:+18008144806" class="sitemap-link">MN Refugee Helpline</a>
                    <a href="tel:211" class="sitemap-link">United Way 211</a>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #444">
            <p style="font-size: .75rem; color: #ccc;">
                Disclaimer: PLURderapolis provides harm reduction and rights education. This is not medical or legal advice. Always consult professionals for health or legal concerns.
            </p>
        </div>
    </footer>

    <script>
        // Initialize particles for background
        function createParticles() {
            const particles = document.getElementById('particles');
            const colors = ['rgba(0,247,224,0.2)', 'rgba(255,105,180,0.15)', 'rgba(191,0,191,0.15)', 
                          'rgba(224,81,255,0.15)', 'rgba(0,183,255,0.15)'];
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                const size = 1 + 4 * Math.random();
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = 100 * Math.random() + '%';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.animationDelay = 25 * Math.random() + 's';
                particle.style.animationDuration = (20 + 15 * Math.random()) + 's';
                particles.appendChild(particle);
            }
            
            for (let i = 0; i < 10; i++) {
                const dot = document.createElement('div');
                dot.classList.add('pulse-dot');
                dot.style.left = 100 * Math.random() + '%';
                dot.style.top = 100 * Math.random() + '%';
                dot.style.animationDelay = 6 * Math.random() + 's';
                particles.appendChild(dot);
            }
        }

        // Mobile navigation
        const mobileNavBtn = document.getElementById('mobileNavBtn');
        const mobileNav = document.getElementById('mobileNav');
        const navCategories = document.querySelectorAll('.mobile-nav-category');
        
        mobileNavBtn.addEventListener('click', () => {
            mobileNavBtn.classList.toggle('active');
            mobileNav.classList.toggle('active');
        });
        
        navCategories.forEach(category => {
            category.querySelector('h3').addEventListener('click', () => {
                category.classList.toggle('active');
            });
        });
        
        // Close mobile nav when clicking outside
        document.addEventListener('click', e => {
            if (!mobileNav.contains(e.target) && !mobileNavBtn.contains(e.target)) {
                mobileNavBtn.classList.remove('active');
                mobileNav.classList.remove('active');
            }
        });

        // Collapsible sections
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.section-card');
            
            cards.forEach(card => {
                const content = card.querySelector('.collapsible-content');
                const toggle = card.querySelector('.collapsible-toggle');
                const summary = card.querySelector('.section-summary');
                
                card.classList.remove('expanded');
                card.classList.add('collapsed');
                content.classList.remove('expanded');
                toggle.textContent = '+';
                
                if (summary) {
                    summary.style.display = 'block';
                    summary.style.opacity = '1';
                    summary.style.maxHeight = 'none';
                }
            });
            
            const toggles = document.querySelectorAll('.collapsible-toggle');
            toggles.forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const card = this.closest('.section-card');
                    const content = card.querySelector('.collapsible-content');
                    const summary = card.querySelector('.section-summary');
                    const isExpanded = content.classList.contains('expanded');
                    
                    if (isExpanded) {
                        content.classList.remove('expanded');
                        this.textContent = '+';
                        card.classList.add('collapsed');
                        card.classList.remove('expanded');
                        if (summary) {
                            summary.style.display = 'block';
                            setTimeout(() => {
                                summary.style.opacity = '1';
                            }, 300);
                        }
                    } else {
                        content.classList.add('expanded');
                        this.textContent = '‚àí';
                        card.classList.remove('collapsed');
                        card.classList.add('expanded');
                        if (summary) {
                            summary.style.opacity = '0';
                            setTimeout(() => {
                                summary.style.display = 'none';
                            }, 300);
                        }
                        
                        // Smooth scroll to card on mobile
                        if (window.innerWidth <= 768) {
                            setTimeout(() => {
                                card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }, 100);
                        }
                    }
                });
            });
            
            // Expand first card on load
            if (cards.length > 0) {
                const firstCard = cards[0];
                const firstContent = firstCard.querySelector('.collapsible-content');
                const firstToggle = firstCard.querySelector('.collapsible-toggle');
                const firstSummary = firstCard.querySelector('.section-summary');
                
                firstContent.classList.add('expanded');
                firstToggle.textContent = '‚àí';
                firstCard.classList.remove('collapsed');
                firstCard.classList.add('expanded');
                if (firstSummary) {
                    firstSummary.style.display = 'none';
                }
            }
        });

        // Interactive Minnesota Map
        function createMinnesotaMap() {
            const mapContainer = document.getElementById('minnesotaMap');
            
            // Create a simple SVG map representation
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('width', '1200');
            svg.setAttribute('height', '800');
            svg.setAttribute('viewBox', '0 0 1200 800');
            
            // Minnesota outline (simplified)
            const minnesotaPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            minnesotaPath.setAttribute('d', 'M200,100 L400,150 L600,200 L800,250 L1000,300 L1100,400 L1000,500 L800,600 L600,650 L400,700 L200,750 L100,600 L150,400 L200,100 Z');
            minnesotaPath.setAttribute('fill', 'rgba(58,0,82,0.3)');
            minnesotaPath.setAttribute('stroke', 'var(--primary)');
            minnesotaPath.setAttribute('stroke-width', '2');
            svg.appendChild(minnesotaPath);
            
            // Major cities markers
            const cities = [
                { name: 'Minneapolis', x: 550, y: 350, color: 'var(--accent1)' },
                { name: 'St. Paul', x: 600, y: 380, color: 'var(--accent2)' },
                { name: 'Duluth', x: 850, y: 200, color: 'var(--accent3)' },
                { name: 'Rochester', x: 650, y: 550, color: 'var(--accent4)' },
                { name: 'St. Cloud', x: 500, y: 250, color: 'var(--accent5)' }
            ];
            
            cities.forEach(city => {
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', city.x);
                circle.setAttribute('cy', city.y);
                circle.setAttribute('r', '8');
                circle.setAttribute('fill', city.color);
                circle.setAttribute('stroke', '#fff');
                circle.setAttribute('stroke-width', '2');
                circle.setAttribute('class', 'map-marker');
                circle.setAttribute('data-label', city.name);
                
                // Add pulsing animation
                circle.style.animation = 'pulse 2s infinite';
                
                circle.addEventListener('click', () => {
                    showCityResources(city.name);
                });
                
                svg.appendChild(circle);
            });
            
            mapContainer.appendChild(svg);
            
            // Add pan/zoom functionality
            let scale = 1;
            let panX = 0;
            let panY = 0;
            let isDragging = false;
            let startX, startY;
            
            const mapWrapper = document.getElementById('mapWrapper');
            
            mapWrapper.addEventListener('mousedown', startDrag);
            mapWrapper.addEventListener('touchstart', startDrag);
            mapWrapper.addEventListener('wheel', handleZoom);
            
            function startDrag(e) {
                isDragging = true;
                startX = e.clientX || e.touches[0].clientX;
                startY = e.clientY || e.touches[0].clientY;
                mapWrapper.style.cursor = 'grabbing';
                
                document.addEventListener('mousemove', drag);
                document.addEventListener('touchmove', drag);
                document.addEventListener('mouseup', stopDrag);
                document.addEventListener('touchend', stopDrag);
            }
            
            function drag(e) {
                if (!isDragging) return;
                e.preventDefault();
                
                const x = e.clientX || e.touches[0].clientX;
                const y = e.clientY || e.touches[0].clientY;
                
                const dx = x - startX;
                const dy = y - startY;
                
                panX += dx;
                panY += dy;
                
                svg.style.transform = `translate(${panX}px, ${panY}px) scale(${scale})`;
                
                startX = x;
                startY = y;
            }
            
            function stopDrag() {
                isDragging = false;
                mapWrapper.style.cursor = 'grab';
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('touchmove', drag);
                document.removeEventListener('mouseup', stopDrag);
                document.removeEventListener('touchend', stopDrag);
            }
            
            function handleZoom(e) {
                e.preventDefault();
                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                scale = Math.max(0.5, Math.min(3, scale * delta));
                svg.style.transform = `translate(${panX}px, ${panY}px) scale(${scale})`;
            }
            
            // Zoom controls
            window.zoomIn = function() {
                scale = Math.min(3, scale * 1.2);
                svg.style.transform = `translate(${panX}px, ${panY}px) scale(${scale})`;
            };
            
            window.zoomOut = function() {
                scale = Math.max(0.5, scale * 0.8);
                svg.style.transform = `translate(${panX}px, ${panY}px) scale(${scale})`;
            };
            
            window.resetMap = function() {
                scale = 1;
                panX = 0;
                panY = 0;
                svg.style.transform = `translate(0, 0) scale(1)`;
            };
        }

        // County resources
        function showCountyResources(county) {
            document.querySelectorAll('.county-resources').forEach(el => {
                el.classList.remove('active');
            });
            document.querySelectorAll('.county-tab').forEach(el => {
                el.classList.remove('active');
            });
            document.getElementById(`${county}-resources`).classList.add('active');
            event.target.classList.add('active');
        }
        
        function showModalCounty(county) {
            document.querySelectorAll('.county-resources').forEach(el => {
                el.classList.remove('active');
            });
            document.querySelectorAll('.county-tab').forEach(el => {
                el.classList.remove('active');
            });
            document.getElementById(`modal-${county}`).classList.add('active');
            event.target.classList.add('active');
        }
        
        function showCityResources(city) {
            alert(`Resources for ${city}:\n\n‚Ä¢ Legal Aid Services\n‚Ä¢ Community Centers\n‚Ä¢ Emergency Contacts\n\nVisit our main resources page for detailed information.`);
        }

        // Search functionality
        const searchContent = [
            { title: "Immigrant Rights", category: "Rights", content: "Know your rights during encounters with law enforcement or ICE. ACLU resources, printable wallet cards, multilingual guides." },
            { title: "Legal Support", category: "Legal", content: "Free and low-cost legal help in Minnesota. ILCM detention line, Advocates for Human Rights, legal aid organizations." },
            { title: "Protest Safety", category: "Safety", content: "Your rights when protesting in Minnesota. Right to record, remain silent, National Lawyers Guild hotline." },
            { title: "Digital Safety", category: "Privacy", content: "Protect your privacy during events. Strong passcodes, location services, encrypted messaging, phone rights." },
            { title: "Emergency Contacts", category: "Emergency", content: "24/7 emergency and legal support hotlines. ILCM, CAIR-MN, refugee helpline, crisis support." },
            { title: "Printable Resources", category: "Tools", content: "Download and print resources for offline use. Wallet cards, PDF guides, one-pagers in multiple languages." }
        ];

        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const results = document.getElementById('searchResults');
            
            results.innerHTML = '';
            
            if (query.length < 2) {
                results.style.display = 'none';
                return;
            }
            
            const matches = searchContent.filter(item => 
                item.title.toLowerCase().includes(query) || 
                item.content.toLowerCase().includes(query) ||
                item.category.toLowerCase().includes(query)
            );
            
            if (matches.length > 0) {
                const ul = document.createElement('ul');
                matches.forEach(item => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span class="icon">${getIconForCategory(item.category)}</span>
                        <div>
                            <strong>${item.title}</strong><br>
                            <small>${item.content.substring(0, 70)}...</small>
                        </div>
                        <span class="category">${item.category}</span>
                    `;
                    li.onclick = () => {
                        document.getElementById('searchInput').value = '';
                        results.style.display = 'none';
                        document.getElementById(item.title.toLowerCase().replace(' ', '-')).scrollIntoView({ behavior: 'smooth' });
                    };
                    ul.appendChild(li);
                });
                results.appendChild(ul);
                results.style.display = 'block';
            } else {
                results.innerHTML = '<div style="padding: 12px">No results found</div>';
                results.style.display = 'block';
            }
        }
        
        function getIconForCategory(category) {
            switch(category) {
                case 'Rights': return 'üõÇ';
                case 'Legal': return '‚öñÔ∏è';
                case 'Safety': return '‚úä';
                case 'Privacy': return 'üì±';
                case 'Emergency': return 'üö®';
                case 'Tools': return 'üñ®Ô∏è';
                default: return 'üìÑ';
            }
        }
        
        document.getElementById('searchInput').addEventListener('input', performSearch);
        document.getElementById('searchInput').addEventListener('focus', performSearch);
        
        document.addEventListener('click', e => {
            if (!e.target.closest('.search-container')) {
                document.getElementById('searchResults').style.display = 'none';
            }
        });

        // Translation functionality
        document.getElementById('translateBtn').addEventListener('click', () => {
            const lang = document.getElementById('languageSelect').value;
            const langNames = {
                'en': 'English',
                'es': 'Spanish',
                'so': 'Somali',
                'hmn': 'Hmong',
                'ar': 'Arabic'
            };
            
            alert(`Translation to ${langNames[lang]} would be activated here.\n\nIn production, this would connect to Google Translate API or similar service.`);
            
            // Visual feedback
            const btn = document.getElementById('translateBtn');
            btn.innerHTML = 'üîÅ Translating...';
            btn.style.background = 'rgba(0,199,150,0.3)';
            
            setTimeout(() => {
                btn.innerHTML = `üåê Translated to ${langNames[lang]}`;
                setTimeout(() => {
                    btn.innerHTML = 'üåê Translate';
                    btn.style.background = '';
                }, 2000);
            }, 1000);
        });

        // Emergency modal
        function showEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'flex';
        }
        
        function closeEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'none';
        }
        
        window.addEventListener('click', e => {
            if (e.target === document.getElementById('emergencyModal')) {
                closeEmergencyModal();
            }
        });
        
        window.addEventListener('keydown', e => {
            if (e.key === 'Escape') {
                closeEmergencyModal();
            }
        });

        // Scroll to top button
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        
        window.addEventListener('scroll', () => {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                scrollTopBtn.style.display = 'block';
            } else {
                scrollTopBtn.style.display = 'none';
            }
        });
        
        scrollTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Print functionality
        function printPage() {
            const printContent = document.querySelector('.sections-grid').innerHTML;
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Know Your Rights - Minnesota Resources</title>
                    <style>
                        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; }
                        h2 { color: #333; border-bottom: 2px solid #00f7e0; padding-bottom: 5px; }
                        .resource-item { margin: 15px 0; padding: 10px; border-left: 3px solid #00f7e0; background: #f5f5f5; }
                        .emergency { color: #ff4444; font-weight: bold; }
                        @media print {
                            .no-print { display: none; }
                            a::after { content: " (" attr(href) ")"; }
                        }
                    </style>
                </head>
                <body>
                    <h1>Know Your Rights - Minnesota Resources</h1>
                    <p><strong>Generated:</strong> ${new Date().toLocaleDateString()}</p>
                    <div>${printContent}</div>
                    <div class="emergency">
                        <h3>üö® Emergency Contacts:</h3>
                        <p>ILCM Detention Line: (651) 641-1011</p>
                        <p>CAIR-MN Legal: (612) 206-3360</p>
                        <p>MN Refugee Helpline: 1-800-814-4806</p>
                    </div>
                    <p style="margin-top: 30px; font-size: 12px; color: #666;">
                        Source: PLURderapolis.org - Community Harm Reduction
                    </p>
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => printWindow.print(), 500);
        }

        function generateShareableGuide() {
            const data = {
                title: "Know Your Rights - Minnesota Resources",
                date: new Date().toISOString(),
                resources: [
                    "ILCM Detention: (651) 641-1011",
                    "CAIR-MN Legal: (612) 206-3360",
                    "MN Refugee Helpline: 1-800-814-4806",
                    "ACLU Rights: aclu-mn.org",
                    "Printable Cards: aclu-mn.org/wallet-cards"
                ]
            };
            
            const json = JSON.stringify(data, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mn-rights-resources.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('Resources exported as JSON file! Share this file with others who might need it.');
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            createMinnesotaMap();
            
            // Set current year in footer if needed
            document.querySelector('footer p').innerHTML = document.querySelector('footer p').innerHTML.replace('2024', new Date().getFullYear());
            
            // Auto-hide mobile HUD on desktop
            if (window.innerWidth >= 1024) {
                document.querySelector('.mobile-hud').style.display = 'none';
            }
            
            // Update window resize
            window.addEventListener('resize', () => {
                if (window.innerWidth >= 1024) {
                    document.querySelector('.mobile-hud').style.display = 'none';
                } else {
                    document.querySelector('.mobile-hud').style.display = 'flex';
                }
            });
        });
    </script>
</body>
</html>
