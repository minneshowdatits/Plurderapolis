<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RX + Party Drug Combos | PLURderapolis</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #8B5FBF;
      --primary-dark: #6A3093;
      --primary-light: #A47CC6;
      --secondary: #00D0FF;
      --secondary-dark: #00A3CC;
      --accent: #FF00AA;
      --accent-light: #FF4DC7;
      --bg: #0F0F23;
      --card: #1A1A3A;
      --card-light: #25254D;
      --text: #F0E6FF;
      --text-muted: #B8B5C9;
      --danger: #FF2A6D;
      --warning: #FFCC00;
      --safe: #00FFAA;
      --border: #34294F;
      --shadow: 0 4px 20px rgba(139, 95, 191, 0.15);
      --glow: 0 0 15px rgba(139, 95, 191, 0.5);
      --risk-high: #FF2A6D;
      --risk-medium: #FFCC00;
      --risk-low: #00FFAA;
      --risk-unknown: #A355FF;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Open Sans', sans-serif;
      line-height: 1.6;
      padding: 0;
      margin: 0;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(139, 95, 191, 0.15) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(0, 208, 255, 0.1) 0%, transparent 25%),
        linear-gradient(135deg, #0F0F23 0%, #1A1A3A 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }
    
    /* Header */
    header {
      background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 50%, var(--primary-light) 100%);
      padding: 1.5rem;
      border-radius: 0 0 20px 20px;
      box-shadow: var(--shadow);
      margin-bottom: 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--secondary), var(--primary-light));
      animation: headerShine 3s infinite;
    }
    
    @keyframes headerShine {
      0% { background-position: -100% 0; }
      100% { background-position: 200% 0; }
    }
    
    .logo {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.5rem;
      font-weight: 800;
      background: linear-gradient(45deg, #FFFFFF, var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 0.5rem;
      position: relative;
      display: inline-block;
      text-shadow: 0 0 10px rgba(0, 208, 255, 0.3);
    }
    
    .logo::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(45deg, var(--secondary), var(--accent));
      transition: width 0.5s ease;
    }
    
    .logo:hover::after {
      width: 100%;
    }
    
    .tagline {
      color: rgba(255, 255, 255, 0.8);
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
      font-weight: 500;
    }
    
    /* Mobile Hamburger Menu */
    .mobile-menu-btn {
      display: none;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: var(--text);
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: all 0.3s;
      backdrop-filter: blur(5px);
    }
    
    .mobile-menu-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.05);
    }
    
    /* Navigation */
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-bottom: 1.5rem;
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.8rem 1.5rem;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      border: none;
      border-radius: 50px;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      font-family: 'Montserrat', sans-serif;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
    
    .btn:hover::before {
      left: 100%;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(139, 95, 191, 0.4);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .btn-secondary {
      background: rgba(139, 95, 191, 0.2);
      border: 1px solid var(--primary);
      backdrop-filter: blur(5px);
    }
    
    .btn-interaction {
      background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
      padding: 1.2rem 2rem;
      font-size: 1.2rem;
      margin: 1.5rem auto;
      display: block;
      width: fit-content;
      border: none;
      border-radius: 50px;
      color: white;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(139, 95, 191, 0.4);
      text-align: center;
      font-family: 'Montserrat', sans-serif;
    }
    
    .btn-interaction:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(139, 95, 191, 0.6);
      background: linear-gradient(135deg, var(--accent-light) 0%, var(--primary-light) 100%);
    }
    
    /* Content Sections */
    .section {
      background: var(--card);
      border-radius: 16px;
      padding: 1.8rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      scroll-margin-top: 20px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(to bottom, var(--primary), var(--secondary));
      opacity: 0.7;
    }
    
    .section:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(139, 95, 191, 0.25);
    }
    
    .section-title {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.6rem;
      margin-bottom: 1.5rem;
      color: var(--secondary);
      display: flex;
      align-items: center;
      gap: 0.8rem;
      cursor: pointer;
      justify-content: space-between;
      transition: color 0.3s ease;
      padding-right: 2rem;
    }
    
    .section-title:hover {
      color: var(--accent);
    }
    
    .section-title::after {
      content: '\f078';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      font-size: 1.2rem;
      transition: transform 0.3s ease;
    }
    
    .section-title.active::after {
      transform: rotate(180deg);
    }
    
    .section-content {
      overflow: hidden;
      max-height: 0;
      transition: max-height 0.5s ease;
    }
    
    .section-content.active {
      max-height: 5000px;
    }
    
    /* Risk Level Indicators */
    .risk-indicator {
      display: inline-block;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-left: 0.5rem;
      animation: pulse 2s infinite;
      font-family: 'Montserrat', sans-serif;
    }
    
    .risk-high {
      background-color: var(--risk-high);
      color: white;
      box-shadow: 0 0 10px rgba(255, 42, 109, 0.3);
    }
    
    .risk-medium {
      background-color: var(--risk-medium);
      color: #333;
      box-shadow: 0 0 10px rgba(255, 204, 0, 0.3);
    }
    
    .risk-low {
      background-color: var(--risk-low);
      color: #333;
      box-shadow: 0 0 10px rgba(0, 255, 170, 0.3);
    }
    
    .risk-unknown {
      background-color: var(--risk-unknown);
      color: white;
      box-shadow: 0 0 10px rgba(163, 85, 255, 0.3);
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    /* Combo Cards */
    .combo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.2rem;
      margin-top: 1.5rem;
    }
    
    .combo-card {
      background: var(--card-light);
      border-radius: 12px;
      padding: 1.2rem;
      border-left: 4px solid var(--primary);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    
    .combo-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(139, 95, 191, 0.1) 0%, transparent 50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .combo-card:hover::before {
      opacity: 1;
    }
    
    .combo-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(139, 95, 191, 0.3);
    }
    
    .combo-card h3 {
      font-size: 1.2rem;
      margin-bottom: 0.8rem;
      color: var(--accent);
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-family: 'Montserrat', sans-serif;
    }
    
    .combo-card ul {
      padding-left: 1.2rem;
      color: var(--text-muted);
    }
    
    .combo-card li {
      margin-bottom: 0.5rem;
      position: relative;
      transition: color 0.3s ease;
    }
    
    .combo-card li:hover {
      color: var(--text);
    }
    
    /* Info Cards */
    .info-cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    
    .info-card {
      background: var(--card-light);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid var(--border);
      transition: all 0.3s ease;
      box-shadow: var(--shadow);
    }
    
    .info-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(139, 95, 191, 0.3);
    }
    
    .info-card h3 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: var(--secondary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-family: 'Montserrat', sans-serif;
    }
    
    /* Warning boxes */
    .warning-box {
      background: rgba(255, 42, 109, 0.15);
      border: 1px solid var(--danger);
      border-radius: 12px;
      padding: 1.2rem;
      margin: 1rem 0;
      position: relative;
      overflow: hidden;
      animation: subtlePulse 3s infinite;
      box-shadow: 0 0 10px rgba(255, 42, 109, 0.1);
    }
    
    .warning-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: var(--danger);
    }
    
    .tip-box {
      background: rgba(0, 255, 170, 0.15);
      border: 1px solid var(--safe);
      border-radius: 12px;
      padding: 1.2rem;
      margin: 1rem 0;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 255, 170, 0.1);
    }
    
    .tip-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: var(--safe);
    }
    
    @keyframes subtlePulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 42, 109, 0.2); }
      70% { box-shadow: 0 0 0 10px rgba(255, 42, 109, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 42, 109, 0); }
    }
    
    /* Page Map Navigation */
    .page-map {
      background: var(--card);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      position: relative;
    }
    
    .page-map.collapsed .map-links {
      display: none;
    }
    
    .page-map h2 {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.5rem;
      margin-bottom: 1.2rem;
      color: var(--secondary);
      display: flex;
      align-items: center;
      gap: 0.8rem;
      cursor: pointer;
    }
    
    .map-links {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1rem;
      transition: all 0.3s ease;
    }
    
    .map-link {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      padding: 0.8rem;
      background: var(--card-light);
      border-radius: 10px;
      color: var(--text);
      text-decoration: none;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border: 1px solid transparent;
    }
    
    .map-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(139, 95, 191, 0.2), transparent);
      transition: left 0.5s;
    }
    
    .map-link:hover::before {
      left: 100%;
    }
    
    .map-link:hover {
      background: rgba(139, 95, 191, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 3px 10px rgba(139, 95, 191, 0.2);
      border-color: var(--primary);
    }
    
    .map-link i {
      color: var(--secondary);
      font-size: 1.2rem;
      transition: transform 0.3s ease;
    }
    
    .map-link:hover i {
      transform: scale(1.2);
    }
    
    /* Footer */
    footer {
      text-align: center;
      padding: 2rem 1rem;
      margin-top: 3rem;
      color: var(--text-muted);
      border-top: 1px solid var(--border);
      background: var(--card);
      border-radius: 20px 20px 0 0;
    }
    
    /* Back to top button */
    .back-to-top {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      box-shadow: var(--shadow);
      opacity: 0;
      transition: opacity 0.3s, transform 0.3s;
      z-index: 1000;
      transform: translateY(20px);
      font-size: 1.2rem;
    }
    
    .back-to-top.visible {
      opacity: 0.8;
      transform: translateY(0);
    }
    
    .back-to-top:hover {
      opacity: 1;
      transform: translateY(-5px);
      box-shadow: var(--glow);
    }
    
    /* Share buttons */
    .share-section {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin: 2rem 0;
    }
    
    .share-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.7rem 1.5rem;
      background: rgba(139, 95, 191, 0.2);
      color: var(--text);
      border: 1px solid var(--primary);
      border-radius: 50px;
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
    }
    
    .share-btn:hover {
      background: rgba(139, 95, 191, 0.4);
      transform: translateY(-2px);
      box-shadow: 0 3px 10px rgba(139, 95, 191, 0.2);
    }
    
    /* Progress Bar */
    .reading-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), var(--secondary), var(--primary));
      z-index: 1001;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px rgba(139, 95, 191, 0.5);
    }
    
    /* Quick Risk Reference */
    .risk-reference {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 1.5rem 0;
      justify-content: center;
    }
    
    .risk-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 600;
      font-family: 'Montserrat', sans-serif;
    }
    
    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 10, 26, 0.85);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
    }
    
    .modal.active {
      display: flex;
    }
    
    .modal-content {
      background: var(--card);
      border-radius: 16px;
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      position: relative;
      animation: modalFadeIn 0.3s ease;
    }
    
    @keyframes modalFadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
    }
    
    .modal-title {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.5rem;
      color: var(--secondary);
    }
    
    .close-modal {
      background: none;
      border: none;
      color: var(--text);
      font-size: 1.5rem;
      cursor: pointer;
      transition: color 0.3s;
    }
    
    .close-modal:hover {
      color: var(--accent);
    }
    
    .share-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .share-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem;
      background: var(--card-light);
      border: 1px solid var(--border);
      border-radius: 10px;
      color: var(--text);
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .share-option:hover {
      background: rgba(139, 95, 191, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 3px 10px rgba(139, 95, 191, 0.2);
    }
    
    .share-option i {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    
    .share-twitter { color: #1DA1F2; }
    .share-facebook { color: #4267B2; }
    .share-whatsapp { color: #25D366; }
    .share-telegram { color: #0088cc; }
    .share-email { color: var(--accent); }
    
    .copy-link {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    
    .copy-link input {
      flex: 1;
      padding: 0.8rem;
      background: var(--card-light);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-family: 'Open Sans', sans-serif;
    }
    
    .copy-link button {
      padding: 0.8rem 1.2rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
    }
    
    .copy-link button:hover {
      background: var(--primary-dark);
    }
    
    /* Save options */
    .save-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    
    .save-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      padding: 1.5rem 1rem;
      background: var(--card-light);
      border: 1px solid var(--border);
      border-radius: 10px;
      color: var(--text);
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .save-option:hover {
      background: rgba(139, 95, 191, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 3px 10px rgba(139, 95, 191, 0.2);
    }
    
    .save-option i {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    
    /* Toast notification */
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--primary);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 50px;
      box-shadow: var(--shadow);
      z-index: 3000;
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .toast.show {
      transform: translateX(-50%) translateY(0);
    }
    
    /* Mobile adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 0.8rem;
      }
      
      .logo {
        font-size: 2rem;
      }
      
      .combo-grid,
      .info-cards,
      .map-links {
        grid-template-columns: 1fr;
      }
      
      .section {
        padding: 1.2rem;
        margin-bottom: 1.5rem;
      }
      
      .nav-buttons {
        flex-direction: column;
        gap: 0.8rem;
      }
      
      .btn {
        justify-content: center;
        padding: 1rem 1.5rem;
        font-size: 1.1rem;
      }
      
      .section-title {
        font-size: 1.4rem;
      }
      
      .btn-interaction {
        padding: 1rem 1.5rem;
        font-size: 1.1rem;
        width: 100%;
      }
      
      .mobile-menu-btn {
        display: block;
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
      }
      
      .share-section {
        flex-direction: column;
        align-items: center;
      }
      
      .share-btn {
        width: 100%;
        justify-content: center;
      }
      
      .risk-reference {
        flex-direction: column;
        align-items: center;
      }
      
      .risk-item {
        width: 100%;
        justify-content: center;
      }
      
      .share-options,
      .save-options {
        grid-template-columns: 1fr;
      }
      
      /* Larger touch targets for mobile */
      .map-link,
      .combo-card,
      .info-card {
        padding: 1.2rem;
      }
      
      .btn, .share-btn {
        min-height: 44px;
      }
    }
    
    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .animate {
      animation: fadeIn 0.6s ease forwards;
    }
    
    .stagger-animate > * {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.5s ease forwards;
    }
    
    .stagger-animate > *:nth-child(1) { animation-delay: 0.1s; }
    .stagger-animate > *:nth-child(2) { animation-delay: 0.2s; }
    .stagger-animate > *:nth-child(3) { animation-delay: 0.3s; }
    .stagger-animate > *:nth-child(4) { animation-delay: 0.4s; }
    .stagger-animate > *:nth-child(5) { animation-delay: 0.5s; }
    
    /* Print styles */
    @media print {
      .nav-buttons,
      .back-to-top,
      .share-section,
      .page-map,
      .reading-progress,
      .risk-reference,
      .modal {
        display: none;
      }
      
      body {
        background: white;
        color: black;
      }
      
      .section {
        border: 1px solid #ddd;
        box-shadow: none;
        page-break-inside: avoid;
      }
      
      .section-content {
        max-height: none !important;
        display: block !important;
      }
      
      .risk-indicator {
        background: #f0f0f0 !important;
        color: #333 !important;
        animation: none;
      }
    }
  </style>
</head>
<body>
  <div class="reading-progress" id="readingProgress"></div>
  
  <!-- Share Modal -->
  <div class="modal" id="shareModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title"><i class="fas fa-share-alt"></i> Share This Guide</h2>
        <button class="close-modal" id="closeShareModal">&times;</button>
      </div>
      <div class="share-options">
        <div class="share-option share-twitter" data-platform="twitter">
          <i class="fab fa-twitter"></i>
          <span>Twitter</span>
        </div>
        <div class="share-option share-facebook" data-platform="facebook">
          <i class="fab fa-facebook"></i>
          <span>Facebook</span>
        </div>
        <div class="share-option share-whatsapp" data-platform="whatsapp">
          <i class="fab fa-whatsapp"></i>
          <span>WhatsApp</span>
        </div>
        <div class="share-option share-telegram" data-platform="telegram">
          <i class="fab fa-telegram"></i>
          <span>Telegram</span>
        </div>
        <div class="share-option share-email" data-platform="email">
          <i class="fas fa-envelope"></i>
          <span>Email</span>
        </div>
      </div>
      <div class="copy-link">
        <input type="text" id="shareableLink" value="https://plurderapolis.org/drug-interaction-guide" readonly>
        <button id="copyLinkBtn">Copy</button>
      </div>
    </div>
  </div>
  
  <!-- Save Modal -->
  <div class="modal" id="saveModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title"><i class="fas fa-save"></i> Save This Guide</h2>
        <button class="close-modal" id="closeSaveModal">&times;</button>
      </div>
      <div class="save-options">
        <div class="save-option" data-format="pdf">
          <i class="fas fa-file-pdf"></i>
          <span>Save as PDF</span>
          <small>Best for printing</small>
        </div>
        <div class="save-option" data-format="html">
          <i class="fas fa-file-code"></i>
          <span>Save as HTML</span>
          <small>Offline viewing</small>
        </div>
        <div class="save-option" data-format="image">
          <i class="fas fa-file-image"></i>
          <span>Save as Image</span>
          <small>Quick sharing</small>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastMessage">Action completed successfully!</span>
  </div>
  
  <div class="container">
    <header>
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
      </button>
      
      <h1 class="logo">PLURderapolis</h1>
      <p class="tagline">Harm Reduction & Community Safety</p>
      
      <div class="nav-buttons">
        <a href="javascript:history.back()" class="btn">
          <i class="fas fa-arrow-left"></i> Back
        </a>
        <button id="save-btn" class="btn btn-secondary">
          <i class="fas fa-save"></i> Save Guide
        </button>
        <button id="share-btn" class="btn">
          <i class="fas fa-share-alt"></i> Share Guide
        </button>
      </div>
    </header>

    <main>
      <!-- Risk Level Reference -->
      <section class="section animate">
        <h2 class="section-title"><i class="fas fa-exclamation-triangle"></i> Risk Level Reference</h2>
        <div class="section-content active">
          <div class="risk-reference">
            <div class="risk-item risk-high">High Risk</div>
            <div class="risk-item risk-medium">Medium Risk</div>
            <div class="risk-item risk-low">Low Risk</div>
            <div class="risk-item risk-unknown">Unknown Risk</div>
          </div>
        </div>
      </section>

      <!-- Page Map Navigation -->
      <section class="page-map animate" id="pageMap">
        <h2 class="section-title"><i class="fas fa-map"></i> Page Navigation</h2>
        <div class="map-links stagger-animate">
          <a href="#rx-party" class="map-link">
            <i class="fas fa-pills"></i> RX + Party Drug Combos
          </a>
          <a href="#hormones" class="map-link">
            <i class="fas fa-heart"></i> Hormones & Birth Control
          </a>
          <a href="#mental-health" class="map-link">
            <i class="fas fa-brain"></i> Mental Health Meds
          </a>
          <a href="#ssri" class="map-link">
            <i class="fas fa-capsules"></i> SSRI/SNRI Combos
          </a>
          <a href="#wellbutrin" class="map-link">
            <i class="fas fa-bolt"></i> Wellbutrin + Stimulants
          </a>
          <a href="#benzos" class="map-link">
            <i class="fas fa-bed"></i> Benzos + Depressants
          </a>
          <a href="#adhd" class="map-link">
            <i class="fas fa-brain"></i> ADHD Meds + Stimulants
          </a>
          <a href="#antipsychotics" class="map-link">
            <i class="fas fa-capsules"></i> Antipsychotics + Mood Stabilizers
          </a>
          <a href="#sleep-aids" class="map-link">
            <i class="fas fa-bed"></i> Sleep Aids & Other Meds
          </a>
          <a href="#recreational" class="map-link">
            <i class="fas fa-syringe"></i> Recreational Combos
          </a>
          <a href="#golden-rules" class="map-link">
            <i class="fas fa-key"></i> Golden Rules
          </a>
          <a href="#interaction-tool" class="map-link">
            <i class="fas fa-search"></i> Interaction Checker
          </a>
        </div>
      </section>

      <!-- RX + Party Drug Combos -->
      <section id="rx-party" class="section animate">
        <h2 class="section-title"><i class="fas fa-pills"></i> RX + Party Drug Combos <span class="risk-indicator risk-high">High Risk</span></h2>
        <div class="section-content">
          <p>Understanding polydrug risks that aren't discussed enough in the community.</p>
          
          <div class="combo-grid stagger-animate">
            <div class="combo-card">
              <h3><i class="fas fa-capsules"></i> SSRI/SNRI + Party Drugs <span class="risk-indicator risk-high">High Risk</span></h3>
              <ul>
                <li><strong>+ MDMA/Molly:</strong> Dulls the high → redosing → serotonin syndrome</li>
                <li><strong>+ LSD/Shrooms:</strong> Flat visuals or erratic tripping</li>
                <li><strong>+ Cocaine/Adderall:</strong> Anxiety spike, heart risk</li>
              </ul>
            </div>
            
            <div class="combo-card">
              <h3><i class="fas fa-bolt"></i> Wellbutrin + Stimulants <span class="risk-indicator risk-high">High Risk</span></h3>
              <ul>
                <li><strong>+ MDMA/Coke:</strong> Lowers seizure threshold</li>
                <li><strong>+ Alcohol:</strong> Blackouts, impulsivity, seizures</li>
              </ul>
            </div>
            
            <div class="combo-card">
              <h3><i class="fas fa-bed"></i> Benzos + Depressants <span class="risk-indicator risk-high">High Risk</span></h3>
              <ul>
                <li><strong>+ Opiates:</strong> Breathing stops → fatal risk</li>
                <li><strong>+ Alcohol:</strong> Respiratory depression</li>
                <li><strong>+ K/GHB:</strong> Memory loss, vomit risk</li>
              </ul>
            </div>
            
            <div class="combo-card">
              <h3><i class="fas fa-brain"></i> ADHD Meds + Stimulants <span class="risk-indicator risk-medium">Medium Risk</span></h3>
              <ul>
                <li><strong>+ MDMA/Coke/Meth:</strong> Overheating, heart stress</li>
                <li><strong>+ Alcohol:</strong> Blackouts, impaired judgment</li>
                <li><strong>+ Psychedelics:</strong> Heightened confusion</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Benzos Section -->
      <section id="benzos" class="section animate">
        <h2 class="section-title"><i class="fas fa-bed"></i> Benzos (Xanax, Klonopin, Ativan) + Depressants <span class="risk-indicator risk-high">High Risk</span></h2>
        <div class="section-content">
          <p>(Opiates, Alcohol, Ketamine, GHB)</p>
          
          <div class="combo-grid stagger-animate">
            <div class="combo-card">
              <h3><i class="fas fa-pills"></i> + Opiates (Percocet, Fentanyl, Heroin) <span class="risk-indicator risk-high">High Risk</span></h3>
              <ul>
                <li>One of the deadliest combos</li>
                <li>Slows or stops breathing</li>
                <li>You will not feel how high you are, until it's too late</li>
              </ul>
            </div>
            
            <div class="combo-card">
              <h3><i class="fas fa-wine-glass"></i> + Alcohol <span class="risk-indicator risk-high">High Risk</span></h3>
              <ul>
                <li>Common, normalized, but incredibly dangerous</li>
                <li>Both slow your nervous system</li>
                <li>Overdose while "just sleeping"</li>
              </ul>
            </div>
            
            <div class="combo-card">
              <h3><i class="fas fa-syringe"></i> + Ketamine or GHB <span class="risk-indicator risk-high">High Risk</span></h3>
              <ul>
                <li>Complete disassociation, memory loss</li>
                <li>Loss of control, high assault risk</li>
                <li>Can vomit while unconscious and choke</li>
              </ul>
            </div>
          </div>
          
          <div class="warning-box">
            <h4><i class="fas fa-skull"></i> Xanax + Alcohol</h4>
            <p>Two downers = one very real chance of never waking up. They depress your nervous system—together, they can stop your breathing in your sleep.</p>
            <ul>
              <li>Memory blackouts</li>
              <li>Respiratory depression</li>
              <li>High risk of death</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Golden Rules Section -->
      <section id="golden-rules" class="section animate">
        <h2 class="section-title"><i class="fas fa-key"></i> Golden Rules of Harm Reduction</h2>
        <div class="section-content active">
          <div class="tip-box">
            <h4><i class="fas fa-gem"></i> Essential Guidelines</h4>
            <ul>
              <li>Don't stack downers. (Xanax + alcohol = deadly)</li>
              <li>Don't stack uppers. (Adderall + coke = cardiac arrest)</li>
              <li>Psychedelics are not "just visuals"</li>
              <li>Hydrate smart, not excessive</li>
              <li>Always have a trusted friend nearby—especially if you're "fine"</li>
              <li>Just because it's prescribed doesn't mean it's safe to stack</li>
              <li>Many psych meds change how drugs work—sometimes muting, sometimes multiplying effects</li>
              <li>You can't "guess" your way through brain chemistry</li>
              <li>If you're on meds for mental health, your set is already shifted—don't mess with your setting</li>
            </ul>
          </div>
          
          <div class="warning-box">
            <h4><i class="fas fa-vial"></i> Unknown Substances</h4>
            <p>No matter how cool someone seems—if you didn't test it, you don't know what it is. Period.</p>
            <ul>
              <li>Use test kits</li>
              <li>Carry Narcan</li>
              <li>Never snort "just a little" mystery line</li>
            </ul>
          </div>
        </div>
      </section>

      <div class="share-section">
        <button id="share-btn-bottom" class="share-btn">
          <i class="fas fa-share-alt"></i> Share this Page
        </button>
        <button id="save-btn-bottom" class="share-btn">
          <i class="fas fa-save"></i> Save this Guide
        </button>
      </div>
    </main>

    <footer>
      <p><strong>Disclaimer:</strong> This information is for harm reduction purposes only and does not constitute medical advice. Combining substances always carries risks.</p>
      <p>© 2025 PLURderapolis • <i class="fas fa-heart"></i> Stay safe, stay informed</p>
    </footer>

    <a href="#" class="back-to-top">
      <i class="fas fa-arrow-up"></i>
    </a>
  </div>

  <script>
    // Enhanced toggle section function
    function toggleSection(element) {
      const content = element.nextElementSibling;
      element.classList.toggle('active');
      content.classList.toggle('active');
      
      // Add animation to content when opening
      if (content.classList.contains('active')) {
        content.querySelectorAll('.stagger-animate > *').forEach((el, index) => {
          el.style.animationDelay = `${index * 0.1}s`;
        });
      }
    }
    
    // Toggle page map collapse
    function togglePageMap() {
      const pageMap = document.getElementById('pageMap');
      pageMap.classList.toggle('collapsed');
    }
    
    // Modal functionality
    const shareModal = document.getElementById('shareModal');
    const saveModal = document.getElementById('saveModal');
    const toast = document.getElementById('toast');
    
    function openModal(modal) {
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal(modal) {
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }
    
    function showToast(message) {
      const toastMessage = document.getElementById('toastMessage');
      toastMessage.textContent = message;
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }
    
    // Share functionality
    function sharePage() {
      if (navigator.share) {
        navigator.share({
          title: 'PLURderapolis Polydrug Safety Guide',
          text: 'Check out this harm reduction resource about drug combinations and interactions',
          url: window.location.href
        })
        .catch(error => {
          console.log('Error sharing:', error);
        });
      } else {
        openModal(shareModal);
      }
    }
    
    // Copy link functionality
    function copyLink() {
      const linkInput = document.getElementById('shareableLink');
      linkInput.select();
      linkInput.setSelectionRange(0, 99999); // For mobile devices
      
      navigator.clipboard.writeText(linkInput.value)
        .then(() => {
          showToast('Link copied to clipboard!');
        })
        .catch(err => {
          console.error('Failed to copy: ', err);
          showToast('Failed to copy link');
        });
    }
    
    // Share to specific platforms
    function shareToPlatform(platform) {
      const url = encodeURIComponent(window.location.href);
      const title = encodeURIComponent('PLURderapolis Polydrug Safety Guide');
      const text = encodeURIComponent('Check out this harm reduction resource about drug combinations and interactions');
      
      let shareUrl;
      
      switch(platform) {
        case 'twitter':
          shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
          break;
        case 'facebook':
          shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
          break;
        case 'whatsapp':
          shareUrl = `https://wa.me/?text=${text}%20${url}`;
          break;
        case 'telegram':
          shareUrl = `https://t.me/share/url?url=${url}&text=${text}`;
          break;
        case 'email':
          shareUrl = `mailto:?subject=${title}&body=${text}%0A%0A${url}`;
          break;
        default:
          return;
      }
      
      window.open(shareUrl, '_blank');
      closeModal(shareModal);
    }
    
    // Save functionality
    function saveAsPDF() {
      window.print();
      closeModal(saveModal);
      showToast('Preparing PDF for download...');
    }
    
    function saveAsHTML() {
      const htmlContent = document.documentElement.outerHTML;
      const blob = new Blob([htmlContent], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'plurderapolis-drug-interaction-guide.html';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      closeModal(saveModal);
      showToast('HTML file downloaded!');
    }
    
    function saveAsImage() {
      html2canvas(document.body).then(canvas => {
        const link = document.createElement('a');
        link.download = 'plurderapolis-drug-interaction-guide.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        closeModal(saveModal);
        showToast('Image saved successfully!');
      }).catch(err => {
        console.error('Error generating image:', err);
        showToast('Error saving image');
      });
    }
    
    // Add click event listeners to all section titles
    document.addEventListener('DOMContentLoaded', function() {
      const sectionTitles = document.querySelectorAll('.section-title');
      sectionTitles.forEach(title => {
        title.addEventListener('click', function() {
          toggleSection(this);
        });
      });
      
      // Add click event to page map title
      const pageMapTitle = document.querySelector('#pageMap .section-title');
      if (pageMapTitle) {
        pageMapTitle.addEventListener('click', togglePageMap);
      }
      
      // Set initial state - close all sections on mobile, open on desktop
      if (window.innerWidth <= 768) {
        // Close all content sections on mobile
        const allSections = document.querySelectorAll('.section-content');
        allSections.forEach(section => {
          if (!section.closest('.section').id.includes('golden-rules') && 
              !section.closest('.section').querySelector('.risk-reference')) {
            section.classList.remove('active');
          }
        });
        
        const allTitles = document.querySelectorAll('.section-title');
        allTitles.forEach(title => {
          if (!title.closest('.section').id.includes('golden-rules') && 
              !title.closest('.section').querySelector('.risk-reference')) {
            title.classList.remove('active');
          }
        });
        
        // Collapse page map on mobile
        document.getElementById('pageMap').classList.add('collapsed');
      } else {
        // Open all sections on desktop
        const allSections = document.querySelectorAll('.section-content');
        allSections.forEach(section => {
          section.classList.add('active');
        });
        
        const allTitles = document.querySelectorAll('.section-title');
        allTitles.forEach(title => {
          title.classList.add('active');
        });
      }
      
      // Set up share buttons
      const shareButtons = document.querySelectorAll('#share-btn, #share-btn-bottom');
      shareButtons.forEach(button => {
        button.addEventListener('click', sharePage);
      });
      
      // Set up save buttons
      const saveButtons = document.querySelectorAll('#save-btn, #save-btn-bottom');
      saveButtons.forEach(button => {
        button.addEventListener('click', () => openModal(saveModal));
      });
      
      // Set up modal close buttons
      document.getElementById('closeShareModal').addEventListener('click', () => closeModal(shareModal));
      document.getElementById('closeSaveModal').addEventListener('click', () => closeModal(saveModal));
      
      // Close modals when clicking outside
      [shareModal, saveModal].forEach(modal => {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            closeModal(modal);
          }
        });
      });
      
      // Set up share platform buttons
      document.querySelectorAll('.share-option').forEach(option => {
        option.addEventListener('click', () => {
          const platform = option.getAttribute('data-platform');
          shareToPlatform(platform);
        });
      });
      
      // Set up copy link button
      document.getElementById('copyLinkBtn').addEventListener('click', copyLink);
      
      // Set up save format buttons
      document.querySelectorAll('.save-option').forEach(option => {
        option.addEventListener('click', () => {
          const format = option.getAttribute('data-format');
          switch(format) {
            case 'pdf':
              saveAsPDF();
              break;
            case 'html':
              saveAsHTML();
              break;
            case 'image':
              saveAsImage();
              break;
          }
        });
      });
      
      // Mobile menu button functionality
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', function() {
          const navButtons = document.querySelector('.nav-buttons');
          navButtons.classList.toggle('mobile-open');
        });
      }
    });

    // Back to top button with enhanced behavior
    const backToTopButton = document.querySelector('.back-to-top');
    
    window.addEventListener('scroll', () => {
      // Show/hide back to top button
      if (window.pageYOffset > 300) {
        backToTopButton.classList.add('visible');
      } else {
        backToTopButton.classList.remove('visible');
      }
      
      // Update reading progress
      const winHeight = window.innerHeight;
      const docHeight = document.documentElement.scrollHeight;
      const scrollTop = window.pageYOffset;
      const trackLength = docHeight - winHeight;
      const progress = Math.floor((scrollTop / trackLength) * 100);
      
      document.getElementById('readingProgress').style.width = progress + '%';
    });
    
    backToTopButton.addEventListener('click', (e) => {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Add enhanced animations when scrolling
    document.addEventListener('DOMContentLoaded', function() {
      const animatedElements = document.querySelectorAll('.animate');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = 1;
            entry.target.style.transform = 'translateY(0)';
            
            // Add staggered animation to children if they have the class
            const staggerChildren = entry.target.querySelectorAll('.stagger-animate > *');
            if (staggerChildren.length > 0) {
              staggerChildren.forEach((child, index) => {
                child.style.animationDelay = `${index * 0.1}s`;
              });
            }
          }
        });
      }, { threshold: 0.1 });
      
      animatedElements.forEach(element => {
        element.style.opacity = 0;
        element.style.transform = 'translateY(20px)';
        element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        observer.observe(element);
      });
    });

    // Enhanced smooth scrolling for navigation
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;
        
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          // Open the section if it's closed
          const sectionTitle = targetElement.querySelector('.section-title');
          const sectionContent = targetElement.querySelector('.section-content');
          
          if (sectionTitle && sectionContent) {
            sectionTitle.classList.add('active');
            sectionContent.classList.add('active');
          }
          
          // Scroll to the element
          window.scrollTo({
            top: targetElement.offsetTop - 20,
            behavior: 'smooth'
          });
        }
      });
    });
    
    // Add keyboard navigation support
    document.addEventListener('keydown', function(e) {
      // ESC key to collapse all sections
      if (e.key === 'Escape') {
        const allSections = document.querySelectorAll('.section-content');
        const allTitles = document.querySelectorAll('.section-title');
        
        allSections.forEach(section => {
          section.classList.remove('active');
        });
        
        allTitles.forEach(title => {
          title.classList.remove('active');
        });
      }
    });
  </script>
  <!-- Include html2canvas for image saving functionality -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>
